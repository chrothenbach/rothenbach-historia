//tealium universal tag - utag.1 ut4.0.201708292202, Copyright 2017 Tealium.com Inc. All Rights Reserved.
try{(function(id,loader){var u={};utag.o[loader].sender[id]=u;if(utag===undefined){utag={};}if(utag.ut===undefined){utag.ut={};}if(utag.ut.loader===undefined){u.loader=function(o){var a,b,c,l;a=document;if(o.type==="iframe"){b=a.createElement("iframe");b.setAttribute("height","1");b.setAttribute("width","1");b.setAttribute("style","display:none");b.setAttribute("src",o.src);}else if(o.type==="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";b.src=o.src;}if(o.id){b.id=o.id;}if(typeof o.cb==="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb();},false);}else{b.onreadystatechange=function(){if(this.readyState==="complete"||this.readyState==="loaded"){this.onreadystatechange=null;o.cb();}};}}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l==="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}};}else{u.loader=utag.ut.loader;}
u.ev={'view':1};u.initialized=false;u.map={};u.extend=[];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){var c,d,e,f,i;u.data={};for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.data[e[f]]=b[d];}}}
}};utag.o[loader].loader.LOAD(id);})("1","ancestry.rootsweb");}catch(error){utag.DB(error);}
function beginAuction(){var setupAdSlot=function(gpt_name,container_id,div_id,w,h){console.log('Setting up ad slot: ',gpt_name,container_id,div_id,w,h);document.getElementById(container_id).innerHTML="<div id='"+div_id+"' style='width:"+w+"px; height:"+h+"px;'></div>";AdBridg.defineSlot(gpt_name,[w,h],div_id);adbslots.push(div_id);amznSlots.push({slotID:div_id,slotName:gpt_name,sizes:[[w,h]]});}
var discoverAndSetupAdSlots=function(){if(document.getElementById("CMSTestAndTargetContent")){var div=document.getElementById('CMSTestAndTargetContent');div.style.marginLeft='auto';div.style.marginRight='auto';div.style.width='728px';setupAdSlot('/4802/tgn.rootsweb.com/RW_728x90','CMSTestAndTargetContent','div-gpt-ad-1451979296255-2',728,90);}
if(document.getElementById("topSlot")){setupAdSlot('/4802/tgn.rootsweb.com/RW_728x90','topSlot','div-gpt-ad-1451979296255-2',728,90);}
if(document.getElementById("rightSlot")){setupAdSlot('/4802/tgn.rootsweb.com/RW_160x600','rightSlot','div-gpt-ad-1451979296255-0',160,600);}
if(document.getElementById("bottomRightSlot")){setupAdSlot('/4802/tgn.rootsweb.com/RW_300x250','bottomRightSlot','div-gpt-ad-1451979296255-1',300,250);}
if(document.getElementById("bottomSlot")){setupAdSlot('/4802/tgn.rootsweb.com/RW_728x90_btf','bottomSlot','div-gpt-ad-1457972092551-2',728,90);}
requestBids(amznSlots,bidTimeout);}
if(document.readyState!='loading'){discoverAndSetupAdSlots();}else if(document.addEventListener){document.addEventListener('readystatechange',function(){if(document.readyState!='loading'){document.removeEventListener("readystatechange",arguments.callee);discoverAndSetupAdSlots();}});}else if(document.attachEvent){document.attachEvent('onreadystatechange',function(){if(document.readyState!='loading'){document.detachEvent("onreadystatechange",arguments.callee);discoverAndSetupAdSlots();}});}
function requestBids(amznSlots,bidTimeout){console.log("requesting bids!");apstag.fetchBids({slots:amznSlots,timeout:bidTimeout},function(bids){console.log("amazon back!")
amznrdy=true;apstag.setDisplayBids();displayAdSlots();});AdBridg.serve();console.log("adbrdg back!")
adbrdy=true;displayAdSlots();}
function displayAdSlots(){if(!amznrdy){console.log('AdBridg ready; waiting on Amazon.');return;}
if(!adbrdy){console.log('Amazon ready; waiting on AdBridg.');return;}
console.log('Amazon and AdBridg ready -- ads are being displayed.');var customer=window.customer||{};if(customer['ancestry_ownership']!=null){googletag.pubads().setTargeting('ownership',customer['ancestry_ownership']);console.log('target: '+customer['ancestry_ownership']);}else{googletag.pubads().setTargeting('ownership','none');console.log('target: '+'none');}
if(customer['newspapers_visitor']==true){googletag.pubads().setTargeting('newspapers_ownership','true');console.log('newspapers: '+'true');}else{googletag.pubads().setTargeting('newspapers_ownership','none');console.log('newspapers: '+'none');}
if(customer['fold3_visitor']==true){googletag.pubads().setTargeting('fold3_ownership','true');console.log('fold3: '+'true');}else{googletag.pubads().setTargeting('fold3_ownership','none');console.log('fold3: '+'none');}
for(var i=0;i<adbslots.length;++i){AdBridg.display(adbslots[i]);}}}
var AdBridg=AdBridg||{cmd:[]};var amznrdy=false;var adbrdy=false;var adbslots=[];var amznSlots=[];var bidTimeout=2000;var googletag=googletag||{};googletag.cmd=googletag.cmd||[];AdBridg.cmd.push(beginAuction);!function(a9,a,p,s,t,A,g){if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r])}a[a9]={init:function(){q("i",arguments)},fetchBids:function(){q("f",arguments)},setDisplayBids:function(){},_Q:[]};A=p.createElement(s);A.async=!0;A.src=t;g=p.getElementsByTagName(s)[0];g.parentNode.insertBefore(A,g)}("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js");apstag.init({pubID:'3348',adServer:'googletag',bidTimeout:2e3});(function(){var a,s=document.getElementsByTagName("script")[0];a=document.createElement("script");a.type="text/javascript";a.async=true;a.src="//prod.adspsp.com/adb.5781260.min.js";s.parentNode.insertBefore(a,s);a.onerror=function(){if(AdBridg.exists){return;}
document.createElement('IMG').src='//adspsp.com/pt/5781260/3/1/?e=0';var dq=[],es;dq.process=function(){while(dq.length){googletag.display(dq.shift());}}
AdBridg.defineSlot=function(p,s,d){return googletag.defineSlot(p,s,d).addService(googletag.pubads());}
AdBridg.defineOutOfPageSlot=function(p,d){return googletag.defineOutOfPageSlot(p,d).addService(googletag.pubads());}
AdBridg.display=function(d){dq.push(d);if(es){dq.process();}}
AdBridg.refresh=function(s,o){googletag.pubads().refresh(s,o);}
AdBridg.render=function(){}
AdBridg.serve=function(){googletag.enableServices();es=1;dq.process();}
AdBridg.sizeMapping=function(){return googletag.sizeMapping();}
AdBridg.useSizeMapping=function(){}
while(AdBridg.cmd.length){googletag.cmd.push(AdBridg.cmd.shift());}
AdBridg.cmd=googletag.cmd;}})();(function(){var gads=document.createElement('script');gads.async=true;gads.type='text/javascript';var useSSL='https:'==document.location.protocol;gads.src=(useSSL?'https:':'http:')+'//www.googletagservices.com/tag/js/gpt.js';var node=document.getElementsByTagName('script')[0];node.parentNode.insertBefore(gads,node);})();