(function(e,B){function G(d){function g(){H(l,"scroll",z);H(l,"resize",z);H(l,"load",z);setInterval(p,300);setTimeout(z,0);var m=V();m.init({time:G});C=O();m.bindEvent("user_active",function(){C||(C=O())});m.bindEvent("user_inactive",function(){clearInterval(C);C=null})}function W(){var m=n.createElement("div"),a=m.style;m.id=""+I+"_onScrOllRoot";J(a);return m}function E(m){var a;a:{a=e.frameElement;for(var b=e,c=m;a;){c=a;try{var f=b.parent;a=f.frameElement;b=f}catch(A){a=c;break a}}a=c}b=n.createElement("div");
J(b.style);b.id=I+"_wrapper";if(!B.body.contains(m))return m.appendChild(b),b;"iframe"===a.nodeName.toLowerCase()?(a.parentNode.insertBefore(b,a),a.style.display="none"):a.appendChild(b);return b}function J(a){a.clear="both";a.position="relative";a.left=0;a.top=0;a.margin="0px auto";a.width=u+"px";a.height=r+"px"}function h(){if(k){var a=B.getElementById(k)||n.getElementById(k);if(a)return a}return!1}function H(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function O(){return setInterval(function(){w()&&
K++;w()&&0==K%L&&0!=K&&a()},1E3)}function z(){M=!0;P||p();x(t)}function v(){x(t)}function p(){if(M){M=!1;var a=0,b=Q,c=b.getBoundingClientRect().left;if(b.offsetParent){do a+=b.offsetTop;while(b=b.offsetParent)}P={top:a,left:c};b=a=0;"number"===typeof l.innerWidth?(a=l.innerWidth,b=l.innerHeight):n.documentElement&&(n.documentElement.clientWidth||n.documentElement.clientHeight)&&(a=n.documentElement.clientWidth,b=n.documentElement.clientHeight);R=a;S=b}}function w(){if(l.$sf)return l.$sf.ext.inViewPercentage()/
100>=y;var a=N.getBoundingClientRect(),b=R,c=S;return(Math.max(0,Math.min(a.right,b))-Math.max(0,Math.min(a.left,b)))*(Math.max(0,Math.min(a.bottom,c))-Math.max(0,Math.min(a.top,c)))/((a.right-a.left)*(a.bottom-a.top))>=y}function X(){q=n.createElement("div");var a=q.style;q.id=I+"_onScrOllAd";J(a);return q}function x(b){c()||T||!b&&!w()||(T=!0,clearInterval(U),a())}function a(){var a;a=D&&D.length==F.length?f(F[A()]):f(F[b()]);for(a="<html><head><style>body{margin:0 0 0 0;padding:0 0 0 0;height:100%;}</style></head><body>"+
a+"</body></html>";q.hasChildNodes();)q.removeChild(q.lastChild);var c=B.createElement("iframe");c.width=u+"px";c.height=r+"px";c.frameBorder="0";c.scrolling="no";q&&q.appendChild(c);if(e.navigator.userAgent.match(/MSIE\s/))c.contentWindow.contents=a,c.src="javascript:window['contents']";else{var d=c.contentDocument||c.contentWindow&&c.contentWindow.document||c.document;d.open();d.write(a);setTimeout(function(){d.close()},0)}}function b(){if(!b.nextIndex||b.nextIndex>=F.length)b.nextIndex=0;b.nextIndex++;
return b.nextIndex-1}function A(){for(var a=Math.random(),b=D[0],c=0;c<D.length;c++){if(a<b)return c;b+=D[c+1]}return 0}function f(a){var b,c,f,d,A,u=0,h=0,e=[];if(!a)return a;a+="";do b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(u++)),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(u++)),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(u++)),A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(u++)),
f=b<<18|c<<12|d<<6|A,b=f>>16&255,c=f>>8&255,f&=255,64==d?e[h++]=String.fromCharCode(b):64==A?e[h++]=String.fromCharCode(b,c):e[h++]=String.fromCharCode(b,c,f);while(u<a.length);return e.join("")}function c(){return l.__onscroll&&l.__onscroll.block||e.__onscroll&&e.__onscroll.block}var F=d.adCodes||[d.adCode],D=d.probabilities||[],u=d.width,r=d.height,k=d.placeholder,y=d.percent||.5,t=!!d.outOfView,L=d.refresh,G=d.disengagementThreshold||20,I=Math.floor(1E3*Math.random())+0,K=0,T=!1,M=!1,P,C,U,S,R,
q,l=e,n=e.document;try{e.$sf||(l=e.top,n=l.document)}catch(m){l=e,L=!1,n=e.document}if(!c()&&(d=h())){var Q=E(d),N=W();Q.appendChild(N);N.appendChild(X());L&&!l.$sf?g():U=setInterval(v,500)}}function V(){return function(d,e){function g(a){a||(a=e);a=a.getElementsByTagName("iframe");for(var b=a.length,d,f;b--;){f=a.item(b);try{if(d=f.contentDocument,!w[f]&&d){w[f]=!0;for(var c=v.length;c--;)v[c].observe(f.contentWindow);g(d)}}catch(h){w[f]=!0}}}function E(a,b,d){k(a,{name:a});if(a=b)a:{for(a=t.length;a--;)if(!t[a].isActive){a=
!1;break a}a=!0}if(a)for(a="user_active",k(a,{name:a}),d=v.length;d--;)v[d].reset();else{if(b=!b)a:{for(b=x.length;b--;)if(x[b].id===d.id){b=!0;break a}b=!1}b&&(a="user_inactive",k(a,{name:a}))}}function k(a,b){if(p[a])for(var d=p[a].length;d--;)p[a][d](b)}function h(a,b,d){a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent("on"+b,d)}function r(a,b,d,f){this.id=a;this.isActive=!0;this.observe=d;this.processEvent=function(c,d){b(a+"_"+c,d,this)};this.reset=f||function(){this.isActive=!0}}
function y(a){function b(){c.isActive=!0;c.processEvent("active",!0)}function d(){c.isActive=!1;c.processEvent("inactive",!1)}function f(){var a=g.hasFocus();a&&!c.isActive&&(c.isActive=!0,c.processEvent("active",!0));!a&&c.isActive&&(c.isActive=!1,c.processEvent("inactive",!1))}var c=new r("focus",a,function(a){if(e)return c;e=a;g=e.document;"function"===typeof g.hasFocus?(c.isActive=g.hasFocus(),setInterval(f,1E3)):(h(a,"focus",b),h(a,"focusin",b),h(a,"blur",d),h(a,"focusout",d));return c},!1),
e,g;return c}function z(a,b){function d(){c.isActive&&c.processEvent("inactive",!1);c.isActive=!1}function f(){c.isActive||c.processEvent("active",!0);clearTimeout(e);e=setTimeout(d,1E3*b);c.isActive=!0}b=b||10;var c=new r("input",a,function(a){h(a,"mousemove",f);h(a,"mousedown",f);h(a,"scroll",f);h(a,"keyup",f);h(a,"keypress",f);h(a,"keydown",f);h(a,"touchstart",f);h(a,"touchmove",f);h(a,"touchend",f);g||(g=!0,f());return c},function(){c.isActive=!0;f()}),e,g=!1;return c}var v=[],p={},w=[],t=[],
x=[];(function(){try{var a=d.top;e=a.document;d=a}catch(b){e=B}})();return{init:function(a){a=a||{};var b=y(E).observe(d);a=z(E,a.time).observe(d);v.push(b);v.push(a);t.push(b);x.push(a);x.push(b);setInterval(g,5E3)},bindEvent:function(a,b){"undefined"===typeof p[a]&&(p[a]=[]);p[a].push(b)}}}(e,B)}if(!e.__onscroll)return!1;for(var g=e.__onscroll,Y=g.toLoad=g.toLoad||{},y=g["engaged-refresh"]=g["engaged-refresh"]||[],g=g.engagedRefreshLoaded=g.engagedRefreshLoaded||{},g=function(d,e){for(var g=[],
k=0;k<d.length;k++)e[k]||(g.push(k),e[k]=!0);return g}(y,g),r=0;r<g.length;r++){var k=y[g[r]],t=function(d){return function(e){for(var g in e)d[g]=e[g];G(d)}}(k);k.preload?Y[k.id]=t:t()}})(window,document);
