/*  AdBridg Connect v2.1.0, copyright AdBridg Inc. All rights reserved. 6dc3213:js56026x */
!function r(a,o,s){function d(i,e){if(!o[i]){if(!a[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(c)return c(i,!0);throw new Error("Cannot find module '"+i+"'")}var n=o[i]={exports:{}};a[i][0].call(n.exports,function(e){var t=a[i][1][e];return d(t||e)},n,n.exports,r,a,o,s)}return o[i].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)d(s[e]);return d}({1:[function(n,e,t){var r={},i={aliasRegistry:{},bidderRegistry:r,getBidAdapter:function(e){return r[e]},registerBidAdapter:function(e,t){var i=n("./shim.js").polyfills.utils;e&&t?"function"==typeof e.callBids?r[t]=e:i.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):i.logError("bidAdaptor or bidderCode not specified")}};e.exports=i},{"./shim.js":26}],2:[function(e,t,i){var d=e("../utils.js"),c=e("../ajax.js");t.exports=function(e,t,i,r){var n={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},a=function(){return r&&r.consentString&&r.gdprApplies},o=function(e){return"//"+(e.aol_server?e.aol_server:n[e.aol_region||"us"])+"/pubapi/3.0/"+e.network+"/"+e.bidder_unit_id+"/"+(e.pageid||0)+"/"+(e.sizeid||0)+"/ADTECH;v=2;cmd=bid;cors=yes;alias="+d.genUUID()+";misc="+(new Date).getTime()+(e.send_floor?";bidfloor="+e.min_cpm:"")+(a()?";euconsent="+r.consentString+";gdpr=1":"")},s=function(e){var t,i=e.aol_server?e.aol_server:"hb.nexage.com",n="";return d.https&&(n+="&secure=1"),a()&&(n+="&euconsent="+r.consentString+"&gdpr=1"),"//"+i+"/bidRequest?"+("dcn="+(t={dcn:e.dcn,pos:e.bidder_unit_id,dynamicParams:n}).dcn+"&pos="+t.pos+"&cmd=bid"+t.dynamicParams)};this.execute=function(i){i.eachBidRequest(e,function(r,a){var e,t={url:(e=a,e.api||(e.api="aol"),"onemobile"==e.api?s(e):o(e)),withCredentials:!0,max_ms:i.ajax_ms};c(t,function(e,t){if(e)return r.addEmptyBid(a),"timeout"!=e.type&&d.err("AOL call failed: ",e);if(!t)return r.addEmptyBid(a);try{t=JSON.parse(t)}catch(e){return r.addEmptyBid(a),d.err("AOL invalid JSON: ",e)}try{var i=t.seatbid[0].bid[0]}catch(e){return void r.addEmptyBid(a)}var n=i.adm;t.ext&&t.ext.pixels&&(n+='<script>try { if(!top.AdBridg.global("aol_pixel")){top.AdBridg.global("aol_pixel", true);'+t.ext.pixels.replace(/<\/?script( type=('|")text\/javascript('|")|)?>/g,"")+"}}catch(e){}<\/script>");r.addBid(a,{creative:n,cpm:i.price,width:i.w,height:i.h,extras:{id:t.id,creativeid:i.crid}})})})}}},{"../ajax.js":16,"../utils.js":28}],3:[function(e,t,i){var o=e("../utils.js"),s=e("../ajax.js"),d=(e("../config.js").afterConsent,!1),c=function(e){if("string"==typeof e){var t=e.split("x");return{width:parseInt(t[0],10),height:parseInt(t[1],10)}}for(var i=[],n=0;n<e.length;++n)i.push(c(e[n]));return i};t.exports=function(r,e,t,a){this.execute=function(i){var n=[];if(i.eachBidRequest(r,function(e,t){var i={sizes:c(t.all_sizes),primary_size:c(t.size),ad_types:["banner"],uuid:t.id,id:parseInt(t.bidder_unit_id,10),allow_smaller_sizes:!1,use_pmt_rule:!1,prebid:!0,disable_psa:!0};t.send_floor&&(i.reserve=t.min_cpm),t.position&&(i.position={above:1,below:2}[t.position]||0),n.push(i)}),!n.length)return o.log(r,"had no valid units for auction "+i.id),i.markBidderEmpty(r);var e={tags:n,user:void 0,sdk:{source:"pbjs",version:"1.12.0"}};a&&(e.gdpr_consent={consent_string:a.consentString,consent_required:a.gdprApplies});var t={url:"//ib.adnxs.com/ut/v3/prebid",method:"POST",withCredentials:!0,data:JSON.stringify(e),max_ms:i.ajax_ms};s(t,o.wrapAsync(function(e,t){if(e)return i.markBidderEmpty(r),"timeout"!=e.type&&o.err("AppNexusAST had error: ",e);if(t)try{t=JSON.parse(t)}catch(e){o.err("AppNexusAST JSON fail"),t=!1}if(!t)return i.markBidderEmpty(r);o.each(t.tags,o.wrapAsync(function(n){var r=i.getBidRequest(n.uuid);if(!r)return o.err("AppNexusAst bad id: ",n.uuid);n.ads&&n.ads.length&&o.each(n.ads,function(e){if(e.cpm&&e.rtb&&e.rtb.banner){var t=e.rtb.banner.content;try{var i=e.rtb.trackers[0].impression_urls[0];t+=o.pixelh(i)}catch(e){o.err("AppNexusAst tk failed: ",e)}r.unit.addBid(r,{creative:t,cpm:e.cpm,width:e.rtb.banner.width,height:e.rtb.banner.height,extras:{bmid:e.buyer_member_id,crid:e.creative_id,bauid:n.auction_id,bapid:n.ad_profile_id}})}})})),d||(d=!0,o.uspf(r,"//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html")),i.markBidderEmpty(r)}))}}},{"../ajax.js":16,"../config.js":20,"../utils.js":28}],4:[function(e,t,i){"use strict";var n=e("../shim.js").polyfills,u=n.utils,a=(n.registerBidder,0),o="consumable",r={code:"consumable",isBidRequestValid:function(e){return!!(e.params.networkId&&e.params.siteId&&e.params.unitId&&e.params.unitName)},buildRequests:function(e){var t={method:"POST",url:"",data:"",bidRequest:[]};if(e.length<1)return t;a=e[0].params.siteId,o=e[0].bidder;var r=u.assign({placements:[],time:Date.now(),user:{},url:u.getTopWindowUrl(),referrer:document.referrer,enableBotFiltering:!0,includePricingData:!0,parallel:!0},e[0].params);return e.map(function(e){var t,i,n=u.assign({divName:e.bidId,adTypes:e.adTypes||(t=e.sizes,i=[],t.forEach(function(e){var t=s.indexOf(e[0]+"x"+e[1]);0<=t&&i.push(t)}),i)},e.params);n.networkId&&n.siteId&&n.unitId&&n.unitName&&r.placements.push(n)}),t.data=JSON.stringify(r),t.bidRequest=e,t.url="https://e.serverbid.com/api/v2",t},interpretResponse:function(e,t){var i,n=void 0,r=void 0,a=void 0,o=[];i=t.bidRequest,e=(e||{}).body;for(var s=0;s<i.length;s++)if(n={},r=(a=i[s]).bidId,e){var d=e.decisions&&e.decisions[r],c=d&&d.pricing&&d.pricing.clearPrice;d&&c&&(n.requestId=r,n.cpm=c,n.width=d.width,n.height=d.height,n.unitId=a.params.unitId,n.unitName=a.params.unitName,n.ad=l(d,n.unitId,n.unitName),n.currency="USD",n.creativeId=d.adId,n.ttl=30,n.netRevenue=!0,n.referrer=u.getTopWindowUrl(),o.push(n))}return o},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"//sync.serverbid.com/ss/"+a+".html"}];u.logWarn(o+": Please enable iframe based user syncing.")}},s=[null,"120x90","120x90","468x60","728x90","300x250","160x600","120x600","300x100","180x150","336x280","240x400","234x60","88x31","120x60","120x240","125x125","220x250","250x250","250x90","0x0","200x90","300x50","320x50","320x480","185x185","620x45","300x125","800x250"];function l(e,t,i){var n="<script type='text/javascript'>document.write('<div id=\""+i+"-"+t+"\">');<\/script>"+(e.contents&&e.contents[0]&&e.contents[0].body+u.createTrackPixelHtml(e.impressionUrl));return n+="<script type='text/javascript'>document.write('</div>');<\/script>",n+="<script type='text/javascript'>document.write('<div class=\""+i+"\"></div>');<\/script>",n+="<script type='text/javascript'>document.write('<scr'+'ipt type=\"text/javascript\" src=\"https://yummy.consumable.com/"+t+"/"+i+"/widget/unit.js?cb="+Math.round((new Date).getTime())+"\" charset=\"utf-8\" async></scr'+'ipt>');<\/script>"}s[77]="970x90",s[123]="970x250",s[43]="300x600",s[286]="970x66",s[3230]="970x280",s[429]="486x60",s[374]="700x500",s[934]="300x1050",s[1578]="320x100",s[331]="320x250",s[3301]="320x267",s[2730]="728x250",t.exports=e("../shim.js").wrap({spec:r,unitIDKey:"unitId"})},{"../shim.js":26}],5:[function(e,t,i){var l=e("../utils.js"),p=e("../ajax.js"),f=function(e){var t=e.split("x");return{w:parseInt(t[0],10),h:parseInt(t[1],10)}},g=function(){var e=navigator.language?"language":"userLanguage";return{h:screen.height,w:screen.width,dnt:"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNoTrack||"yes"===navigator.doNotTrack?1:0,language:navigator[e].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent}};t.exports=function(c,e,t,u){this.execute=function(a){var e=l.url().href,n="https:"===location.protocol?1:0,r="",o=[],s=!1;if(a.eachBidRequest(c,function(e,t){r=String(t.bidder_unit_id);var i={id:t.id,secure:n,bidfloor:0,displaymanager:"Prebid.js",displaymanagerver:"2.2.3",banner:{format:[f(t.size)]}};t.other_sizes.length&&l.each(t.other_sizes,function(e){i.banner.format.push(f(e))}),t.position&&(i.banner.pos=t.position),s=s||e.get("mod_pubcid"),o.push(i)}),!r)return l.err("Conversant empty siteId"),a.markBidderEmpty(c);var t={id:l.genID(),imp:o,site:{id:r,mobile:null!==document.querySelector('meta[name="viewport"][content*="width=device-width"]')?1:0,page:e},device:g(),at:1},i=!1;u&&u.gdprApplies&&((i=i||{}).consent=u.consentString,t.regs={ext:{gdpr:u.gdprApplies?1:0}}),s&&((i=i||{}).fpc=s),i&&(t.user={ext:i});var d={url:"//web.hb.ad.cpe.dotomi.com/s2s/header/24",method:"POST",withCredentials:!0,data:JSON.stringify(t),max_ms:a.ajax_ms};p(d,l.wrapAsync(function(e,t){if(e)return a.markBidderEmpty(c),"timeout"!=e.type&&l.err("Conversant had error: ",e);if(t)try{t=JSON.parse(t)}catch(e){l.err("Conversant JSON fail"),t=!1}if(!t||!t.seatbid||!t.seatbid.length)return a.markBidderEmpty(c);l.each(t.seatbid,function(e){l.each(e.bid,function(e){var t=a.getBidRequest(e.impid);if(!t)return l.err("Conversant had invalid bid req id: ",e.impid);var i=parseFloat(e.price)||0;if(!i)return t.unit.addEmptyBid(t);var n=(e.adm||"")+'<img src="'+(e.nurl||"")+'" />',r={crid:e.crid};e.addomain&&(r.addomain=e.addomain.join?e.addomain.join(","):e.addomain),"USD"!=e.currency&&(r.cur=e.currency),t.unit.addBid(t,{creative:n,cpm:i,width:e.w,height:e.h,extras:r})})}),a.markBidderEmpty(c)}))}}},{"../ajax.js":16,"../utils.js":28}],6:[function(require,module,exports){var utils=require("../utils.js");window.Criteo=window.Criteo||{},window.Criteo.events=window.Criteo.events||[],module.exports=function(alias,bidder_id,settings,gdpr_consent_object){var library_filename=settings.pubtag||"publishertag.prebid.js",_publisherTagUrl=window.location.protocol+"//static.criteo.net/js/ld/"+library_filename,_profileId=125,criteo_load_initiated=!1;if(settings.enablefb)try{var local_storage_criteo_fast_bid=localStorage.getItem("criteo_fast_bid");local_storage_criteo_fast_bid&&(eval(local_storage_criteo_fast_bid),criteo_load_initiated=!0,utils.log("Criteo FB loaded"))}catch(e){utils.err("Criteo FB",e)}criteo_load_initiated||utils.loadCached(_publisherTagUrl);var _me=this;this.execute=function(n){if(settings.check_gdpr&&(!gdpr_consent_object||gdpr_consent_object.gdprApplies))return n.markBidderEmpty(alias),utils.log("Criteo cancelled pending GDPR");var o={},s={},t=utils.wrapAsync(function(t){try{t=JSON.parse(t)}catch(e){utils.log("Criteo response unparseable"),t={}}t&&t.slots&&utils.each(t.slots,function(e){var t=s[e.impid],i=n.getBidRequest(t);if(!i)return utils.log("Criteo slot: ",e),utils.err("Criteo had bad id: ",e.impid);i.unit.addBid(i,{creative:e.creative,cpm:e.cpm,width:e.width,height:e.height,extras:{}})}),n.markBidderEmpty(alias)}),i=utils.wrapAsync(function(e,t,i){0!==t&&204!==t&&(e||t||i)&&utils.err("Criteo err:",e,t,i),n.markBidderEmpty(alias)}),d=utils.wrapAsync(function(e,t,i){n.markBidderEmpty(alias)});window.Criteo.events.push(utils.wrapAsync(function(){var r,a=[];n.eachBidRequest(alias,function(e,t){var i=[];utils.each(t.all_sizes,function(e){e=e.split("x"),i.push(new Criteo.PubTag.DirectBidding.Size(parseInt(e[0],10),parseInt(e[1],10)))});var n=e.alias.replace(/[^\w\d]+/gi,"_");s[n]&&(o[n]=(o[n]||0)+1,n+="_"+o[n]),s[n]=t.id,a.push(new Criteo.PubTag.DirectBidding.DirectBiddingSlot(n,Number(t.bidder_unit_id),r,utils.genUUID(),i))});var e=new Criteo.PubTag.DirectBidding.DirectBiddingEvent(_profileId,new Criteo.PubTag.DirectBidding.DirectBiddingUrlBuilder(!1),a,t,i,d,r,r,0);window.criteo_pubtag.push(e)}))}}},{"../utils.js":28}],7:[function(e,t,i){var b=e("../utils.js");t.exports=function(t,e,l,i){var p,f,g,n,h=0,m={},v=!1;try{f=window.top,g=f.screen}catch(e){b.err(t+" failed on start"),n=!0}window.AdBridg.gumgumLoader||l.safeframeloader||(window.AdBridg.gumgumLoader=b.wrapAsync(function(e,t,i,n){b.load("https://js.gumgum.com/services.js",function(){f.GUMGUM.pbjs(e,t,i,n)},!0)})),this.execute=function(u){if(!n)return!l.check_gdpr||i&&!i.gdprApplies?void u.eachBidRequest(t,function(n,r){n.alias;var e=m[n.alias],t=(new Date).getTime(),i=e&&t-e;if(e&&v&&i<v)return n.addEmptyBid(r),b.err("GumGum throttle on "+n.alias+": ",v," req; ",i," actual");m[n.alias]=t;var a="gumgumResponse"+ ++h;window.AdBridg[a]=b.wrapAsync(function(e){if(e.pag&&e.pag.pvid&&(p=e.pag.pvid),!e.ad||!e.ad.id)return n.addEmptyBid(r);v=e.thms||v||3e4;var t=encodeURIComponent(JSON.stringify(e)),i='<script>\n(function (w, t) { t.AdBridg.gumgumLoader("'+e.pag.t+'", 3, "'+t+'" , w); }(window, top));\n<\/script>';l.safeframeloader&&(i='<script>\n(function (w) { try{var s=document.createElement(\'script\'); s.src="https://js.gumgum.com/services.js"; s.async=true; s.onload=function(){GUMGUM.pbjs("'+e.pag.t+'", 3, "'+t+"\" , w); }; document.head.appendChild(s);}catch(e){console.log('GumGum Safeframe Error:',e)} }(window))\n<\/script>"),n.addBid(r,{creative:i,cpm:e.ad.price,width:e.ad.width,height:e.ad.height}),delete window.AdBridg[a]});var o={jsonp:"window.AdBridg."+a,vw:f.innerWidth,vh:f.innerHeight,sw:g.width,sh:g.height,pu:f.location.href,ce:navigator.cookieEnabled,dpr:f.devicePixelRatio||1,tmax:u.max_ms,pi:3,si:r.bidder_unit_id};p&&(o.pv=p);var s,d,c=(s=window.DigiTrust&&window.DigiTrust.getUser?window.DigiTrust.getUser({member:"YcXr87z2lpbB"}):{},!(!(d=s&&s.success&&s.identity||"")||d.privacy&&d.privacy.optout)&&d.id);c&&(o.dt=c),b.load("https://g2.gumgum.com/hbid/imp?"+b.toqs(o))}):(u.markBidderEmpty(t),b.log("GumGum cancelled pending GDPR"))}}},{"../utils.js":28}],8:[function(e,t,i){var c=e("../utils.js"),u=e("../ajax.js"),l={JPY:1};t.exports=function(r,e,t,a){this.execute=function(o){var s=c.url(),d=[];o.eachBidRequest(r,function(e,t){var i=t.size.split("x"),n=parseInt(i[0],10),r=parseInt(i[1],10),a={id:t.id,banner:{w:n,h:r,topframe:s.is_top?1:0},bidfloor:t.min_cpm,bidfloorCur:t.bidfloorCur||"USD",ext:{sid:t.size,siteID:parseInt(t.bidder_unit_id,10)}};d.push(a)});var e={id:c.genID(),site:{page:encodeURIComponent(s.href),ref:encodeURIComponent(s.referrer)},ext:{source:"prebid"},imp:d};a&&(e.regs={ext:{gdpr:a.gdprApplies?1:0}},e.user={ext:{consent:a.consentString||""}});var t={s:d[0].ext.siteID,v:7.2,r:JSON.stringify(e),ac:"j",sd:1,t:o.max_ms},i="http:"==location.protocol?"http://as.casalemedia.com/cygnus":"https://as-sec.casalemedia.com/cygnus",n={url:i+="?"+c.toqs(t),method:"GET",withCredentials:!0,max_ms:o.ajax_ms};u(n,c.wrapAsync(function(e,a){if(e)return o.markBidderEmpty(r),"timeout"!=e.type&&c.err("Index had error: ",e);if(a)try{a=JSON.parse(a)}catch(e){c.err("Index JSON fail"),a=!1}if(!a||!a.seatbid||!a.seatbid.length)return o.markBidderEmpty(r);c.each(a.seatbid,function(e){c.each(e.bid,function(e){var t,i=o.getBidRequest(e.impid);if(!i)return c.err("Index bad id: ",e.impid);t=l.hasOwnProperty(r)?e.price/l[r]:e.price/100;var n={},r=a.currency;"USD"!=r&&(n.cur=r),e.crid&&(n.crid=e.crid),e.addomain&&(n.addomain=e.addomain.join?e.addomain.join(","):e.addomain),e.ext&&e.ext.dealid&&(n.dealid=e.ext.dealid),i.unit.addBid(i,{creative:e.adm,cpm:t,width:e.w,height:e.h,extras:n})})}),o.markBidderEmpty(r)}))}}},{"../ajax.js":16,"../utils.js":28}],9:[function(e,t,i){var r=e("../utils.js");window.pbjs||(window.pbjs={}),t.exports=function(e,t,i){this.execute=function(i){var n={ts_as:(new Date).getTime(),hb_placements:[],hb_placement_bidids:{},kb_callback:r.wrapAsync(function(e){var t=i.getBidRequest(e.bidid);if(!t)return r.err("Komoona bad id: ",e.bidid);t.unit.addBid(t,{creative:e.creative,cpm:e.cpm,width:parseInt(e.width,10),height:parseInt(e.height,10)})})};i.eachBidRequest(e,function(e,t){n.hdbdid=n.hdbdid||t.hbid,n.encode_bid=n.encode_bid||t.encode_bid,n.hb_placement_bidids[t.bidder_unit_id]=t.id,n.hb_placements.push(t.bidder_unit_id)}),r.load("//s.komoona.com/kb/0.1/kmn_sa_kb_c."+n.hdbdid+".js",r.wrapAsync(function(){"function"==typeof KmnKB&&KmnKB.start(n)}))}}},{"../utils.js":28}],10:[function(e,t,i){var u=e("../utils.js"),l=e("../ajax.js");t.exports=function(r,e,a,o){var s=!0,n=!1;function c(e,t){var i=u.url(),n=!i.is_top,r={ju:encodeURIComponent(i.href),jr:encodeURIComponent(i.referrer),ch:document.charSet||document.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:n,tz:(new Date).getTimezoneOffset(),tws:function(e){var t=u.vp();if(window,document,e)try{window.top,window.top.document}catch(e){return}return t.w+"x"+t.h}(n),be:1,dddid:e.map(function(e){return e.transactionID}).join(","),nocache:(new Date).getTime()};return o&&(r.gdpr=o.gdprApplies?1:0,o.consentString&&(r.gdpr_consent=o.consentString)),r}function t(e,t){var i=[],n=!1,r=c(e),a=e.map(function(e){return e.params.unit}),o=e.map(function(e){return e.params.placementId});r.aus=e.map(function(e){return e.sizes.map(function(e){return e.join("x")}).join(",")}).join("|"),r.bc=e[0].params.bc||"hb_pb",r.divs=e.map(function(e){return e.adUnitCode||e.adbAlias}).join(","),a.some(function(e){return e})&&(r.auid=a.join(",")),o.some(function(e){return e})&&(r.pids=o.join(",")),e.forEach(function(a){if(a.params.customParams){var e=u.each(a.params.customParams,function(e,t){return i=t,n=a.params.customParams,r=n[i],u.isarr(r)&&(r=r.join(",")),(i.toLowerCase()+"="+r.toLowerCase()).replace("+",".").replace("/","_");var i,n,r}),t=window.btoa(e.join("&"));n=!0,i.push(t)}else i.push("")}),n&&(r.tps=i.join(","));var s=[],d=!1;return e.forEach(function(e){e.params.customFloor?(s.push(1e3*e.params.customFloor),d=!0):s.push(0)}),d&&(r.aumfs=s.join(",")),{method:"GET",url:"//"+e[0].params.delDomain+"/w/1.0/arj"+"?"+u.toqs(r)+"&",withCredentials:!0,parseResponseJson:!0}}function d(o){return u.wrapAsync(function(e,t){if(e)return o.markBidderEmpty(r),"timeout"!=e.type&&u.err("OpenX bid request failed: ",e);if(!t.ads)return u.err("OpenX response malformed");var i=t.ads.pixels;i&&n!=i&&(n=i,u.uspf(r,i)),o.eachBidRequest(r,function(i,n){var r,a;u.each(t.ads.ad,function(e){if(!e.used&&!a&&e.adunitid==n.bidder_unit_id&&e.pub_rev&&e.creative&&e.creative[0]){var t=e.creative[0].width+"x"+e.creative[0].height;-1!=n.all_sizes.indexOf(t)&&(r={creative:(a=e).html,cpm:Number(e.pub_rev)/1e3,width:e.creative[0].width,height:e.creative[0].height,extras:{dealid:e.deal_id,crid:e.adid,adv_id:e.adv_id,brand_id:e.brand_id}},i.addBid(n,r))}}),r?s&&(s=!1,function(e,t){try{var i=e.tracking.impression.match(/([^?]+\/)ri\?/);i&&u.pixel(i[1]+"bo?"+u.toqs(t))}catch(e){u.err("OpenX BoPixel",e)}}(a.creative[0],{bd:+new Date-new Date(o.jsts),br:r.viable?"p":"t",bt:o.max_ms,bs:window.location.hostname,bp:a.pub_rev,ts:a.ts})):i.addEmptyBid(n)})})}this.execute=function(i){var n=[];if(i.eachBidRequest(r,function(e,t){n.push({adUnitCode:e.get("dom_id"),adbAlias:e.alias,auctionId:i.id,bidId:e.unique_id,bidder:t.bidder_name,bidderRequestId:t.id,crumbs:{pubcid:u.genUUID()},mediaTypes:{banner:{sizes:e.all_sizes.map(function(e){return e.split("x").map(Number)})}},params:{unit:t.bidder_unit_id,delDomain:a.delDomain},sizes:e.all_sizes.map(function(e){return e.split("x").map(Number)}),transactionID:u.genUUID()})}),0!==n.length){i.id,i.jsts,n[0].bidderRequestId;var e=t(n.reduce(function(e,t){var i;return(i=t)&&i.mediaTypes&&i.mediaTypes.video||"video"===i.mediaType?e[0].push(t):e[1].push(t),e},[[],[]])[1]);e.max_ms=i.ajax_ms,l(e,d(i))}}}},{"../ajax.js":16,"../utils.js":28}],11:[function(e,t,i){"use strict";var n=e("../shim.js").polyfills,g=n.utils,r=n.ajax,a=n.config,h=(n.registerBidder,"qcx.quantserve.com"),m="http:"===window.location.protocol?"http":"https",v="http"===m?"8080":"8443";var o={code:"quantcast",supportedMediaTypes:["banner","video"],isBidRequestValid:function(e){if(!e)return!1;var t=g.deepAccess(e,"mediaTypes.video"),i=g.deepAccess(e,"mediaTypes.video.context");return!t||"outstream"!=i},buildRequests:function(e,t){var i,n=e||[],u=t&&t.gdprConsent?t.gdprConsent:{},l=g.deepAccess(t,"refererInfo.referer"),p=g.deepAccess(t,"refererInfo.canonicalUrl")||a.getConfig("pageUrl")||g.deepAccess(window,"location.href"),f=(i=p)?i.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0]:i;return n.map(function(e){var t,i,n,r,a,o=void 0;o="instream"===g.deepAccess(e,"mediaTypes.video.context")?(a=(r=e).params.video,g.isArray(r.mediaTypes.video.playerSize[0])?(a.w=r.mediaTypes.video.playerSize[0][0],a.h=r.mediaTypes.video.playerSize[0][1]):(a.w=r.mediaTypes.video.playerSize[0],a.h=r.mediaTypes.video.playerSize[1]),{video:a,placementCode:r.placementCode,bidFloor:r.params.bidFloor||1e-10}):{banner:{battr:(t=e).params.battr,sizes:(i=t,n=[],i.sizes.forEach(function(e){n.push({width:e[0],height:e[1]})}),n)},placementCode:t.placementCode,bidFloor:t.params.bidFloor||1e-10};var s={publisherId:e.params.publisherId,requestId:e.bidId,imp:[o],site:{page:p,referrer:l,domain:f},bidId:e.bidId,gdprSignal:u.gdprApplies?1:0,gdprConsent:u.consentString,prebidJsVersion:window.AdBridg.globals.version},d=JSON.stringify(s),c="test-publisher"===e.params.publisherId?"s2s-canary.quantserve.com":h;return{data:d,method:"POST",url:m+"://"+c+":"+v+"/qchb"}})},interpretResponse:function(e){if(void 0===e)return g.logError("Server Response is undefined"),[];var c=e.body;return void 0===c||!c.hasOwnProperty("bids")||g.isEmpty(c.bids)?(g.logError("Sub-optimal JSON received from Quantcast server"),[]):c.bids.map(function(e){var t=e.ad,i=e.cpm,n=e.width,r=e.height,a=e.creativeId,o=e.currency,s=e.videoUrl,d={requestId:c.requestId,cpm:i,width:n,height:r,ad:t,ttl:4,creativeId:a,netRevenue:!0,currency:o};return void 0!==s&&s&&(d.vastUrl=s,d.mediaType="video"),d})},onTimeout:function(e){r(m+"://"+h+":"+v+"/qchb_notify?type=timeout",null,null)}};t.exports=e("../shim.js").wrap({spec:o,unitIDKey:"publisherId"})},{"../shim.js":26}],12:[function(e,t,i){"use strict";var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("../shim.js").polyfills,r=(n.registerBidder,n.BANNER),a=n.VIDEO;var o=new function(){function y(e,t){for(var i=0;i<t.length;i++)if(t[i].params&&t[i].params[e])return t[i].params[e]}this.code="rhythmone",this.supportedMediaTypes=[a,r],this.isBidRequestValid=function(e){return!0},this.getUserSyncs=function(e,t,i){var n=[],r=[];for(var a in x)n.push(a),r.push(y("placementId",[x[a]]));var o={doc_version:1,doc_type:"Prebid Audit",placement_id:r.join(",").replace(/[,]+/g,",").replace(/^,|,$/g,"")},s="undefined"!=typeof window?window:{document:{location:{href:""}}},d=s.document.location.ancestorOrigins,c=[];d&&0<d.length&&(o.ancestor_origins=d[d.length-1]),o.popped=null!==s.opener?1:0,o.framed=s.top===s?0:1;try{o.url=s.top.document.location.href.toString()}catch(e){o.url=s.document.location.href.toString()}try{o.prebid_version=window.AdBridg.globals.version,o.prebid_timeout=config.getConfig("bidderTimeout")}catch(e){}for(var u in o.response_ms=Date.now()-l,o.placement_codes=n.join(","),o.bidder_version=z,i&&(o.gdpr_consent=i.consentString,o.gdpr="boolean"!=typeof i.gdprApplies||i.gdprApplies),o)c.push(encodeURIComponent(u)+"="+encodeURIComponent("object"===p(o[u])?JSON.stringify(o[u]):o[u]));if(c.sort(),e.pixelEnabled)return[{type:"image",url:"//hbevents.1rx.io/audit?"+c.join("&")}]};var x={},c=this,z="1.0.1.0",l=Date.now();this.buildRequests=function(g,h){var m=y("placementId",g);if(void 0===m||g.length<1)return[];l=Date.now(),x={};var v=[],b="undefined"!=typeof window?window:{};function _(e,t,i){t instanceof Array&&(t=t.join(i||",")),void 0!==t&&v.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}function w(e,t){try{return e()}catch(e){}return t}return _("domain",w(function(){var e=b.document.location.ancestorOrigins;return e&&0<e.length?e[e.length-1]:b.top.document.location.hostname},"")),_("url",w(function(){var t;try{t=b.top.document.location.href.toString()}catch(e){t=b.document.location.href.toString()}return t},"")),[{method:"GET",url:function(){var e=y("endpoint",g)||"//tag.1rx.io/rmp/{placementId}/0/{path}?z={zone}",t=y("zone",g)||"1r",i=y("path",g)||"mvo";e=(e=(e=e.replace(/\{placementId\}/i,m)).replace(/\{zone\}/i,t)).replace(/\{path\}/i,i),_("title",w(function(){return b.top.document.title},"")),_("dsh",b.screen?b.screen.height:""),_("dsw",b.screen?b.screen.width:""),_("tz",(new Date).getTimezoneOffset()),_("dtype",/(ios|ipod|ipad|iphone|android)/i.test(b.navigator.userAgent)?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(b.navigator.userAgent)?3:2),_("flash",w(function(){var e=b.navigator,t=e.plugins,i=e.mimeTypes,n="application/x-shockwave-flash",r=b.ActiveXObject;if(t&&t["Shockwave Flash"]&&i&&i[n]&&i[n].enabledPlugin)return 1;if(r)try{if(new b.ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return 1}catch(e){}return 0},0));var n=[],r=[],a=[],o=[],s=0,d=[],c=/(^v|(\.0)+$)/gi;for(_("hbv",b.AdBridg.globals.version.replace(c,"")+","+z.replace(c,""));s<g.length;s++){var u=[],l=[],p=g[s].params||{};x[g[s].adUnitCode||g[s].placementCode]=g[s],0<g[s].sizes.length&&"number"==typeof g[s].sizes[0]&&(g[s].sizes=[g[s].sizes]);for(var f=0;f<g[s].sizes.length;f++)l.push(g[s].sizes[f][0]),u.push(g[s].sizes[f][1]);d.push(g[s].adUnitCode||g[s].placementCode),n.push(u.join("|")),r.push(l.join("|")),o.push(g[s].mediaTypes&&g[s].mediaTypes.video?"v":"d"),a.push(p.floor||0)}return _("imp",d),_("w",r),_("h",n),_("floor",a),_("t",o),h&&h.gdprConsent&&(_("gdpr_consent",h.gdprConsent.consentString),_("gdpr","boolean"!=typeof h.gdprConsent.gdprApplies||h.gdprConsent.gdprApplies)),e+="&"+v.join("&")+"&"}()}]},this.interpretResponse=function(e){var t=e.body||[],i=[],n=0;if(t.seatbid){var r=[];for(n=0;n<t.seatbid.length;n++)for(var a=0;a<t.seatbid[n].bid.length;a++)r.push(t.seatbid[n].bid[a]);t=r}for(n=0;n<t.length;n++){var o=t[n],s=x[o.impid],d={requestId:s.bidId,bidderCode:c.code,cpm:parseFloat(o.price),width:o.w,height:o.h,creativeId:o.crid,currency:"USD",netRevenue:!0,ttl:1e3};s.mediaTypes&&s.mediaTypes.video?(d.vastUrl=o.nurl,d.mediaType="video",d.ttl=1e4):d.ad=o.adm,i.push(d)}return i}};t.exports=e("../shim.js").wrap({spec:o,unitIDKey:"placementId"})},{"../shim.js":26}],13:[function(e,t,i){var p=e("../utils.js"),f=e("../ajax.js"),g={1:"468x60",2:"728x90",8:"120x600",9:"160x600",10:"300x600",14:"250x250",15:"300x250",16:"336x280",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",43:"320x50",44:"300x50",48:"300x300",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",65:"640x480",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",113:"1000x300",117:"320x100",125:"800x250",126:"200x600"};p.each(g,function(e,t){g[e]=t});var h=!1;t.exports=function(s,e,a,u){var d=new RegExp("^([^;]*)(;\\1)+$");a.group_limit=a.group_limit||10;var c=function(e){var t,i,r,n,a,o=(i=e.all_sizes,r=[15,2,9],n=[],p.each(i,function(e){var t=parseInt(g[e],10);t&&n.push(t)}),n=n.sort(function(e,t){var i=r.indexOf(e),n=r.indexOf(t);return-1<i||-1<n?-1===i?1:-1===n?-1:i-n:e-t}));1<o.length&&(a=o.slice(1).join(","));var s,d,c={account_id:e.account,site_id:e.site,zone_id:e.bidder_unit_id,size_id:o[0],alt_size_ids:a,p_pos:e.position||"btf",rp_floor:e.min_cpm||.01,rp_secure:p.https?1:0,tk_flint:"pbjs_lite_1.15.0","x_source.tid":e.id,p_screen_res:[window.screen.width,window.screen.height].join("x"),kw:e.keywords||"",tk_user_key:e.userid,"p_geo.latitude":t,"p_geo.longitude":t,"tg_fl.eid":t,rf:p.url().href};return u&&(c.gdpr=u.gdprApplies?1:0,c.gdpr_consent=u.consentString),e.visitor&&p.each(e.visitor,function(e,t){c["tg_v."+t]=String(e)}),e.inventory&&p.each(e.inventory,function(e,t){c["tg_i."+t]=String(e)}),p.each(!(d=(s=window.DigiTrust&&window.DigiTrust.getUser({member:"T9QSFKPDN9"}))&&s.success&&s.identity||null)||d.privacy&&d.privacy.optout?[]:{"dt.id":d.id,"dt.keyv":d.keyv,"dt.pref":0},function(e,t){c[t]=e}),c},l=function(e){p.each(e,function(e){e.unit.addEmptyBid(e)})};this.execute=function(i){var e,n,r={};i.eachBidRequest(s,function(e,t){(r[t.site]=r[t.site]||[]).push(t)}),e=r,n=function(o){var t=[];p.each(o,function(e){t.push(c(e))});var e={url:function(n,e){var i=[],r=[];p.each(n,function(e,t){"tg_i."==t.substr(0,5)&&-1==r.indexOf(t)&&r.push(t),"tg_v."==t.substr(0,5)&&-1==i.indexOf(t)&&i.push(t)});var t=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","rf","dt.id","dt.keyv","dt.pref","p_geo.latitude","p_geo.longitude","kw"].concat(i).concat(r).concat(["tk_flint","x_source.tid","p_screen_res","rp_floor","rp_secure","tk_user_key"]),a="";return p.each(t,function(e){var t=n[e],i=typeof t;("number"==i||"string"==i&&""!=t)&&(a+=e+"="+encodeURIComponent(t)+"&")}),"//fastlane.rubiconproject.com/a/api/fastlane.json?"+a+"slots="+e+"&rand="+Math.random()}(function(n){if(1===n.length)return n[0];var r={};return p.each(n,function(e,i){p.each(e,function(e,t){r[t]||(r[t]=new Array(n.length)),r[t].splice(i,1,e)})}),p.each(r,function(e,t){var i=e.join(";"),n=i.match(d);r[t]=n?n[1]:i}),r}(t),t.length),withCredentials:!0,max_ms:i.ajax_ms};f(e,p.wrapAsync(function(e,t){if(e)return l(o),"timeout"!=e.type&&p.err("Rubicon bid request failed: ",e);if(!t)return l(o);try{var i=JSON.parse(t)}catch(e){return l(o),p.err("Rubicon response unparseable: ",e)}if(!i||"object"!=typeof i||"ok"!=i.status)return i&&i.error_code&&10!=i.error_code&&43!=i.error_code&&(n=o,r=i.error_code,p.each(n,function(e){var t="adb_imp_data",i="rubicon_error_code",n=e.unit.get(t)||{};n[i]||(n[i]="r"+r,e.unit.set(t,n))})),void l(o);var n,r;if(!i.ads||!i.ads.length)return l(o),p.err("Rubicon response ads invalid: ",i.ads);if(p.each(i.ads,function(e,t){if("ok"===e.status){var i,n,r=g[e.size_id].split("x"),a=o[t];a.unit.addBid(a,{creative:(i=e.script,n=e.impression_id,"<html><head><script type='text/javascript'>inDapIF=true;<\/script></head><body style='margin: 0; padding: 0;'>\x3c!-- Rubicon Project Ad Tag --\x3e<div data-rp-impression-id='"+n+"'><script type='text/javascript'>"+i+"<\/script></div></body></html>"),cpm:e.cpm,width:Number(r[0]),height:Number(r[1]),extras:{creativeid:e.creative_id,advertiserid:e.advertiser,networkid:e.network,dealid:e.deal}})}}),l(o),!h){h=!0;var a="";u&&(a+="?gdpr="+(u.gdprApplies?1:0)+"&gdpr_consent="+u.consentString),p.uspf(s,"https://eus.rubiconproject.com/usync.html"+a)}}))},p.each(e,function(e,t){for(;e.length;)n(e.splice(0,a.group_limit))})}}},{"../ajax.js":16,"../utils.js":28}],14:[function(e,t,i){var d=e("../utils.js"),c=0;t.exports=function(a,e,o,s){this.execute=function(i){if(o.check_gdpr&&(!s||s.gdprApplies))return i.markBidderEmpty(a),d.log("Sovrn cancelled pending GDPR");var n=[];i.eachBidRequest(a,function(e,t){var i=t.size.split("x");n.push({id:t.id,tagid:t.bidder_unit_id,banner:{w:i[0],h:i[1]}})});var e="sovrnCallback"+ ++c;if(window.AdBridg[e]=d.wrapAsync(function(e){if(!(e&&e.id&&e.seatbid&&e.seatbid[0]&&e.seatbid[0].bid&&e.seatbid[0].bid.length))return i.markBidderEmpty(a);d.each(e.seatbid[0].bid,function(e){var t=i.getBidRequest(e.impid);if(!t)return d.err("Sovrn had bad id: ",e.impid);responseCPM=parseFloat(e.price),responseCPM&&t.unit.addBid(t,{creative:decodeURIComponent(e.adm+'<img src="'+e.nurl+'">'),cpm:responseCPM,width:parseInt(e.w,10),height:parseInt(e.h,10),extras:{}})}),i.markBidderEmpty(a)}),!n.length)return d.log("Sovrn had no valid BRs");var t={id:i.id,imp:n,site:{domain:window.location.host,page:window.location.pathname+location.search+location.hash}},r="//ap.lijit.com/rtb/bid?callback=window.AdBridg."+e+"&src=AdBridgConnect2.0&br="+encodeURIComponent(JSON.stringify(t));d.load(r)}}},{"../utils.js":28}],15:[function(e,t,i){var o=e("../utils.js");t.exports=function(t,e,i,n){var r=function(){var t=0;try{new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=1)}catch(e){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=1)}return t}(),a=0;this.execute=function(e){if(i.check_gdpr&&(!n||n.gdprApplies))return e.markBidderEmpty(t),o.log("Triplelift canncelled pending GDPR");e.eachBidRequest(t,function(t,i){var e="tlCallback"+ ++a,n=document.location.protocol+"//tlx.3lift.com/header/auction?callback=window.AdBridg."+e+"&lib=adbridg&v=2&callback_id="+i.id+"&inv_code="+i.bidder_unit_id+o.qsappend("floor",i.min_cpm,!0,!0)+o.qsappend("fe",r,!0,!0)+"&size="+i.all_sizes.join(",")+o.qsappend("referrer",o.url().href,!0,!0);window.AdBridg[e]=o.wrapAsync(function(e){return e&&e.callback_id==i.id?e.cpm?void t.addBid(i,{creative:e.ad,cpm:e.cpm,width:e.width,height:e.height,extras:{dealid:e.deal_id}}):t.addEmptyBid(i):o.err("Triplelift had bad response: ",e)}),o.load(n)})}}},{"../utils.js":28}],16:[function(e,t,i){var a=e("./utils.js");t.exports=a.wrapAsync(function(i,n){var r,e=!1,t=i.method||(i.data?"POST":"GET");window.XMLHttpRequest?(r=new window.XMLHttpRequest).onreadystatechange=a.wrapAsync(function(){if(4===r.readyState){var e=r.status;if(200<=e&&e<300||304===e)if(i.parseResponseJson)try{var t=JSON.parse(r.responseText||"null");n(null,t,r)}catch(e){n({err:e,type:"parse"},"",r)}else n(null,r.responseText,r);else n(0===e?{err:"",type:"timeout"}:{err:r.statusText,type:"status="+e},"",r)}}):(e=!0,(r=new window.XDomainRequest).onload=i.parseResponseJson?a.wrapAsync(function(){try{var e=JSON.parse(r.responseText||"null");n(null,e,r)}catch(e){n({err:e,type:"parse"},"",r)}}):a.wrapAsync(function(){n(null,r.responseText,r)}),r.onerror=a.wrapAsync(function(e){n({err:e,type:"error"},"",r)}),r.ontimeout=a.wrapAsync(function(e){n({err:e,type:"timeout"},"",r)}),r.onprogress=function(){}),r.open(t,i.url),0!==i.max_ms&&(r.timeout=i.max_ms||3e3,a.logl("at","Ajax >",i.url,r.timeout)),e||(i.withCredentials&&(r.withCredentials=!0),a.each(i.headers,function(e,t){r.setRequestHeader(t,e)}),i.preflight&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type",i.contentType||"text/plain")),r.send("POST"===t&&i.data)})},{"./utils.js":28}],17:[function(e,t,s){var d=e("./utils.js"),c=e("./config.js"),i=function(){for(var e="",t=0;t<10;++t)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return e},n=i(),r="aX0";s.id=[2,r,n].join(","),c.afterConsent(function(e){e&&e.gdprApplies||((r=String((document.cookie.match(/_adb=([^;]+)/)||[""]).pop()))||(r="a2"+(new Date).getTime().toString(36)+i()),d.cw("_adb",r,365),s.id=[2,r,n].join(","))});var u={},a={},o={},l=function(e,t,i,n){u[e]||(u[e]=[]),u[e].push(n),a[e]=i,o[e]||(o[e]=setTimeout(function(){p(e)},t))},p=function(e){if(clearTimeout(o[e]),o[e]=!1,u[e]&&u[e].length){var t=a[e],i=3===e?"1//"+u[e].length+t:"";i+=u[e].join(t),u[e]=[],f(e,1,i)}};s.flushNow=function(){for(var e in u)p(e)};var f=function(e,t,i){var n=s.id,r=function(){if(!u[3]||!u[3].length)return"";var e=u[3].join("&e=");return u[3]=[],e}(),a=d.vp(),o="//adspsp.com/pt/"+c.getId()+"/"+e+"/"+t+"/?a="+n+"&b="+i+"&e="+r+"&c="+encodeURIComponent(d.url().href)+"&d="+encodeURIComponent(d.url().referrer)+"&f="+d.pgts().join(".")+"&g="+d.perfts()+"&u=6dc3213:js56026x&v="+g(a.w)+"."+g(a.h)+"."+g(a.y);for(o=c.deca(o),d.each(b,function(e,t){d.isarr(e)||(e=[e]),d.each(e,function(e){o+="&"+t+"="+encodeURIComponent(e)})});_.length;)delete b[_.pop()];d.each(w,function(e,t){o+="&"+t+"="+encodeURIComponent(e)}),w={},d.pixel(o)},g=function(e){return(parseInt(e,10)||0).toString(36)},h=function(e,t){return g(e)+"`"+g(t)},m=function(e){var i=[];return d.each(e,function(e){var t=e.split("x");2==t.length&&i.push(h(t[0],t[1]))}),i.join(".")},v=function(e){return String(e).replace(/[^\d\w-]/,"")},b={};s.meta=d.thread(function(e,t){b[e]=t});var _=[];s.metaqx=d.thread(function(e,t){-1==_.indexOf(e)&&_.push(e),b[e]?d.isarr(b[e])||(b[e]=[b[e]]):b[e]=[],b[e].push(t)});var w={};s.ctr=d.thread(function(e,t){void 0===t&&(t=1),t&&(w[e]=(w[e]||0)+t)}),s.auctionConfigured=d.thread(function(e){var i=[];e.eachUnit(function(e){var n=[],t=m(e.all_sizes);e.eachBidReqConf(function(e){var t=e.bidder_id+"@"+v(e.bidder_unit_id),i=m(e.all_sizes);n.push(t+"^"+i)}),i.push(e.id+"^"+t+":"+n.join(","))});var t=e.instancectr+"//"+i.length+"-"+i.join("_");e.eachUnit(function(e){t+="&bu="+e.unique_id}),f(1,1,t)});var y=function(e){var t=[Math.round(e.ms)];return(e.cpm||e._bid_cpm)&&(t.push(e.cpm),t.push(e.width),t.push(e.height),e._bid_cpm!=e.cpm&&(t.push(e._bid_cpm),t.push(e._min_cpm))),t.join(",")};s.auctionCompleted=d.thread(function(r){var a=[],n=[];r.eachBidRequest(function(i,e){var t=[r.instancectr,i.id,e.bidder_id,v(e.bidder_unit_id)].join(","),n=[];d.each(e.responses,function(e){var t=i.getWinner()===e?1:0;n.push(t+","+y(e))}),a.push(t+":"+n.join(":"))}),r.eachUnit(function(e){var t=e.getWinner();if(t){var i=JSON.stringify(t.extras);"{}"!=i&&n.push([r.instancectr,e.id,t.config.bidder_id].join(",")+":"+e.unique_id+":"+encodeURIComponent(i))}});var e=a.join("&b=");n.length&&(e+="&bw="+n.join("&bw=")),f(11,1,e)}),s.bidRendered=d.thread(function(e){var t=[e.config.unit.auction.instancectr,e.config.unit.id];t.push(e.config.bidder_id),t.push(e.config.bidder_unit_id),t.push(e.cpm),t.push(e.width),t.push(e.height),t.push(e.config.unit.unique_id);var i=JSON.stringify(e.extras);"{}"!=i&&t.push(encodeURIComponent(i)),l(12,100,"&b=","1:"+t.join(","))}),s.enhRendered=d.thread(function(e,t){l(12,100,"&b=","3:"+[e,t].join(","))}),s.gptRendered=d.thread(function(e,t,i){l(12,100,"&b=","2:"+[e.instancectr,t.id,g(i.advertiserId),g(i.campaignId),g(i.creativeId),i.isEmpty||"",g(i.lineItemId),i.size?h(i.size[0],i.size[1]):"",g(i.sourceAgnosticCreativeId),g(i.sourceAgnosticLineItemId),t.unique_id].join(","))}),s.gptViewed=d.thread(function(e,t,i){l(15,100,"&b=","1:"+[e.instancectr,t.id,t.unique_id].join(","))}),s.gprog=d.thread(function(e){l(16,100,"&b=","1:"+JSON.stringify(e))}),s.lateBid=d.thread(function(e){var t=[e.config.unit.auction.instancectr,e.config.unit.id,e.config.bidder_id,e.config.bidder_unit_id].join(",");l(13,500,"&b=",t+":"+y(e))}),d.onerr(function(){try{var t="";d.each(arguments,function(e){void 0!==e&&("object"==typeof e?e=e.stack?(e.message||"")+" "+e.stack:JSON.stringify(e):"string"!=typeof e&&"number"!=typeof e&&(e=e.toString?e.toString():String(e)),t+=" "+e)}),t=t.substr(0,300)+(300<t.length?"...":""),t="500.1:"+d.perfts()+":"+t,l(3,1e3,"&e=",t)}catch(e){d.isdebug()&&console.error("AdBridg error report failed: ",e)}}),s.rec=d.thread(function(e){l(17,500,"&b=",e)}),d.onrec(s.rec)},{"./config.js":20,"./utils.js":28}],18:[function(e,t,i){var f=e("./utils"),g=(e("./unit"),e("./analytics")),h=e("./modules"),m=e("./config"),n=0;t.exports=function(){this.instancectr=++n,this.id=f.genID("A"),this.ts=0,this.jsts=0,this.max_ms,this.ajax_ms=m.libSettings().ajax_ms,"function"==typeof this.ajax_ms&&(this.ajax_ms=this.ajax_ms());var a=this,o={},s=[],d=[],c=[],u=!1,l=[],p=!1;this.addUnit=function(e){return d.push(e),c.push(e.alias),e.auction=a,e.eachBidder(function(e,t){o[e]||(o[e]=t,.5<Math.random()?s.push(e):s.unshift(e))}),a.max_ms=a.max_ms?Math.min(a.max_ms,e.max_ms):e.max_ms,(!a.ajax_ms||a.ajax_ms<a.max_ms)&&(a.ajax_ms=a.max_ms+200),a},this.hasUnit=function(){return 0<d.length},this.eachUnit=function(e){f.each(d,e)},this.findUnit=function(e){for(var t=0;t<d.length;++t){if(e(d[t]))return d[t]}return!1},this.eachBidRequest=function(e,i){"function"==typeof e&&(i=e,e=!1),this.eachUnit(function(t){t.eachBidReqConf(e,function(e){i(t,e)})})},this.getUnitByBidReqId=function(t){var i=!1;return a.eachUnit(function(e){e.getBidReqConf(t)&&(i=e)}),i},this.getBidRequest=function(t){var i=!1;return a.eachUnit(function(e){i||(i=e.getBidReqConf(t))}),i},this.markBidEmpty=function(e){var t=a.getUnitByBidReqId(e);t?t.addEmptyBid(e):f.err("Cannot mark bid empty: unknown id",e)},this.markBidderEmpty=function(t){a.eachUnit(function(e){e.markEmpty(t)})},this.isDone=function(){return u},this.lock=function(e){-1==l.indexOf(e)&&(f.log("Auction ",a.id," locked: ",e),l.push(e))},this.unlock=f.wrapAsync(function(e){var t=l.indexOf(e);-1!=t?(l.splice(t,1),f.log("Auction ",a.id," unlocked: ",e,l),!l.length&&p&&p()):f.log("Auction ",a.id," lock not found: ",e)}),this.execute=function(e){a.ts=f.dts(),a.jsts=(new Date).getTime();var t=m.libSettings().fbo;"function"==typeof t&&(s=t(o)),f.log("Auction",a.id,"starting with",d.length,"units:",c,"/ bidders:",s,"/ timeout:",a.max_ms),g.auctionConfigured(a),h.trigger("auction.start",a);var i=f.wrapAsync(function(){u||(u=!0,a.eachUnit(function(e){e.halt()}),g.auctionCompleted(a),h.trigger("auction.complete",a),e(a))}),n=f.wrapAsync(function(){if(l.length)return f.log("Auction ",a.id,"waiting on locks",l),void(p=i);i()}),r=0;a.eachUnit(function(e){e.onReady(f.wrapAsync(function(){u||++r>=d.length&&(f.log("Auction ",a.id," received bids for ",r," / ",d.length," units. Duration: ",f.dts()-a.ts,"ms"),n())}))}),f.each(s,function(e){var t=o[e];f.thread(function(){t.execute(a)})()}),setTimeout(function(){u||(f.log("Auction ",a.id," timing out with ",r," / ",d.length," units completed. Duration: ",f.dts()-a.ts,"ms"),n())},a.max_ms)}}},{"./analytics":17,"./config":20,"./modules":22,"./unit":27,"./utils":28}],19:[function(o,e,t){function i(e,t){var i=o("./shim.js"),n=t&&t.bidId||i.getUniqueIdentifierStr(),r=t&&t.src||"client",a=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=function(){switch(a){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=n,this.mediaType="banner",this.source=r,this.getStatusCode=function(){return a},this.getSize=function(){return this.width+"x"+this.height}}e.exports={createBid:function(e,t){return new i(e,t)}}},{"./shim.js":26}],20:[function(e,t,o){var p=e("./utils"),r=e("./ajax"),d={c:5781260,s:{bid_strategy:".05:.05-7.5,.5:8-20,1:21-40,2:42-50",cmp:"geoblock",gpt_exclusions:{Exclude_Any_AdBridg_Bid:.01,Exclude_HighValue_AdBridg_Bids:3},override_define:function(e,t,i){if(e.match("fg_300x600"))return{dfp_sizes:[[300,600],[300,250],[160,600]]}},dt:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))?"m":/tablet|ipad/i.test(e)?"t":"d"},x1m:function(e,t,i){return"d"!=t.dt()&&(e.api="onemobile",e.dcn="2c9d2b4f016363008abc08dc05de0176",e.bidder_unit_id=i),e},before_gpt:function(){p.qs("force_safeframe_test")&&(p.qs("no_sandbox")||(p.log("Requiring GPT Sandbox SafeFrames"),googletag.pubads().setSafeFrameConfig({sandbox:!0})),googletag.pubads().setTargeting("adb_imp","tle"))},dynamic_configuration:function(e,t){return"d"!=t.dt()&&(e.min_cpm=.2),e},track_imps:"1:1-12",max_imp_ctr:11,pmmutatefn:function(e,t){return t.b=e.config.bidder_name,t.w=e.width,t.h=e.height,t.cfd="clarium.global.ssl.fastly.net",t.cfid="wkM5y-p1tK2DtmpVlFCiTs7gbNo",t},pubrenderfn:function(e,t,i,n,r,a){if(-1!=[7,8,9,10,11,20,21,22,23,24,29,30,31,32].indexOf(a.config.unit.id)){return function(o,r,e,a,s){function d(e){return(n(e)||"")[g]("/","_")[g]("+","-")}var t=r.bidder,i=r.size,c=o.parentWindow||o.defaultView,u=c.JSON,n=c.btoa,l=c.encodeURIComponent;if(!u||!n)return!1;var p="script",f="src",g="replace",h="error",m="stringify",v="write",b="https://"+e+"/?wrapper="+l(a)+"&tpid=",_={k:{hb_bidder:[t],hb_size:[i]}};return function(){var e=d(a+"/"+_.k.hb_bidder[0]+":"+_.k.hb_size[0]),t={wh:e,wd:u.parse(u[m](_)),wr:0};!function(e,t,i){var n=b+l(e)+"&d="+t,r="err__"+1*new Date;c[r]=i;var a="<"+p+" on"+h+'="void('+r+'())" '+f+'="'+n+'" type="text/java'+p+'" ></'+p+">";o[v](a)}(e,d(u[m](t)),function(){o[v](r.ad)});var i={prebid:{adId:r.adId,cpm:r.cpm}},n={d:t,t:r.ad,cb:s,id:i};c[a]={},c[a][e]=n}(),o.close(),!0}(e,{ad:t,adId:a.id,cpm:a.cpm,bidder:i,size:n+"x"+r},"clarium.global.ssl.fastly.net","MDm0g4ZhT4ICKskqdVRvwPd9wTw",function(e,t,i,n,r,a){p.err("Confiant block",e,t,i,n,r,a)})}},post_render:function(e){if(-1!=[7,8,9,10,11,20,21,22,23,24].indexOf(e.config.unit.id)){var t="fga_rf",i=window.AdBridg.global;clearTimeout(i("fga_rt")),i(t)||(i(t,[]),i("fga_rc",{}));var n=e.config.unit.get("dom_id"),r=e.config.unit.get("gpt_slot"),a=i("fga_rc");a[n]=(a[n]||0)+1,10<a[n]||(i(t).push(r),i("fga_rt",setTimeout(function(){var e=i(t);i(t,[]),window.AdBridg.refresh(e)},6e4)))}}},u:{7:[7,"Old fg_300x250_right","300x250",[],.1,2e3,0,0,{"gpt.adunit_regex":"FindAGrave/fg_300x250_right"},[[8,"4234324",{network:"10240.1",size:"300x250"},0],[5,"11028238",0,0],[12,"9456685",0,0],[16,"107598",0,0],[6,"716062",0,0],[20,"9817043",0,0],[10,"198554",{size:"300x250"},0],[19,"2f85eff0ca3e85a84473681c0e113cbe",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[4,"538911241",0,0],[24,"74422",0,0],[2,"521832",{site:"110548"},0],[9,"378816",{size:"300x250"},0]]],8:[8,"Old fg_160x600_left","160x600",[],.1,2e3,0,0,{"gpt.adunit_regex":"FindAGrave/fg_160x600_left"},[[8,"4234325",{network:"10240.1",size:"160x600"},0],[5,"11028226",0,0],[12,"9456648",0,0],[16,"107598",0,0],[6,"716060",0,0],[20,"9817045",0,0],[10,"198553",{size:"160x600"},0],[19,"c809ad0ae9bf3180149cf837f83fae83",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[4,"538911243",0,0],[24,"74422",0,0],[2,"521832",{site:"110548"},0],[9,"378811",{size:"160x600"},0]]],9:[9,"Old fg_728x90_Home_ATF","728x90",[],.1,2e3,0,0,{"gpt.adunit_regex":"FindAGrave/Home/fg_728x90_Home_ATF"},[[8,"4234323",{network:"10240.1",size:"728x90"},0],[5,"11028261",0,0],[12,"9456686",0,0],[16,"107598",0,0],[6,"716063",0,0],[20,"9817047",0,0],[10,"198551",{size:"728x90"},0],[19,"fcd19038264e801eb5b2f323e6a54caa",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[4,"538911244",0,0],[24,"74422",0,0],[2,"521832",{site:"110548"},0],[9,"378818",{size:"728x90"},0]]],10:[10,"Old fg_728x90_atf","728x90",[],.1,2e3,0,0,{"gpt.adunit_regex":"FindAGrave/fg_728x90_atf"},[[8,"4234323",{network:"10240.1",size:"728x90"},0],[5,"11028261",0,0],[12,"9456686",0,0],[16,"107598",0,0],[6,"716063",0,0],[20,"9817047",0,0],[10,"198551",{size:"728x90"},0],[19,"fcd19038264e801eb5b2f323e6a54caa",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[4,"538911244",0,0],[24,"74422",0,0],[2,"521832",{site:"110548"},0],[9,"378818",{size:"728x90"},0]]],11:[11,"Old fg_728x90_btf","728x90",[],.1,2e3,0,0,{"gpt.adunit_regex":"FindAGrave/fg_728x90_btf"},[[8,"4234323",{network:"10240.1",size:"728x90"},0],[5,"11028268",0,0],[12,"9456686",0,0],[16,"107598",0,0],[6,"809815",0,0],[20,"9817049",0,0],[10,"198552",{size:"728x90"},0],[19,"aefc11cded81cc84253be10754295f3f",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[4,"538911245",0,0],[24,"74422",0,0],[2,"521832",{site:"110548"},0],[9,"325556",{size:"728x90"},0]]],14:[14,"NP 300x250_3rdparty","300x250",[],.1,1e3,0,0,{"gpt.adunit_regex":"Newspapers/300x250_3rdparty"},[[8,"4396324",{network:"10360.1",size:"300x250"},0],[5,"11822498",0,0],[12,"10067792",0,0],[16,"108637",0,0],[20,"10067919",0,0],[10,"242540",{size:"300x250"},0],[19,"be8f733be284418762fba726fe8b19fc",{hbid:"c558002f4fc24b4fa8e81a9025a2d38b"},0],[4,"538911246",0,0],[24,"74410",0,0],[2,"608996",{site:"128982"},0],[9,"432525",{size:"300x250"},0]]],15:[15,"NP 728x90_3rdparty","728x90",[],.1,1e3,0,0,{"gpt.adunit_regex":"Newspapers/728x90_3rdparty"},[[8,"4396325",{network:"10360.1",size:"728x90"},0],[5,"11822499",0,0],[12,"10067793",0,0],[16,"108637",0,0],[20,"10067920",0,0],[10,"242539",{size:"728x90"},0],[19,"d366ca7f4d64f64ff72154ba0c4be187",{hbid:"c558002f4fc24b4fa8e81a9025a2d38b"},0],[4,"538911247",0,0],[24,"74410",0,0],[2,"608996",{site:"128982"},0],[9,"432526",{size:"728x90"},0]]],16:[16,"RW_300x250","300x250",[],.1,2e3,0,0,{"gpt.adunit_regex":"rootsweb.com/RW_300x250"},[[8,"4396326",{network:"10360.1",size:"300x250"},0],[5,"11822500",0,0],[12,"10067794",0,0],[16,"108636",0,0],[6,"716058",0,0],[20,"14680202",0,0],[10,"203710",{size:"300x250"},0],[4,"538911248",0,0],[24,"74420",0,0],[2,"608986",{site:"128980"},0],[9,"432528",{size:"300x250"},0]]],17:[17,"RW_160x600","160x600",[],.1,2e3,0,0,{"gpt.adunit_regex":"rootsweb.com/RW_160x600"},[[8,"4396327",{network:"10360.1",size:"160x600"},0],[5,"11822501",0,0],[12,"10067796",0,0],[16,"108636",0,0],[6,"716057",0,0],[20,"14680204",0,0],[10,"203711",{size:"160x600"},0],[4,"538911249",0,0],[24,"74420",0,0],[2,"608986",{site:"128980"},0],[9,"432530",{size:"160x600"},0]]],18:[18,"RW_728x90","728x90",[],.1,2e3,0,0,{"gpt.adunit_regex":"rootsweb.com/RW_728x90$"},[[8,"4396328",{network:"10360.1",size:"728x90"},0],[5,"11822502",0,0],[12,"10067795",0,0],[16,"108636",0,0],[6,"716059",0,0],[20,"14680203",0,0],[10,"203712",{size:"728x90"},0],[4,"538911250",0,0],[24,"74420",0,0],[2,"608986",{site:"128980"},0],[9,"432527",{size:"728x90"},0]]],19:[19,"RW_728x90_btf","728x90",[],.1,2e3,0,0,{"gpt.adunit_regex":"rootsweb.com/RW_728x90_btf"},[[8,"4493581",{network:"10360.1",size:"728x90"},0],[5,"11822503",0,0],[12,"10972535",0,0],[16,"108636",0,0],[6,"817165",0,0],[20,"14680201",0,0],[10,"203713",{size:"728x90"},0],[4,"538911251",0,0],[24,"74420",0,0],[9,"445052",{size:"728x90"},0]]],20:[20,"fg_300x250_stickyright","300x250",[],.1,2e3,0,0,{"gpt.adunit_regex":"FindAGraveNEW/fg_300x250_stickyright"},[[8,"4493582",{network:"10240.1",size:"300x250"},function(e,t){return t.x1m(e,t,"fiindagrave_300x250_hb")}],[5,"11028248",0,0],[12,"10972536",0,0],[16,"107598",0,0],[6,"809816",0,0],[20,"10970685",0,0],[10,"198555",{size:"300x250"},0],[19,"b971516498690bb003a2bbebd47b7b06",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[4,"538911242",0,0],[24,"74422",0,0],[2,"521832",{site:"110548"},0],[9,"445113",{size:"300x250"},0],[155,"14285",0,0],[156,"findagrave_desktop_300x250",0,function(e,t){return"m"==t.dt()&&(e.bidder_unit_id="findagrave_mobile_300x250"),e}],[157,"4729",{unitName:"cnsmbl-audio-300x250-slider",zoneIds:"188224"},0],[158,"EnBKrGZNvq",0,0]]],21:[21,"fg_300x250_right","300x250",[],.1,2e3,0,0,{"gpt.adunit_regex":"FindAGraveNEW/(|Famous/|Memorials/|Cemetery/)fg_300x250_(hp|mem*|cem|fame)"},[[8,"4234324",{network:"10240.1",size:"300x250"},function(e,t){return t.x1m(e,t,"fiindagrave_300x250_hb")}],[5,"11028238",0,0],[12,"9456685",0,0],[16,"107598",0,0],[6,"716062",0,0],[20,"9817043",0,0],[10,"198554",{size:"300x250"},0],[19,"2f85eff0ca3e85a84473681c0e113cbe",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[4,"538911241",0,0],[24,"74422",0,0],[2,"521832",{site:"110548"},0],[9,"378816",{size:"300x250"},0],[155,"14285",0,0],[156,"findagrave_desktop_300x250",0,function(e,t){return"m"==t.dt()&&(e.bidder_unit_id="findagrave_mobile_300x250"),e}],[157,"4729",{unitName:"cnsmbl-audio-300x250-slider",zoneIds:"188224"},0],[158,"EnBKrGZNvq",0,0]]],22:[22,"fg_160x600_left","160x600",[],.1,2e3,0,0,{"gpt.adunit_regex":"FindAGraveNEW/(|Famous/|Memorials/|Cemetery/)fg_160x600_(fame|mem)"},[[8,"4234325",{network:"10240.1",size:"160x600"},0],[5,"11028226",0,0],[12,"9456648",0,0],[16,"107598",0,0],[6,"716060",0,0],[20,"9817045",0,0],[10,"198553",{size:"160x600"},0],[19,"c809ad0ae9bf3180149cf837f83fae83",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[4,"538911243",0,0],[24,"74422",0,0],[2,"521832",{site:"110548"},0],[9,"378811",{size:"160x600"},0],[155,"14286",0,0],[157,"4728",{unitName:"cnsmbl-audio-160x600-slider",zoneIds:"188223"},0],[158,"EnBKrGZNvq",0,0]]],23:[23,"fg_728x90_top","728x90",[],.1,2e3,0,0,{"gpt.adunit_regex":"FindAGraveNEW/(|Famous/|Memorials/|Cemetery/)fg_728x90(_hp|_[a-z]*top|_[a-z]*_top)"},[[8,"4234323",{network:"10240.1",size:"728x90"},function(e,t){return t.x1m(e,t,"fiindagrave_728x90_hb")}],[5,"11028261",0,0],[12,"9456686",0,0],[16,"107598",0,0],[6,"716063",0,0],[20,"9817047",0,0],[10,"198551",{size:"728x90"},0],[19,"fcd19038264e801eb5b2f323e6a54caa",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[4,"538911244",0,0],[24,"74422",0,0],[2,"521832",{site:"110548"},0],[9,"378818",{size:"728x90"},0],[155,"14287",0,0],[157,"4731",{unitName:"cnsmbl-audio-728x90-slider",zoneIds:"188226"},0],[158,"EnBKrGZNvq",0,0]]],24:[24,"fg_728x90_bottom","728x90",[],.1,2e3,0,0,{"gpt.adunit_regex":"FindAGraveNEW/(|Famous/|Memorials/|Cemetery/)fg_728x90(_[a-z]*bottom|_[a-z]*_bottom)"},[[8,"4234323",{network:"10240.1",size:"728x90"},function(e,t){return t.x1m(e,t,"fiindagrave_728x90_hb")}],[5,"11028268",0,0],[12,"9456686",0,0],[16,"107598",0,0],[6,"809815",0,0],[20,"9817049",0,0],[10,"198552",{size:"728x90"},0],[19,"aefc11cded81cc84253be10754295f3f",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[4,"538911245",0,0],[24,"74422",0,0],[2,"521832",{site:"110548"},0],[9,"325556",{size:"728x90"},0],[155,"14287",0,0],[157,"4731",{unitName:"cnsmbl-audio-728x90-slider",zoneIds:"188226"},0],[158,"EnBKrGZNvq",0,0]]],25:[25,"Gene_ROS ATF 728x90","728x90",[],.1,2e3,0,0,{"gpt.adunit_regex":"genealogy.com/728x90_ROS"},[[8,"4694590",{network:"10360.1",size:"728x90"},0],[5,"12405490",0,0],[12,"12295456",0,0],[16,"108605",0,0],[6,"1092744",0,0],[20,"12279259",0,0],[10,"226492",{size:"728x90"},0],[19,"a5d0a004fe227078f63b8935ad0623be",{hbid:"0f111e82f7f8409aaa13c92b4be4d12e"},0],[4,"539429795",0,0],[24,"74421",0,0],[2,"769942",{site:"158664"},0],[9,"529165",{size:"728x90"},0]]],26:[26,"Gene_ROS 300x250","300x250",[],.1,2e3,0,0,{"gpt.adunit_regex":"genealogy.com/300x250_ROS"},[[8,"4694589",{network:"10360.1",size:"300x250"},0],[5,"12405479",0,0],[12,"12295451",0,0],[16,"108605",0,0],[6,"1092743",0,0],[20,"12279258",0,0],[10,"226491",{size:"300x250"},0],[19,"6f3365d73de959cd3432e2b61c2a7fcc",{hbid:"0f111e82f7f8409aaa13c92b4be4d12e"},0],[4,"539429794",0,0],[24,"74421",0,0],[2,"769942",{site:"158664"},0],[9,"529164",{size:"300x250"},0]]],27:[27,"Gene_ROS 160x600","160x600",[],.1,2e3,0,0,{"gpt.adunit_regex":"genealogy.com/160x600_ROS"},[[8,"4694588",{network:"10360.1",size:"160x600"},0],[5,"12405483",0,0],[12,"12295451",0,0],[16,"108605",0,0],[6,"882061",0,0],[20,"12279257",0,0],[10,"226490",{size:"160x600"},0],[19,"814df0f0b28d5c63395765db888b27fa",{hbid:"0f111e82f7f8409aaa13c92b4be4d12e"},0],[4,"539429793",0,0],[24,"74421",0,0],[2,"769942",{site:"158664"},0],[9,"529162",{size:"160x600"},0]]],28:[28,"Gene_ROS BTF 728x90","728x90",[],.1,2e3,0,0,{"gpt.adunit_regex":"genealogy.com/728x90_bottom"},[[8,"4694591",{network:"10360.1",size:"728x90"},0],[5,"12405492",0,0],[12,"12295463",0,0],[16,"108605",0,0],[6,"1092745",0,0],[20,"12279260",0,0],[10,"226493",{size:"728x90"},0],[19,"6ed70f845615a338ede78cd3c8a48def",{hbid:"0f111e82f7f8409aaa13c92b4be4d12e"},0],[4,"539429796",0,0],[24,"74421",0,0],[2,"769942",{site:"158664"},0],[9,"529166",{size:"728x90"},0]]],29:[29,"fg_320x50_mobile","320x50",[],.2,2e3,0,0,{"gpt.adunit_regex":"FindAGraveNEW/(|Famous/|Memorials/|Cemetery/)fg_320x50_*"},[[8,"findagrave_320x50_hb",{network:"10240.1",api:"onemobile",dcn:"2c9d2b4f016363008abc08dc05de0176",size:"320x50"},0],[5,"12762494",0,0],[12,"12765699",0,0],[16,"107598",0,0],[6,"1210248",0,0],[20,"12394360",0,0],[19,"19b20b1bd7025586dddaf0a7cc1e9e3c",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[4,"539753634",0,0],[24,"74422",0,0],[2,"521832",{site:"110548"},0],[9,"547108",{size:"320x50"},0],[155,"14289",0,0],[157,"4732",{unitName:"cnsmbl-audio-320x50-slider",zoneIds:"188227"},0],[158,"EnBKrGZNvq",0,0]]],30:[30,"fg_search_desktop","728x90",[],.1,2e3,{require_bid:!0},0,{"gpt.adunit_regex":"FindAGraveNEW/fg_728x90_search","vp.min_width":768},[[8,"4767582",{network:"10240.1",size:"728x90"},function(e,t){return t.x1m(e,t,"fiindagrave_728x90_hb")}],[5,"12795850",0,0],[12,"12792475",0,0],[16,"107598",0,0],[6,"1210249",0,0],[20,"12791831",0,0],[19,"f7016c7f6b549ad3a163a4b01f11eb7f",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[4,"539780867",0,0],[24,"74422",0,0],[2,"521832",{site:"110548"},0],[9,"549884",{size:"728x90"},0],[155,"14287",0,0],[157,"4731",{unitName:"cnsmbl-audio-728x90-slider",zoneIds:"188226"},0],[158,"EnBKrGZNvq",0,0]]],31:[31,"fg_search_mobile","320x50",[],.2,2e3,{require_bid:!0},0,{"gpt.adunit_regex":"FindAGraveNEW/fg_(728x90|320x50)_search","vp.max_width":767},[[8,"4767583",{network:"10240.1",size:"320x50"},function(e,t){return t.x1m(e,t,"findagrave_320x50_hb")}],[5,"12795851",0,0],[12,"12792476",0,0],[16,"107598",0,0],[6,"1210250",0,0],[20,"12791832",0,0],[19,"520ed652e5f0e91c28d942d8e854530d",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[4,"539780881",0,0],[24,"74422",0,0],[2,"521832",{site:"110548"},0],[9,"549885",{size:"320x50"},0],[155,"14289",0,0],[157,"4732",{unitName:"cnsmbl-audio-320x50-slider",zoneIds:"188227"},0],[158,"EnBKrGZNvq",0,0]]],32:[32,"fg_300x600_right","300x600",["300x250","160x600"],.1,2e3,0,0,{"gpt.adunit_regex":"FindAGraveNEW/(|Famous/|Memorials/|Cemetery/)fg_300x600_(fame|mem|cem)"},[[8,"4770101",{network:"10240.1",size:"300x600"},0],[5,"12803530",0,0],[12,"12803526",0,0],[16,"117128",0,0],[6,"809816",0,0],[20,"12803982",0,0],[10,"249382",{size:"300x600"},0],[10,"249382",{size:"300x250"},0],[10,"249382",{size:"160x600"},0],[19,"04b183dcfbec8dd77e1d45527fedcf1c",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[4,"539792738",0,0],[24,"74422",0,0],[2,"521832",{site:"110548"},0],[9,"550113",{size:"300x600"},0],[155,"14290",0,0],[156,"findagrave_desktop_300x600",0,0],[157,"4730",{unitName:"cnsmbl-audio-300x600",zoneIds:"188225"},0],[158,"EnBKrGZNvq",0,0]]]}},c=function(e,t,i){var n=t.mapping_rules;if(!n)return!1;var r=e.get("gpt_slot"),a=r.getAdUnitPath(),o=e.get("gpt_sizes"),s=e.get("dom_id");for(var d in n){if(!n.hasOwnProperty(d))return;var c=n[d],u=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if("vp.max_width"==d&&c<u)return!1;if("vp.min_width"==d&&u<c)return!1;if("lib"==d.substr(0,3)){var l=i[d.substr(4)];if(("function"==typeof l&&l(r,a,o,s))!=c)return!1}if("gpt.adunit"==d&&c!=a)return!1;if("gpt.adunit_regex"==d&&!new RegExp(c,"i").test(a))return!1;if("gpt.domid"==d&&c!=s)return!1;if("gpt.has_size"==d&&!o.match(c))return!1;if("gpt.no_size"==d&&o.match(c))return!1}return p.log("Unit mapped: ",s,"->",t.alias),!0},u=function(e,t){return{id:t[0],alias:t[1],size:t[2],other_sizes:t[3]||[],min_cpm:t[4],max_ms:t[5],settings:t[6]||{},rule_order:t[7],mapping_rules:t[8],bid_req_confs:t[9]}},l={},f={},i={};window.AdBridg=window.AdBridg||{cmd:[]},window.AdBridg.global=function(e,t){if(void 0===t)return p.logl("g","Global read: ",e,i[e]),i[e];i[e]=t,p.logl("g","Global set: ",e,t)},window.AdBridg.globals={version:"1.34.0-pre"},o.getId=function(){return d.c},o.libSettings=function(){return d.s},o.kvp=function(e){var t=d.s.gpt_kvp_overrides;return t&&t[e]?t[e]:e},o.proc=function(e){d.s.pub=d.s.pub||{},p.each(e,function(e,t){d.s.pub[t]=e}),p.log("Publisher config update: ",JSON.stringify(d.s.pub))},o.deca=function(e){if(d.s.alter_adb_pixel)try{e=d.s.alter_adb_pixel(e)}catch(e){p.err("Alter adb fail",e)}return e};o.configureUnit=function(e,t){var i=!1,n=[];for(var r in d.u)if(d.u.hasOwnProperty(r)){var a=u(0,d.u[r]);if(d.s.dynamic_configuration)try{var o=d.s.dynamic_configuration(a,d.s,e);if("object"==typeof o&&(a=o),!a)continue}catch(e){p.err("Failed dynamic configuration",e)}if(t){if(t!=a.id)continue;i=a;break}if(a.rule_order)n[a.rule_order]=a;else if(c(e,a,d.s)){i=a;break}}if(!i&&n.length)for(var s=0;s<n.length;++s)if(n[s]&&c(e,n[s],d.s)){i=n[s];break}i&&(e.configure(i),function(e,t){var i;if(t.bid_req_confs&&t.bid_req_confs.length)for(var n=0;n<t.bid_req_confs.length;++n){var r=t.bid_req_confs[n],a={bidder_id:(i=r)[0],bidder_unit_id:i[1],settings:i[2]||{},mutate:i[3]||!1},o=f[String(a.bidder_id)];p.qsab(o,a.bidder_id)&&(e.addBidder(o,l[o]),e.addBidReqConf(o,a,d.s))}}(e,i))},o.units=function(i){p.each(d.u,function(e,t){i(u(0,e))})},d.s.usp&&p.cfusp(d.s.usp.image,d.s.usp.iframe,d.s.usp.delay);var a=!1,s=!1,g=!1,h=!1,m=!1,v=d.s.cmp_allow_geofail,b=[],_=[],w=p.qs("adb_gdpr"),y=!1,x=d.s.cmp;"function"==typeof x&&(x=x());var z,S,j=d.s.cmp_fallback,A=0,B=function(e){for(y=e;_.length;)_.shift()(y)};o.afterConsent=function(e){clearTimeout(z);var t=d.s.cmp_check_interval,i=d.s.cmp_check_max,n="function"==typeof e;if(x)if(y)n&&e(y);else{if(n&&(e=p.wrapAsync(e),_.push(e)),"iab"==x||"conversant"==x){if("function"!=typeof window.__cmp)return t&&A<i?(s||(s=!0,p.log("CMP not present; checking every ",t,"ms; max ",i,"intervals")),void(z=setTimeout(function(){++A,o.afterConsent()},t))):void(S||(S=!0,j?(x=j,p.err("CMP fallback to",x),setTimeout(function(){o.afterConsent()},0)):p.err("CMP object not found; exiting!")));if(a)return;return a=!0,p.log("CMP check"),void __cmp("getVendorConsents",null,function(e){p.log("CMP consent: ",e);var t={consentString:e?"iab"==x?e.consentData:e.metadata:void 0,vendorData:e?e.vendorConsents:void 0,gdprApplies:e?e.gdprApplies:void 0};B(t)})}g||"geoblock"!=x&&"geoblockbids"!=x&&"geocmp"!=x||(g=!0,function(e){if(!m&&w&&(p.log("Emulating GDPR"),m={cc:"XX",gdpr:!0}),!m&&p.cr("adbnoteu")&&(p.log("Non-GDPR geo cookie found"),m={cc:"XX",gdpr:!1}),m)return e(m);b.push(e),h||(h=!0,p.log("Geolocation requested"),r({url:("http:"===location.protocol?"http:":"https:")+"//cc.adspsp.com",withCredentials:!0},function(e,t){if(e){if(p.err("geobfail1",e),!v)return;m={cc:"11",gdpr:!1}}else try{m=JSON.parse(t)}catch(e){if(p.err("geobfail2",e),!v)return;m={cc:"22",gdpr:!1}}for(p.log("Geolocation result",m),m.gdpr||p.cw("adbnoteu",1,5);b.length;)b.shift()(m)}))}(function(e){return e.gdpr?"geocmp"==x?(x=d.s.cmp_for_geo,a=g=!1,p.log("GDPR applies, establishing dependency on CMP: ",x),void setTimeout(function(){o.afterConsent()},0)):"geoblock"==x?p.err("GDPR block all",e.cc):(p.err("GDPR block bids, allow DFP; cmp=",x),d.u=[],d.s.gptnpa&&(p.log("Setting NonPersonalizedAds=1"),googletag.cmd.push(function(){googletag.pubads().setRequestNonPersonalizedAds(1)})),B({gdprApplies:!0,consentString:""}),void(g=!1)):(p.log("GDPR OK: CC",e.cc," not in EU."),B({gdprApplies:!1,consentString:""}),void(g=!1))}))}else n&&e()};var n=function(n,r,a){o.afterConsent(function(e){if(e&&e.gdprApplies&&!e.consentString)return p.log("GDPR skip register",n,e);if(l[n])p.err("Duplicate bidder alias "+n);else{var t,i={bidder_id:(t=a)[0],settings:t[1]||{},mutate:t[2]||!1};0,l[n]=new r(n,i.bidder_id,i.settings,e),l[n].alias=n,l[n].id=i.bidder_id,l[n].settings=i.settings,l[n].mutate=i.mutate||!1,f[String(i.bidder_id)]=n}})},k=(e("./modules.js"),e("./adapters/quantcast.js")),I=e("./adapters/consumable.js"),R=e("./adapters/triplelift.js"),E=e("./adapters/gumgum.js"),C=e("./adapters/sovrn.js"),T=e("./adapters/rubicon.js"),q=e("./adapters/rhythmone.js"),U=e("./adapters/openx.js"),O=e("./adapters/komoona.js"),N=e("./adapters/index.js"),D=e("./adapters/criteo.js"),P=e("./adapters/conversant.js"),F=e("./adapters/appnexusast.js");n("aol",e("./adapters/aol.js"),[8,{adjust:.8},0]),n("appnexus",F,[5,0,0]),n("cpxi",F,[12,{adjust:.9},0]),n("conversant",P,[16,0,0]),n("criteo",D,[6,{test:!0},0]),n("districtm",F,[20,{adjust:.85},0]),n("index",N,[10,0,0]),n("komoona",O,[19,0,0]),n("openx",U,[4,{delDomain:"ancestry-d.openx.net"},0]),n("rhythmone",q,[24,{test:!0},0]),n("rubicon",T,[2,{adjust:.8,account:14544},0]),n("sovrn",C,[9,0,0]),n("fs_gumgum",E,[155,{adjust:.8},0]),n("fs_triplelift",R,[156,{adjust:.8},0]),n("fs_consumable",I,[157,{adjust:.8,networkId:"9969",siteId:"1033139"},0]),n("fs_quantcast",k,[158,{adjust:.8,test:!0},0])},{"./adapters/aol.js":2,"./adapters/appnexusast.js":3,"./adapters/consumable.js":4,"./adapters/conversant.js":5,"./adapters/criteo.js":6,"./adapters/gumgum.js":7,"./adapters/index.js":8,"./adapters/komoona.js":9,"./adapters/openx.js":10,"./adapters/quantcast.js":11,"./adapters/rhythmone.js":12,"./adapters/rubicon.js":13,"./adapters/sovrn.js":14,"./adapters/triplelift.js":15,"./ajax":16,"./modules.js":22,"./utils":28}],21:[function(e,t,n){var m=e("../utils.js"),f=e("../unit.js"),c=e("../auction.js"),g=e("../config.js"),h=e("../analytics.js"),v=e("../modules.js");if(!m.qs("adb_off")&&(window.googletag=window.googletag||{cmd:[]},window.AdBridg=window.AdBridg||{cmd:[]},!googletag||!googletag.cmd||googletag.cmd!==AdBridg.cmd)){var s=!(AdBridg.exists=!0),d=[],a=!1,b=[],o=[],_={},w={},u=!1,l=[],p=[],y={},x=[],z="Workflow |",S=!0,r=g.libSettings().sra_if;(r&&!r()||g.libSettings().no_sra)&&(S=!1);var j={},A=function(e,t){e=Math.round(100*e);for(var i=function(e){if(e||(e=".05:.05-10"),!j[e]){j[e]=[];for(var t=e.split(","),i=0;i<t.length;++i){var n=t[i].split(":"),r=n[1].split("-"),a={increment:Math.round(100*parseFloat(n[0])),upper:Math.round(100*parseFloat(r[1])),final:!1};i==t.length-1&&(a.final=a.upper-a.increment),j[e].push(a)}}return j[e]}(t),n=0;n<i.length;++n){var r=i[n];if(r.final&&e>=r.upper-r.increment)return{r:parseFloat(((r.final+r.increment)/100).toFixed(2)),kv:(r.final/100).toFixed(2)+"-"};if(!(e>=r.upper)){var a=Math.floor(e/r.increment)*r.increment/100,o=parseFloat((a+r.increment/100).toFixed(2)),s=o-.01;return{r:o,kv:Math.max(.01,a).toFixed(2)+"-"+s.toFixed(2)}}}},B=function(e){var t,i,n=g.libSettings().gpt_clear_kvps,r=[],a=e.getTargetingMap(),o=!1;for(i in a)a.hasOwnProperty(i)&&("adb_"==i.substr(0,4)||n&&0<=n.indexOf(i)?o=!0:r.push([i,a[i]]));if(o)for(e.clearTargeting(),t=0;t<r.length;++t)e.setTargeting(r[t][0],r[t][1]);k(e)},k=function(e){var t=g.libSettings().gpt_exclusions;if(t){do_erase=!1;var n=e.getCategoryExclusions();for(i=n.length-1;0<=i;--i){var r=n[i];t.hasOwnProperty(r)&&(n.splice(i,1),do_erase=!0)}if(do_erase)for(e.clearCategoryExclusions(),i=0;i<n.length;++i)e.setCategoryExclusion(n[i])}},I=function(e,t){var i=g.libSettings().gpt_exclusions;if(i){var n=[];for(var r in i){i[r]<=t&&(e.setCategoryExclusion(r),n.push(r))}n.length&&m.log("Set GPT category exclusions for ",e.getAdUnitPath()," / ",e.getSlotElementId(),": ",n)}},R=function(t,i,a){0;return m.wrapAsync(function(r){ee("ra",function(){var n=[];r.eachUnit(function(t){if(r===s){if(!t.get("gpt_slot")||t.get("preload_used"))return;t.set("preload_used",1)}try{var e=g.libSettings().post_auc_ufilter;if(e){var i=e(t,a);if(i)return void m.log("Ignoring",t.alias,t.get("dom_id"),i)}}catch(e){m.err("Err auc unit filter ",t.alias,t.get("dom_id"),e)}try{if(t.settings.require_bid&&!t.getWinner())return m.log("Discarding unit ",t.alias,t.get("dom_id")," -- requires bid but had none."),void m.thread(function(){AdBridg.destroySlots([t.get("gpt_slot")])})();!function(e){var t=g.libSettings().bid_strategy,i=e.getWinner(),n=e.get("gpt_slot");B(n),v.trigger("gpt.set_targeting",e,n);var r=e.get("adb_imp_data");if(r){var a=n.getTargeting("adb_imp")||[];m.isarr(a)||(a=[a]),m.each(r,function(e,t){e&&-1==a.indexOf(e)&&a.push(e)}),a.length&&n.setTargeting(g.kvp("adb_imp"),a)}if(g.libSettings().track_alias&&n.setTargeting(g.kvp("adb_cfg"),e.alias),!i)return n.setTargeting(g.kvp("adb_bdr"),["none"]),I(n,-1),v.trigger("gpt.no_hbc",e,n,function(e){return A(e,t)},function(e,t){k(e),I(e,t)});var o=(y[i.id]=i).config.bidder_name,s=i.cpm,d=g.libSettings().cur;d&&(d.exclude&&-1<d.exclude.indexOf(i.config.bidder_id)?m.log("Currency conversion skipped: ",i.config.bidder_name):(m.log("Currency conversion: USD = ",s,"; Rate = ",d.rate,"; DFP = ",d.rate*s),s*=d.rate));var c=A(s,t),u=c.kv;v.trigger("gpt.modify_hbc",e,n,{bid:i,range:c,mod:function(e){return c=A(s=e,t),u=c.kv,c}}),m.qs("adb_force_bidder")&&(o="force",u="");var l=g.libSettings().vs_threshold;if("function"==typeof l)try{var p=l(s);p&&n.setTargeting(g.kvp("adb_vs"),p)}catch(e){m.err("HVfail",e)}n.setTargeting(g.kvp("adb_bdr"),[o]),n.setTargeting(g.kvp("adb_hbc"),[u]),n.setTargeting(g.kvp("adb_adid"),[i.id]),m.log("Set GPT targeting for ",n.getAdUnitPath()," / ",n.getSlotElementId(),": ",o,u),I(n,s)}(t),n.push(t.get("gpt_slot"))}catch(e){m.err("Err setting unit ",t.alias,t.get("dom_id"),e)}});var e=p.concat(n);if(p=[],q(e),"function"==typeof t&&t(r),S&&!(e=N(e)).length)return m.err("All units cancelled",r.id);(S||a)&&(J(),m.log(z,"GPT Batch: ",e.length),googletag.pubads().refresh(e,i),v.trigger("gpt.request_adbridg",r,a))})})},E=function(){if(u){var e=l.length;if((l=N(l)).length){if(m.isdebug()){var t=[];m.each(l,function(e){t.push(e.getAdUnitPath()+" / "+e.getSlotElementId())}),m.log("Non-bid request with",l.length," units: ",t)}ee("rp",function(){var e=l;l=[],e.length&&(J(),q(e),m.log(z,"GPT PT Batch: ",e.length),googletag.pubads().refresh(e),v.trigger("gpt.request_passthrough",e))})}else e&&m.err("PT units cancelled")}},C={},T={},q=function(e){m.each(e,function(e){var t=e.getSlotElementId(),i=(T[t]||0)+1;T[t]=i;var n=g.libSettings().track_imps;if(n)try{"string"!=typeof n&&(n="1:1-11"),imp_tracking=Math.floor(A(i,n).kv.split("-")[0]);for(var r=e.getTargeting("adb_imp"),a=r.length-1;0<=a;--a)String(r[a]).match(/^\d+$/)&&r.splice(a,1);r.push(imp_tracking),e.setTargeting(g.kvp("adb_imp"),r)}catch(e){m.err("Counter failed: ",e)}})},U={},O=function(e){m.log("Locked slot: ",e.getSlotElementId()),U[e.getSlotElementId()]=!0},N=m.wrapAsync(function(e,a){var o=g.libSettings().block_check,s=g.libSettings().max_imp_ctr,d=[];return m.each(e,function(e){if(e){if(a){if(U[e.getSlotElementId()])return m.log("Cannot refresh locked dom_id: ",e.getSlotElementId());if(s){var t=e.getSlotElementId(),i=T[t]||0;if(s<=i)return C[t]?m.log("Slot excluded; too many imps: ",e,i+" > "+s):m.err("Slot imp max: ",e.getAdUnitPath(),t,s)}}if(o){var n=o(e);if(n)return m.err("Slot excluded P",n)}var r=[];if(v.trigger("gpt.filter_slot",e,a,r),r.length)return m.log("Module blocking",e,r);d.push(e)}}),d}),D=function(e,n,r){var a=[];a=Number(e[0])==e[0]?[e]:[].concat(e);var o=[];if(m.each(a,function(e,t){if("string"==typeof e[t]){var i=e[t].split("x");return 0!=i[0]&&0!=i[1]||m.err("0 size in",n,r,e[t]),void(e[t].match(/^\d+x\d+$/)||o.push(t))}0!=e[0]&&0!=e[1]||m.err("0 size in",n,r,e.join("x")),a[t]=e.join("x")}),o.length)for(var t=o.length-1;0<=t;--t)a.splice(t,1);return a};window.AdBridg.defineSlot=m.wrapAsync(function(e,t,i){var n=g.libSettings().override_define;if("function"==typeof n)try{var r=n(e,t,i);r&&(r.dfp_ad_unit_path&&(e=r.dfp_ad_unit_path),r.dfp_sizes&&(t=r.dfp_sizes),r.dom_id&&(i=r.dom_id))}catch(e){m.err("DefineOverride",e)}var a=googletag.defineSlot(e,t,i);if(!a)return a;a.addService(googletag.pubads()),O(a);var o=D(t,e,i),s=o.join(","),d=new f({dom_id:i,gpt_slot:a,gpt_sizes:s});d.restrictSizesTo(o),_[i]=s;var c=400,u=g.libSettings().lazy;if("function"==typeof u&&"number"==typeof(u=u(d,a,i,g.libSettings()))&&(c=u),u){m.log("Requiring lazy: ",i),d.set("lock.lazy",1);var l=g.libSettings().lazy_measurement_filter;m.dom(i,c,0,function(){m.logl("wf",z,"unit triggered lazy load",d.alias,d.get("dom_id")),d.set("lock.lazy",!1),S?AdBridg.serve():AdBridg.display(i)},l)}if(b.push(d),m.log(z,"Defined slot: ",e,i,s),v.trigger("gpt.define",d,a,e,t,i),g.libSettings().allow_serve_from_display&&w[i]&&(m.logl("wf",z,"triggering serve from define after display",i),AdBridg.serve()),!S){var p=g.libSettings().nonsra_poll;"function"==typeof p&&(p=p()),p&&(m.log("Nonsra poll for DOM ids"),F(i))}return a}),window.AdBridg.defineOutOfPageSlot=m.wrapAsync(function(e,t){var i=googletag.defineOutOfPageSlot(e,t);if(!i)return i;i.addService(googletag.pubads()),O(i);var n=new f({dom_id:t,gpt_slot:i,gpt_sizes:""});return b.push(n),m.log(z,"Defined OOP slot: ",e,t),v.trigger("gpt.define",n,i,e,!1,t),g.libSettings().allow_serve_from_display&&w[t]&&(m.logl("wf",z,"triggering serve from defineOOP after display",t),AdBridg.serve()),i});var P={},F=function(t){P[t]=P[t]||{ct:0,tx:-1};var i=P[t];clearTimeout(i.tx),10!=i.ct?(i.ct+=1,i.tx=setTimeout(m.wrapAsync(function(){if(!w[t]){var e=!!document.getElementById(t);if(m.log("Nonsra display poll #"+i.ct+": ",t,"; display received =",!!w[t],"; dom exists =",e),e)return m.log("Nonsra issuing display from poll",t),void AdBridg.display(t);F(t)}}),1e3)):m.log("Nonsra display poll is giving up on",t)};window.AdBridg.display=m.wrapAsync(function(e,t,i){if(i?(AdBridg.defineSlot(e,t,i),AdBridg.serve()):i=e,w[i]=!0,m.logl("wf",z,"display received",i),g.libSettings().allow_serve_from_display&&b.length&&(m.logl("wf",z,"triggering serve from display",i),AdBridg.serve()),u=!0,!S){b.length&&(o=o.concat(b),b=[]);for(var n=o.length-1;0<=n;--n){var r=o[n].get("dom_id");if(w[r]){var a=o.splice(n,1)[0];if(!a.get("gpt_sizes")){m.logl("Ignoring display for unit with no sizes",r);continue}b.push(a)}}return b.length?(m.logl("wf",z,"nonsra issuing serve",b.length),void V(function(n,r){ee("dn",function(){n?n.eachUnit(function(e){m.logl("wf",z,"display resolved",e.get("dom_id"),"auction=",n),googletag.display(e.get("dom_id")),v.trigger("gpt.request_nosra",e.get("dom_id"))}):(m.logl("wf",z,"display resolved",r," as passthrough"),googletag.display(r),v.trigger("gpt.request_nosra",r));var e=o.length;if(e){m.logl("wf",z,"nonsra units queued: ",e);for(var t=e-1;0<=t;--t){var i=o[t].get("dom_id");if(w[i]){setTimeout(function(){AdBridg.display(i)},0);break}}}})})):void m.logl("wf",z,"nonsra display waiting on definition/serve")}ee("ds",function(){J(),m.logl("wf",z,"display resolved",i),googletag.display(i)}),E()}),window.AdBridg.refresh=m.wrapAsync(function(e,t){if(e||(e=googletag.pubads().getSlots()),g.libSettings().allow_serve_from_refresh&&b.length){for(var i=e.length-1;0<=i;i--)for(var n=b.length-1;0<=n;n--)e[i]===b[n].get("gpt_slot")&&e.splice(i,1);if(AdBridg.serve(),!e.length)return}var r=e.length;if(e=N(e,!0),m.logl("wf",z,"refresh: ",r,"slots requested; ",r-e.length,"filtered out;",e.length,"remaining."),e.length){var a=new c,o="no_auction"!=g.libSettings().refresh,s=[],d=[];m.each(e,function(e){try{B(e)}catch(e){return m.err("Failed to clear slot: ",e)}O(e);var t=e.getSlotElementId(),i=_[t]||"",n=new f({dom_id:t,gpt_slot:e,gpt_sizes:i,is_refresh:!0});o&&(g.configureUnit(n),m.logl("sz","Refresh restricting sizes to ",i),n.restrictSizesTo(i.split(","))),n.hasBidReqConf()?a.addUnit(n):(d.push(e.getAdUnitPath()+" / "+e.getSlotElementId()),s.push(e))}),s.length&&(m.log("Refreshing",s.length,"non-bid units: ",d),ee("rn",function(){J(),q(s),m.log(z,"GPT RF Batch: ",s.length),googletag.pubads().refresh(s,t),v.trigger("gpt.request_passthrough",s,!0)})),a.hasUnit()&&(x.push(a),a.execute(R(null,t,!0)))}else r&&m.err("RF units cancelled")});var M=m.wrapAsync(function(e){var t=String(e.message?e.message:e.data),i=t.substr(0,9);return"adbsrverr"==i?m.err("Safeframe error: ",t.substr(10)):"adbsrvlog"==i?m.log("Safeframe: ",t.substr(10)):void("adbsrvreq"==i&&AdBridg.render({safeframe:!0,source:e.source},t.substr(10)))});window.addEventListener?window.addEventListener("message",M,!1):document.attachEvent&&window.attachEvent("onmessage",M),window.AdBridg.render=m.wrapAsync(function(t,e){if(y[e]){var i=y[e];m.log("Unit ",i.config.unit.alias," rendering ",i.width+"x"+i.height," creative from ",i.config.bidder_name," BR ",i.config.id),h.bidRendered(i);var n={config:i.config.unit.alias,bidder:i.config.bidder_name,size:i.width+"x"+i.height,extras:i.extras},r=JSON.stringify(n);if(v.trigger("bid.render",i,n),t.safeframe&&t.source&&t.source.postMessage){var a=g.libSettings().pmmutatefn;if(!i.creative)return m.err("Safeframe render fail: no creative");var o={ad:"\x3c!-- AdBridg Delivery (SF): "+r+" --\x3e"+i.creative};"function"==typeof a&&(o=a(i,o)),t.source.postMessage("adbsrvad:"+JSON.stringify(o),"*")}else if(i.creative){var s=g.libSettings().pubrenderfn,d=!1;"function"==typeof s&&(t.write("\x3c!-- AdBridg Delivery (ER): "+r+" --\x3e"),s(t,i.creative,i.config.bidder_name,i.width,i.height,i)?(d=!0,m.log("Creative rendered externally")):m.log("External render skipped")),d||(t.write("\x3c!-- AdBridg Delivery: "+r+" --\x3e"),t.write(i.creative),t.close())}else{if(!i.creative_url)return m.err("No creative from ",i.config.bidder_name," / ",i.config.bidder_unit_id);try{var c=m.iiframe();c.width=i.width,c.height=i.height,c.style.display="inline",c.style.overflow="hidden",c.src=i.creative_url,t.body.appendChild(document.createComment("AdBridg Delivery: "+r)),t.body.appendChild(c)}catch(e){m.err("Delivery failure from ",i.config.bidder_name," / ",i.config.bidder_unit_id,e)}}var u=i.resize_pad_top||!1,l=document.getElementById(i.config.unit.get("dom_id"));if(l.style.textAlign="center",function(e){var t=e.getElementsByClassName("adbridg-dyn-pad");if(t.length&&m.each(t,function(e){e.parent.removeChild(e)}),u){var i=m.prepend(e,"span");i.className="adbridg-dyn-pad",i.innerHTML="&nbsp;",i.style="display:block;width:1px;height:"+u+"px;overflow:hidden;";var n=document.createElement("span");n.className="adbridg-dyn-pad",n.innerHTML="&nbsp;",n.style="display:block;width:1px;height:"+u+"px;overflow:hidden;",e.appendChild(n)}}(l),t.safeframe)try{var p=l.getElementsByTagName("iframe");m.each(p,function(e){e.contentWindow===t.source&&(m.logl("RS","RS SF element: ",e.id,i.width,i.height),m.resize_element(e,i.width,i.height),String(e.parentNode.id).match(/google_ads_iframe.*container/)&&(m.logl("RS","RS SF parent: ",e.parentNode.id,i.width,i.height),m.resize_element(e.parentNode,i.width,i.height)))})}catch(e){m.err("Frame resize fail: ",e)}else t.defaultView&&t.defaultView.frameElement&&(t.defaultView.frameElement.width=i.width,t.defaultView.frameElement.height=i.height),m.logl("RS","RS iframe: ",i.width,i.height),m.resize_iframe(window,t,i.width,i.height);var f=g.libSettings().post_render;"function"==typeof f&&f(i)}else m.err("Render failed for ID ",e)});var G=[];window.AdBridg.sizeMapping=m.wrapAsync(function(){var e,i=[],n=googletag.sizeMapping(),r={addSize:m.wrapAsync(function(e,t){return n.addSize(e,t),i.push([e,t]),r}),build:m.wrapAsync(function(){return e=n.build(),G.push({gpt_map:e,sizes:i}),e})};return r}),window.AdBridg.useSizeMapping=m.wrapAsync(function(e,t,i){var n,r=!1,a=e.getSlotElementId(),o=e.getAdUnitPath();for(n=G.length-1;0<=n;--n)if(G[n].gpt_map===t){r=G[n].sizes;break}if(r){var s=m.vp(),d=s.w,c=s.h,u=!1,l=[];for(n=r.length-1;0<=n;--n){var p=r[n][0];if(d>=p[0]&&c>=p[1]){if(u){if(u[0]>p[0])continue;if(u[0]==p[0]&&u[1]>p[1])continue}u=p,l=r[n][1]}}var f=D(l,o,a),g=f.join(",");_[a]=g;var h=i||!1;if(!h)for(n=b.length-1;0<=n;--n)if(b[n].get("gpt_slot")===e){h=b[n];break}if(!h)return m.err("No unit for size map: ",o,a);h.set("gpt_sizes",g),h.restrictSizesTo(f),g?m.log("Applied size mapping to ",a," / ",o,": ",g):m.log("Excluding unit ",a," / ",o," because it has no valid sizes")}else m.err("Size mapping not found: ",o,a)}),window.AdBridg.resetInternals=function(){};var L=!(window.AdBridg.destroySlots=function(e){e||(e=googletag.pubads().getSlots());var i=[];return m.each(e,function(e){if(e){var t=e.getSlotElementId();delete T[t],delete _[t],delete U[t],delete w[t],m.undom(t),v.trigger("gpt.destroy",e,t),i.push(t)}}),m.log("Destroyed slots: ",i),googletag.destroySlots(e)}),J=function(){if(!L){L=!0;var e=g.libSettings().before_gpt;"function"==typeof e&&m.wrapAsync(e)(),googletag.enableServices()}},W=!1,V=m.wrapAsync(function(e){m.logl("wf",z,"serve called with",b.length,"pending units");var t=!1;J();for(var i=!1,n=0;b.length>n;){var r=b.shift();if(r.get("lock.lazy"))m.logl("wf",z,"serve skipped lazy",r.alias,r.get("dom_id")),n+=1,b.push(r);else if(g.configureUnit(r),r.hasBidReqConf()){if(s){var a=d.indexOf(r.id);if(0<=a){var o=!1;if(s.eachUnit(function(e){if(e.id==r.id){o=!0,d.splice(a,1),m.log("Proxy into preload ",r.alias);var t=r.get("gpt_slot"),i=r.get("dom_id"),n=_[i]||r.get("gpt_sizes")||"";e.set({dom_id:i,gpt_slot:t,gpt_sizes:n}),e.restrictSizesTo(n.split(",")),v.trigger("unit.pre_attach",e)}}),o){i=!0;continue}}}t||(t=new c),t.addUnit(r)}else S?l.push(r.get("gpt_slot")):(q([r.get("gpt_slot")]),m.thread(e)(!1,r.get("dom_id")))}(t||s)&&g.libSettings().gpt_keep_oop&&l.length&&(m.log("Batching passthrough units with auction units"),p=p.concat(l),l=[]),t&&(x.push(t),t.execute(R(e)),t=!1),i&&!W&&(W=!0,oe(R())),E()}),H=!1;window.AdBridg.serve=function(e){if(clearTimeout(H),S){m.logl("wf",z,"queuing serve");var t=g.libSettings().batch_delay;if("function"==typeof t&&(t=t(b)),0===t)return m.log("Starting auctions ASAP."),V(e);t||(t=100),H=setTimeout(function(){V(e)},t)}else for(var i=b.length-1;0<=i;--i){var n=b[i].get("dom_id");if(w[n]){setTimeout(function(){AdBridg.display(n)},0);break}}};var K=function(e){for(var t,i,n=x.length-1;0<=n&&!(t=(i=x[n]).findUnit(e));--n);return!t&&s&&(t=(i=s).findUnit(e)),!!t&&{auction:i,unit:t}},X=m.wrapAsync(function(t){try{e=t.slot,m.log("Unlocked slot: ",e.getSlotElementId()),U[e.getSlotElementId()]=!1,B(e)}catch(e){m.err("Unlock failed")}var e;v.trigger("gpt.render_raw",t);var i=K(function(e){return e.get("gpt_slot")===t.slot});if(i){if(!i.auction)return m.err("AUQ",t.slot.getAdUnitPath(),t.slot.getSlotElementId());h.gptRendered(i.auction,i.unit,t),v.trigger("gpt.render",i.unit,t),m.qdusp()}}),$=m.wrapAsync(function(t){v.trigger("gpt.viewed_raw",t);var e=K(function(e){return e.get("gpt_slot")===t.slot});if(e){h.gptViewed(e.auction,e.unit);try{var i=g.libSettings().post_view;"function"==typeof i&&i(t,e.unit)}catch(e){m.err("PostView fail",e)}v.trigger("gpt.viewed",t.slot,e.unit)}}),Z=[],Q={};window.AdBridg.lock=function(e){if(Q[e])return Q[e]=null,m.log("-== GPT lock already cleared: ",e);m.log("-== GPT locked by: ",e),Z.push(e)},window.AdBridg.unlock=function(e,t){for(var i=!1,n=0;n<Z.length;++n)if(Z[n]==e){m.log("-== GPT lock cleared: ",e),Z.splice(n,1),i=!0;break}i||t||(Q[e]=!0,m.log("-== GPT unrecognized lock cleared: ",e)),te()};var Y=[],ee=function(e,t){Y.push({n:e,f:m.wrapAsync(t)}),te()},te=function(){if(!Z.length)for(Y.length;Y.length;){Y.shift().f()}},ie=0,ne=function(){AdBridg.cmd.unshift(function(){window.AdBridg.lock("window.focus"),ie<=99&&(ie+=1),h.meta("wb",ie)})},re=function(){AdBridg.cmd.push(function(){window.AdBridg.unlock("window.focus",!0),h.meta("wb",0)})};window.addEventListener?(window.addEventListener("blur",ne),window.addEventListener("focus",re)):window.attachEvent&&(window.attachEvent("onblur",ne),window.attachEvent("onfocus",re)),m.isdebug()&&(AdBridg.auctions=x,AdBridg.utils=m);var ae=m.wrapAsync(function(){v.trigger("adb.init"),googletag.pubads().addEventListener("slotRenderEnded",X),googletag.pubads().addEventListener("impressionViewable",$),AdBridg.cmd.push=AdBridg.cmd.unshift=function(t){if("object"==typeof t&&(t.config&&g.proc(t.config),!t.gpt_path&&t.events&&m.each(t.events,function(e,t){v.on(t,e)}),t.gpt_path||t.length))try{m.log("Initialization command object processing:",t);var e=function(r){googletag.cmd.push(function(){var i=AdBridg.defineSlot(r.gpt_path,r.size||[],r.dom_id);if(r.size_map){for(var e=AdBridg.sizeMapping(),t=0;t<r.size_map.length;t++)e=e.addSize(r.size_map[t].viewport,r.size_map[t].sizes);e=e.build(),i.defineSizeMapping(e),AdBridg.useSizeMapping(i,e)}if(r.events){r.events["gpt.defined"]&&r.events["gpt.defined"](i);var n=function(t,e){r.events[t]&&googletag.pubads().addEventListener(e,function(e){e.slot===i&&r.events[t](i,e)})};n("gpt.rendered","slotRenderEnded"),n("gpt.viewed","impressionViewable"),n("gpt.visibilityChanged","slotVisibilityChanged")}})};if(t.length)for(var i=0;i<t.length;++i)e(t[i]);else e(t);t=function(){AdBridg.serve()}}catch(e){m.err("CmdObj fail",e)}"function"==typeof t&&setTimeout(function(){try{t.call()}catch(e){m.err("AdBridg.cmd had error: ",t,e)}},0)};var e=g.libSettings().initfn;for(e&&AdBridg.cmd.push(e);AdBridg.cmd.length;){var t=AdBridg.cmd.shift();AdBridg.cmd.push(t)}});window.AdBridg.lazy=function(e,t,i,n){"function"==typeof i&&(n=i,i=0),m.dom(e,t,i,n)},m.log("First execution."),g.afterConsent(function(e){if(!e||!e.gdprApplies||e.consentString){for(var t=g.libSettings().preload&&g.libSettings().preload()||[],i=function(i){var n=function(e){var t=[],i=function(e){2==e.length&&1<e[0]&&1<e[1]?t.push(e):m.err("Invalid preload size: ",e)};return m.isarr(e)&&(m.isarr(e[0])?m.each(e,i):i(e)),t},r=n(i.size||[]);return function(){var e=AdBridg.defineSlot(i.gpt_path,r,i.dom_id);if(m.isarr(i.size_map)){var t=AdBridg.sizeMapping();m.each(i.size_map,function(e){t.addSize(e.viewport,n(e.sizes))}),t=t.build(),e.defineSizeMapping(t),AdBridg.useSizeMapping(e,t)}AdBridg.serve()}},n=AdBridg.cmd.length;0<=n;n--){var r=AdBridg.cmd[n];r&&r.gpt_path&&AdBridg.cmd.splice(n,1,i(r))}t&&t.length&&(s=new c,m.each(t,function(e){if(e=parseInt(e,10),m.log("Preloading",e),e){var t=new f;if(g.configureUnit(t,e),!t.hasBidReqConf())return m.err("Preload bad id",e);d.push(e),s.addUnit(t)}}),s.hasUnit()&&(m.log("Preload kickoff",s),s.execute(m.wrapAsync(function(e){m.log("Preload complete"),a&&a(e)}))))}});var oe=function(e){s.isDone()?e(s):a=e};g.afterConsent(function(){googletag.cmd.push(function(){m.log("Initializing. SRA is",(S?"enabled":"disabled")+"."),S&&(googletag.pubads().enableSingleRequest(),googletag.pubads().disableInitialLoad()),ae()})})}},{"../analytics.js":17,"../auction.js":18,"../config.js":20,"../modules.js":22,"../unit.js":27,"../utils.js":28}],22:[function(e,t,i){var a=e("./utils.js"),n=[],r=function(e){n.push(e)},o={},s={on:function(e,t){a.isarr(e)||(e=[e]),a.each(e,function(e){o[e]||(o[e]=[]),o[e].push(t)})}};i.trigger=a.wrapAsync(function(e){var t=arguments,i=(o[e]||[]).concat(o["*"]||[]);a.each(i,a.wrapAsync(function(e){e.apply(null,t)}))});var d=!1;a.onerr(a.wrapAsync(function(){if(d)return console&&console.log("AdBridg nested module errors"),void a.pixel("//adspsp.com/$CUSTOMER_PUBLIC_ID$/500/2/1/?e=errnest");d=!0,i.trigger("error",arguments),d=!1})),i.on=a.wrapAsync(function(e,t){s.on(e,t)});try{r(new(e("./modules/emit.js"))({"gpt.set_targeting":function(e,t,i){a.qs("force_safeframe_test")&&t.set("adb_imp_data",["tle"])}},s)),r(new(e("./modules/sthrottle.js"))({advids:[11420268],encode:function(e){var t=(e&&e.getAdUnitPath()||"").toLowerCase();return t.match("160x600")?"A":t.match("sticky")?"B":t.match("300x250")?"C":t.match("btf|bottom")?"D":t.match("search")?"E":t.match("728x90|top")?"F":!!t.match("300x600")&&"G"},onblock:function(e,t){var i=t.getSlotElementId(),n=document.getElementById(i);if(!n)return a.err("Throttle fb no container",i);var r=t.getAdUnitPath().toLowerCase();r.match("160x600")?n.innerHTML='<iframe src="https://go.newspapers.com/ads/LDR-search.php?xid=1753&design=rwsky&nameField=1&utm_source=findagrave.com<http://findagrave.com" height="600" width="160" frameborder="0" scrolling="no"><a href="https://www.newspapers.com?xid=1753" target="_blank">Newspapers.com: Premier Newspapers Online</a></iframe>':r.match("728x90")?n.innerHTML='<iframe src="https://go.newspapers.com/ads/LDR-search.php?xid=1755&design=rw&nameField=1&utm_source=findagrave.com<http://findagrave.com" height="90" width="728" frameborder="0" scrolling="no"><a href="https://www.newspapers.com?xid=1755" target="_blank">Newspapers.com: Premier Newspapers Online</a></iframe>':r.match(/300x(250|600)/)?n.innerHTML='<iframe src="https://go.newspapers.com/ads/LDR-search.php?xid=1754&design=graymrec&nameField=1" height="250" width="300" frameborder="0" scrolling="no"><a href="https://www.newspapers.com?xid=1754" target="_blank">Newspapers.com: Premier Newspapers Online</a></iframe>':a.log("Throttle fb not found",r,i)}},s))}catch(e){a.err("Module failed",e)}},{"./modules/emit.js":23,"./modules/sthrottle.js":24,"./utils.js":28}],23:[function(e,t,i){var n=e("../utils.js");t.exports=function(t,e){e.on("*",n.wrapAsync(function(e){t[e]&&t[e].apply(null,arguments)}))}},{"../utils.js":28}],24:[function(e,t,i){var l=e("../utils.js"),p=(e("../config.js"),!!l.qs("adb_throttle")),f=function(e){var t,i={},n=(t=e,(String(document.cookie).match(new RegExp(t+"=([^;]+)"))||[]).pop());if(n)for(var r=n.split(","),a=0;a<r.length;a+=2){var o=parseInt(r[a+1],36);o&&(i[r[a]]=o)}return i},g=function(e,t){var i,n,r,a="";l.each(t,function(e,t){(e=parseInt(e,10))&&(a+=(a?",":"")+t+","+Math.ceil(e).toString(36))}),a&&(i=e,n=a,(r=new Date).setTime(r.getTime()+864e5),document.cookie=i+"="+n+"; expires="+r.toGMTString()+"; path=/; domain=."+window.location.hostname.replace(/.*?([^.]+\\.[^.]+)$/,"$1"))};t.exports=function(a,e){if(a.test&&!p)return l.log("Throttle inactive");var o=a.ckey||"adbmst",s=f(o),i=a.at||3,n=a.inc||2,d=a.dec||1,r=a.advids||[],c=a.encode||function(e){return e.getSlotElementId()},u=function(e){var t=c(e);return s[t]>=i&&t};e.on("gpt.render_raw",function(e,t){var i=c(t.slot);if(t.isEmpty||-1<r.indexOf(t.advertiserId)||p)return s[i]=(s[i]||0)+n,void g(o,s);s[i]&&(s[i]-=d,g(o,s))}),e.on("gpt.filter_slot",function(e,t,i,n){var r=u(t);r&&(l.err("Throttled imp",s[r],(t.getAdUnitPath().split("/")||[]).pop(),t.getSlotElementId()),n.push("SessionThrottle"),s[r]-=d,g(o,s),a.onblock&&a.onblock(r,t))}),e.on("gpt.define",function(e,t,i,n,r,a){var o=u(i);o&&(t.settings.test=!0,l.log("Throttled unit",o,n,a))})}},{"../config.js":20,"../utils.js":28}],25:[function(e,t,i){var s=e("./utils.js");function n(e){var t=this,i=e.url,n=e.config,r=e.id,a=e.callback,o=e.loaded;this.url=i,this.config=n,this.handlers={},this.id=r,this.loaded=o,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):s.err("Commands given to Renderer.push must be wrapped in a function")},this.callback=a||function(){t.loaded=!0,t.process()},s.load(i,this.callback,!0)}n.install=function(e){return new n({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded})},n.prototype.getConfig=function(){return this.config},n.prototype.setRender=function(e){this.render=e},n.prototype.setEventHandlers=function(e){this.handlers=e},n.prototype.handleVideoEvent=function(e){var t=e.id,i=e.eventName;"function"==typeof this.handlers[i]&&this.handlers[i](),s.log("Prebid Renderer event for id "+t+" type "+i)},n.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){s.err("Error processing Renderer command: ",e)}},t.exports=n},{"./utils.js":28}],26:[function(e,t,i){var n,p=e("./ajax.js"),f=e("./utils.js"),r=e("./renderer.js"),a=e("./adapterManager"),g={auction:void 0,gdpr_consent_object:void 0},h=function(e){return 2===e.length?e:e.split("x").map(Number)},m=function(e){var t="GET"===e.method&&("object"==typeof e.data?f.toqs(e.data,!0):e.data);return{method:e.method,url:"GET"===e.method&&t?[e.url,"?",t].join(""):e.url,withCredentials:!0,parseResponseJson:!0,data:"POST"===e.method&&("object"==typeof e.data?JSON.stringify(e.data):e.data),contentType:(e.options||{}).contentType}},v={utils:{inIframe:function(){return!f.url().is_top},_map:function(i,n){if(!i)return[];if("function"==typeof i.map)return i.map(n);var r=[];return f.each(i,function(e,t){r.push(n(e,t,i))}),r},deepAccess:function(e,t){return t.split(".").reduce(function(e,t){return(e||{})[t]},e)},getTopWindowLocation:function(){return window.location},getTopWindowReferrer:function(){return f.url().referrer},getTopWindowUrl:function(){return f.url().href},getWindowSelf:function(){return window.self},getWindowTop:function(){return window.top},isArray:function(e){return Array.isArray(e)},parseSizesInput:function(e){return e.map(function(e){return e.join("x")})},_each:f.each,cookiesAreEnabled:function(){return navigator.cookieEnabled},logError:f.err,logWarn:f.log,logMessage:f.log,getBidIdParameter:function(e,t){return t&&t[e]||""},getUniqueIdentifierStr:(n=0,function(){return++n+Math.random().toString(16).substr(2)}),convertCamelToUnderscore:function(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")},convertTypes:function(n,r){return f.each(n,function(e){var t=n[e],i=n[e];r[e]="function"==typeof t?i(i):"string"===t?i&&i.toString():"number"===t?Number(i):i,isNaN(r[e])&&delete r[e]}),r},createTrackPixelHtml:f.pixelh,isEmpty:function(e){if(!e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},transformBidderParamKeywords:function(e,t){t=t||"keywords";var n=[];return f.each(e,function(e,t){var i={key:t};Array.isArray(e)&&(i.value=e.map(function(e){return e+""})),null!=e&&(i.value=[e+""]),i.hasOwnProperty("value")&&n.push(i)}),n},tryAppendQueryString:function(e,t,i){return i?e+(t+"=")+encodeURIComponent(i)+"&":e},getValueString:function(e,t,i){return null==t?i:"string"==typeof t?t:t.toString()},isStr:function(e){return"string"==typeof e},assign:f.assign,isInteger:Number.isInteger||function(e){return Math.floor(e)===e&&isFinite(e)},isNumber:function(e){return"number"==typeof e},groupBy:function(e,i){return e.reduce(function(e,t){return(e[t[i]]=e[t[i]]||[]).push(t),e},{})},deepClone:function n(r){return Object.keys(r).reduce(function(e,t){var i={}.toString.call(r[t]).slice(8,-1);return e[t]="Array"===i?n(r[t]):"Object"===i?n(r[t]):"Date"===i?new Date(r[t].getTime()):"RegExp"===i?new RegExp(r[t]):r[t],e},Array.isArray(r)?[]:{})},flatten:function(e,t){return e.concat(t)},generateUUID:f.genUUID,getBidRequest:function(i,e){return find(e,function(e){return e.bids.some(function(t){return["bidId","adId","bid_id"].some(function(e){return t[e]===i})})})},insertUserSyncIframe:function(e){f.uspf("S2S",e)},triggerPixel:function(e){f.uspi("S2S",e)},uniques:function(e,t,i){return i.indexOf(e)===t}},REPO_AND_VERSION:"prebid_prebid_1.19.0-pre",BANNER:"banner",VIDEO:"video",NATIVE:"native",config:{config:{},getConfig:function(e){switch(e){case"pageUrl":return f.url().href;case"bidderTimeout":return g.auction.max_ms;case"consentManagement.cmpApi":return g.gdpr_consent_object.cmpApi;default:return v.config.config[e]}},bidders:null,js:null,setDefaults:function(e){if("object"!=typeof defaults)return f.err("defaults must be an object");f.assign(v.config.config,e)}},parse:function(e,t){var i=document.createElement("a");t&&t.noDecodeWholeURL?i.href=e:i.href=decodeURIComponent(e);var n,r=t&&t.decodeSearchAsString;return{href:i.href,protocol:(i.protocol||"").replace(/:$/,""),hostname:i.hostname,port:+i.port,pathname:i.pathname.replace(/^(?!\/)/,"/"),search:r?i.search:(n=i.search||"",n?n.replace(/^\?/,"").split("&").reduce(function(e,t){var i=t.split("="),n=i[0],r=i[1];return/\[\]$/.test(n)?(e[n=n.replace("[]","")]=e[n]||[],e[n].push(r)):e[n]=r||"",e},{}):{}),hash:(i.hash||"").replace(/^#/,""),host:i.host||window.location.host}},registerBidder:function(e){},userSync:{registerSync:function(e,t,i){var n="image"===e?f.uspi:"iframe"===e?f.uspf:void 0;n?n(t,i):f.err(["Unknown sync type: ",e," from ",t].join(""))}},includes:function(e,t){return-1!==e.indexOf(t)},find:function(e,t){return e.filter(t)[0]},Renderer:r,EVENTS:{BID_RESPONSE:"bidResponse",BIDDER_DONE:"bidderDone"},loadExternalScript:function(e,t){f.log("module "+t+"is loading external JavaScript"),f.load(e,null,!0)},Adapter:function(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}},S2S:{SRC:"s2s"},STATUS:{GOOD:1,NO_BID:2},S2S_VENDORS:{appnexus:{adapter:"prebidServer",cookieSet:!1,enabled:!0,endpoint:"//prebid.adnxs.com/pbs/v1/openrtb2/auction",syncEndpoint:"//prebid.adnxs.com/pbs/v1/cookie_sync",timeout:1e3},rubicon:{adapter:"prebidServer",cookieSet:!1,enabled:!0,endpoint:"//prebid-server.rubiconproject.com/openrtb2/auction",syncEndpoint:"//prebid-server.rubiconproject.com/cookie_sync",timeout:500}},adaptermanager:a,ajax:function(e,n,t,i){f.ajax(f.assign({},i,{data:t,url:e}),function(e,t,i){e&&n.error?n.error(e.err,e):n.success?n.success(t,i):n(t)})},bidfactory:{createBid:e("./bidFactory.js").createBid},cookieSet:function(e){f.load(e,null,!0)},events:{emit:function(){}},isValid:function(e,t,i){return!0}};v.isArray=v.utils.isArray,v.isInteger=v.utils.isInteger,t.exports={wrap:function(l){var n;return l.spec.buildRequests||(l.spec=(n=l.spec,{buildRequests:function(e,t){var r=[],i=[];return n.callBids(void 0,e,function(e,t){i.push(t)},done,function(e,t,i,n){r.push(f.assign({},n,{url:e,data:i}))}),r},interpretResponse:function(e,t){return interpretations}})),function(s,d,c,u){this.execute=function(t){g.auction=t,g.gdpr_consent_object=u;var e=function(o,e,s,d){var c=[];if(o.eachBidRequest(e,function(e,t){var i={};f.assign(i,s,t.params),delete i.adjust,i[d]=t.bidder_unit_id,i.bidFloor=t.min_cpm,i.bidfloor=t.min_cpm;var n=t.mediaTypes||{banner:{sizes:t.all_sizes.map(h)}},r=t.all_sizes.map(h),a=f.genUUID();c.push({adUnitCode:e.get("dom_id"),auctionId:o.id,bidId:t.id,bidder:t.bidder_name,bidderRequestId:t.id,crumbs:{pubcid:f.genUUID()},mediaTypes:n,nativeParams:n.native,params:i,sizes:r,transactionID:a,transactionId:a})}),0!==c.length)return c.forEach(function(e,t,i){e.bidRequestsCount=i.length}),{bidderRequest:{auctionId:o.id,auctionStart:o.jsts,bidderCode:e,bidderRequestId:c[0].bidderRequestId,bids:c,gdprConsent:g.gdpr_consent_object,start:o.start,timeout:o.timeout,doneCbCallCount:0},bidRequests:c}}(t,s,c,l.unitIDKey),r=l.spec.buildRequests(e.bidRequests,e.bidderRequest);Array.isArray(r)||(r=[r]);var i,n,a=[],o=(i=s,n={},t.eachBidRequest(i,function(e,t){n[t.id]={config:t,unit:e}}),n);r.map(m).forEach(function(e,n){e.max_ms=t.ajax_ms,p(e,f.wrapAsync(function(e,t){if(a.push(t),!e){var i=l.spec.interpretResponse({body:t},r[n]);Array.isArray(i)||(i=[i].filter(Boolean)),i.forEach(function(e){var t,i,n,r=o[e.requestId];if(!r)return f.err(["unrequested response from",s,":",JSON.stringify(e)].join(" "));i=e,n=r.config,i.ad||(i.vastUrl||i.vastXml)&&(i.renderer||n.renderer)?r.unit.addBid(r.config,{creative:(t=e).ad,vastUrl:t.vastUrl,cpm:t.cpm,width:t.width,height:t.height,extras:{dealid:t.deal_id,crid:t.creativeId,adv_id:t.adv_id,brand_id:t.brand_id},render:t.renderer&&t.renderer.render&&t.renderer.render.bind(t.renderer,t)}):r.unit.addEmptyBid(r.config),r.found=!0})}a.length===r.length&&(Object.keys(o).map(function(e){return o[e]}).filter(function(e){return!e.found}).forEach(function(e){e.unit.addEmptyBid(e.config)}),[].concat(l.spec.getUserSyncs&&l.spec.getUserSyncs({syncEnabled:!0,pixelEnabled:!0,iframeEnabled:!0},a)||[]).forEach(function(e){v.userSync.registerSync(e.type,d,e.url)}))}))})}}},polyfills:v}},{"./adapterManager":1,"./ajax.js":16,"./bidFactory.js":19,"./renderer.js":25,"./utils.js":28}],27:[function(e,t,i){var j=e("./utils"),A=e("./analytics"),B=e("./modules"),k=e("./config");t.exports=function(e){this.id=0,this.alias="",this.size="",this.other_sizes=[],this.min_cpm=0,this.max_ms=0,this.settings={},this.unique_id=j.genID("U"),this.auction=!1,this.all_sizes=[],this.original_sizes=[];var b=this,u={},_={},l=0,n={},w=[],p={},r=!1,y=!1,t=!1,x=!1,f=!1,a=[];this.init=function(){e&&b.set(e)},this.restrictSizesTo=function(e){b.all_sizes=b.original_sizes,j.logl("sz","Unit",b.alias,"restrict sizes to",JSON.stringify(e)," old _allowed_sizes",JSON.stringify(f)),f=e,a.length&&b.allowSizes(a);for(var t=[],i=b.all_sizes.length-1;0<i;--i)if(-1===f.indexOf(b.all_sizes[i])){var n=b.all_sizes[i];b.all_sizes.splice(i,1);var r=b.other_sizes.indexOf(n);0<=r&&b.other_sizes.splice(r,1),t.push(n)}j.logl("sz","Unit",b.alias,"removed sizes",JSON.stringify(t),"allowed sizes",JSON.stringify(f)),B.trigger("unit.restrict_sizes",b,f,t)},this.allowSizes=function(e){a=[],j.each(e,function(e){j.logl("sz","Unit size added",b.alias,e),f&&-1==f.indexOf(e)&&f.push(e),-1==a.indexOf(e)&&a.push(e),-1==b.other_sizes.indexOf(e)&&b.other_sizes.push(e),-1==b.all_sizes.indexOf(e)&&b.all_sizes.push(e)}),j.logl("sz","Unit",b.alias,"allowed sizes",a),B.trigger("unit.allow_sizes",b,a)},this.configure=function(e){for(var t in e)"unique_id"!=t&&"auction"!=t&&("settings"!=t?b.hasOwnProperty(t)&&"function"!=typeof b[t]&&(b[t]=JSON.parse(JSON.stringify(e[t]))):j.each(e[t],function(e,t){b.settings[t]=e}));b.all_sizes=[b.size].concat(b.other_sizes),b.original_sizes=[].concat(b.all_sizes),j.logl("sz","Unit definition original_sizes=",JSON.stringify(b.original_sizes),"size=",JSON.stringify(b.size),"other_sizes=",JSON.stringify(b.other_sizes)),j.qs("adb_force_bidder")&&(b.min_cpm=0),B.trigger("unit.config",b)},this.addBidder=function(e,t){p[e]=t},this.eachBidder=function(e){for(var t in p)p.hasOwnProperty(t)&&u[t]&&e(t,p[t])},this.hasBidReqConf=function(){return 0<l},this.addBidReqConf=function(e,t,i){var n={id:j.genID("BR"),unit:b,adjust:1,bidder_name:e,bidder_id:t.bidder_id,bidder_unit_id:t.bidder_unit_id,min_cpm:b.min_cpm,size:b.size,other_sizes:b.other_sizes,all_sizes:[],responses:[],late_responses:[],test:t.test};if(p[e]){var r;for(r in b.settings)b.settings.hasOwnProperty(r)&&(n[r]=b.settings[r]);for(r in t.settings)t.settings.hasOwnProperty(r)&&(n[r]=t.settings[r]);for(r in p[e].settings)p[e].settings.hasOwnProperty(r)&&(n[r]=p[e].settings[r]);n.params={},j.assign(n.params,t.settings),1!=n.adjust&&(n.min_cpm=Number((n.min_cpm/n.adjust).toFixed(2)));var a=[],o=!1;if(t.mutate&&a.push({n:"BidReq",f:t.mutate}),p[e].mutate&&a.push({n:"Bidder",f:p[e].mutate}),j.each(a,function(e){e.f(n,i)||(o=!0,j.log(e.n+" mutate rejected BR: ",n))}),!o)if(!n.test||j.qsab(e,n.bidder_id,!0)){if(t.settings.size?n.other_sizes=[]:"string"==typeof n.other_sizes&&(n.other_sizes=n.other_sizes?n.other_sizes.split(","):[]),f){var s=[];0<=f.indexOf(n.size)&&s.push(n.size);for(var d=0;d<n.other_sizes.length;++d){var c=n.other_sizes[d];0<=f.indexOf(c)&&s.push(c)}if(!s.length)return void(f.length&&j.log("Unit ",b.alias," skipped configuration for ",n.bidder_name," because it does not support any of these sizes: ",f));n.size=s[0],n.other_sizes=s.slice(1)}n.all_sizes=[n.size].concat(n.other_sizes),j.logl("sz","Bid request sizes:",n.all_sizes),u[e]||(u[e]=[]),u[e].push(n),_[n.id]=n,++l}else j.log("Test configuration skipped: ",n)}else j.err("BR missing bidder",e)},this.eachBidReqConf=function(e,t){"function"==typeof e&&(t=e,e=!1),e?j.each(u[e],t):j.each(_,t)},this.getBidReqConf=function(e){return _[e]||!1},this.set=function(e,t){if("object"!=typeof e)n[e]=t;else for(var i in e)e.hasOwnProperty(i)&&b.set(i,e[i])},this.get=function(e){return n[e]},this.halt=function(){y=!0},this.onReady=function(e){t=e,z()};var z=function(){x&&t&&setTimeout(function(){t(b)},0)};this.markEmpty=function(e){b.eachBidReqConf(e,function(e){e.responses.length||b.addEmptyBid(e)})},this.addEmptyBid=function(e){if("number"==typeof e||"string"==typeof e){var t=e;if(!(e=_[t]))return void j.err("Could not find bid req: ",t)}e.responses.length||y&&e.late_responses.length||b.addBid(e,{})};var S=function(e,t){return e._bid_cpm==t._bid_cpm&&e.width==t.width&&e.height==t.height&&e.creative==t.creative};this.addBid=function(e,t){if(!e||!b.getBidReqConf(e.id))return j.err("Bid request from ",e.bidder_name,"not found on unit",b.id),!1;var i=Number(parseFloat(t.cpm).toFixed(2))||0,n=Number(t.width)||0,r=Number(t.height)||0,a=t.creative||"",o=t.creative_url||"",s=t.extras||{},d=t.force||!1,c=t.render,u=t.vastUrl;i||(t.empty=!0);var l=Number((i*e.adjust).toFixed(2)),p=e.min_cpm;0<p&&l<p&&(l=0);var f=k.libSettings().pubchkcreativefn;a&&"function"==typeof f&&!f(e,t,k.libSettings())&&(j.log("Creative blocked: ",e.bidder_id,n,r,l,s),l=0);var g=j.dts(),h={id:b.id+"."+j.genID("B"),ms:Math.round(g-b.auction.ts),ts:g,config:e,viable:!y,cpm:l,_min_cpm:p,_bid_cpm:i,force:d,width:n,height:r,creative:a,creative_url:o,extras:s,render:c,vastUrl:u};if(function(e,t){var i;for(i=0;i<e.responses.length;++i)if(S(t,e.responses[i]))return!0;for(i=0;i<e.late_responses.length;++i)if(S(t,e.late_responses[i]))return!0;return!1}(e,h))return j.log("Unit ",b.alias,"ignored duplicate bid from ",e.bidder_name," on BR ",e.id,": ",h.ms,h.width+"x"+h.height,h.cpm.toFixed(2)),!1;var m=h.viable?"":"late ";if(!h.cpm&&0<h._bid_cpm){var v=1!=e.adjust?" * "+e.adjust+" = "+Number((h._bid_cpm*e.adjust).toFixed(2)):"";m+="below-floor ("+h._bid_cpm+v+" < "+h._min_cpm+") "}else t.empty&&(m+="empty ");return j.log("Unit ",b.alias,"got",m+"bid from ",e.bidder_name," on BR ",e.id,": ",h.ms,h.width+"x"+h.height,h.cpm.toFixed(2)),B.trigger("bid.ready",h),h.viable?(e.responses.push(h),w.push(h),function(){if(!y){for(var e in _){var t=_[e];if(t.responses&&!t.responses.length)return}x=!0,z()}}()):(e.late_responses.push(h),A.lateBid(h)),h},this.getWinner=function(){return r||(j.each(w,function(t){var e=t.width+"x"+t.height;if(t.cpm&&f&&f&&-1==f.indexOf(e))return j.log("Unit ",b.alias,"rejected",t.config.bidder_name,"invalid size",e),void j.err("U",b.id," B",t.config.bidder_id+"."+t.config.bidder_unit_id,e,f);var i=t.cpm&&(!r||t.cpm>r.cpm||t.cpm==r.cpm&&.5<Math.random());if(r&&r.force&&(i=!1),t.force||i){r=t;try{var n=function(e){"string"==typeof t[e]&&(t[e]=t[e].replace(/\$\{AUCTION_PRICE\}/g,t.cpm))};n("creative"),n("creative_url")}catch(e){j.err("Macro failed: ",e)}}}),r&&(j.log("Unit ",b.alias,"set winner to ",r.config.bidder_name,r.width+"x"+r.height,r.cpm.toFixed(2)),B.trigger("bid.auction_winner",r))),r},this.init()}},{"./analytics":17,"./config":20,"./modules":22,"./utils":28}],28:[function(e,t,p){var n;p.wrapAsync=function(e,t){return function(){try{return e.apply(this,arguments)}catch(e){t?t(e):p.err("Caught AsyncErr: ",e)}}},p.thread=function(t){return t=p.wrapAsync(t),function(){var e=arguments;setTimeout(function(){t.apply(this,e)},0)}},p.attempt=function(e,t){try{return e()}catch(e){}return t};var i=1,r=function(e){return e||(e=document.readyState),{loading:1,interactive:2,complete:3}[e]||0},a=(new Date).getTime(),o=function(){try{a-=Math.round(performance.now()),o=function(){return r()+"T"+Math.round(performance.now()).toString(36)},n=[i,a.toString(36),o()]}catch(e){o=function(){return r()+"T"+Math.max(0,(new Date).getTime()-a).toString(36)},n=[i=0,a.toString(36),r()+"T0"]}};o();var f=function(e,t,i){return e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i),i};f(document,"readystatechange",function(){var e,t,i;3==r()&&(e=document,t="readystatechange",i=arguments.callee,e.removeEventListener?e.removeEventListener(t,i):e.detachEvent&&e.detachEvent("on"+t,i)),n.push(o())}),p.perfts=function(){return o()},p.pgts=function(){return n},p.dts=function(){return i?Number(performance.now().toFixed(2)):Number(Math.max(0,(new Date).getTime()-a).toFixed(2))};var s=0;p.genID=function(e){return(e||"")+ ++s+Math.random().toString(16).substr(2)},p.vp=function(){var e,t,i,n=document;try{e=window.innerWidth,t=window.innerHeight,i=window.pageYOffset}catch(e){}return{w:e||(n.documentElement&&n.documentElement.clientWidth||n.body&&n.body.clientWidth)||0,h:t||(n.documentElement&&n.documentElement.clientHeight||n.body&&n.body.clientHeight)||0,y:i||n.body&&n.body.scrollTop||0}},p.cr=function(e){var t=String(document.cookie).match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t=t?decodeURIComponent(t[2]):""},p.cw=function(e,t,i){if(0<(i=i||1)){var n=new Date;n.setTime(n.getTime()+864e5*i),exp_string=n.toGMTString()}else exp_string="max-age=-99999";document.cookie=e+"="+encodeURIComponent(t)+";"+exp_string+";path=/;domain=."+window.location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1")};try{var d="adbct";p.cw(d,1),p.cookies=!!p.cr(d),p.cw(d,"",-1)}catch(e){}try{p.safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}catch(e){}p.https=!("https:"!=location.protocol),p.genUUID=function(e){try{return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,p.genUUID)}catch(e){return 0}},p.qs=function(e){var t=new RegExp(e+"=([^&]+)");return(String(window.location.search).match(t)||[]).pop()};var c=p.qs("adb_force_bidder"),u=p.qs("adb_allow_bidder"),l=[];c&&"*"!=c&&(l=l.concat(c.split(","))),u&&"*"!=u&&(l=l.concat(u.split(","))),p.qsab=function(e,t,i){return t=String(t),"*"==u||"*"==c||(i?0<=l.indexOf(t)||0<=l.indexOf(e):!c||(0<=l.indexOf(t)||0<=l.indexOf(e)))},p.qsappend=function(e,t,i,n){return n&&!t?"":(i&&(t=encodeURIComponent(t)),"&"+e+"="+t)},p.toqs=function(e,i){var n="";return p.each(e,function(e,t){p.isarr(e)?p.each(e,function(e){n+=p.qsappend(t+"[]",e,i)}):n+=p.qsappend(t,e,i)}),n.replace(/^\&/,"")},p.each=function(e,t){if(e&&0!==e.length)if(e.length)for(var i=0;i<e.length;++i)t(e[i],i);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},p.resize_element=function(e,t,i){e.style.width&&String(e.style.width).replace("px","")!=t&&(e.style.width=t+"px"),e.style.height&&String(e.style.height).replace("px","")!=i&&(e.style.height=i+"px"),e.getAttribute("width")&&e.getAttribute("width")!=t&&e.setAttribute("width",t),e.getAttribute("height")&&e.getAttribute("height")!=i&&e.setAttribute("height",i)},p.resize_iframe=function(e,t,i,n){try{for(var r=e.document.getElementsByTagName("iframe")||[],a=0;a<r.length;++a)try{if(r[a].contentDocument===t)return p.resize_element(r[a],i,n),void(e!==top&&p.resize_iframe(e.parent,e.document,i,n))}catch(e){}}catch(e){p.err("Error resizing window to "+i+"x"+n,e)}p.err("Failed to resize window to "+i+"x"+n)},p.url=function(){var t,i,n,r,e=top,a=window,o=document,s=!1;try{s=window.parent===window}catch(e){}try{t=e.location.host,i=e.location.pathname+e.location.search+e.location.hash,href=e.location.href,n=e.document.referrer,r=e.document.title}catch(e){try{t=(String(o.referrer).match(/^[^\/]+\/\/([^\/]+)/)||[]).pop(),i=(String(o.referrer).match(/^[^\/]+\/\/[^\/]+(\/.+)$/)||[]).pop(),href=o.referrer,r=n=""}catch(e){}}return t&&i||(t=a.location.host,i=a.location.pathname+a.location.search+a.location.hash,href=a.location.href,n=o.referrer),{domain:t,page:i,href:href,referrer:n,title:r,is_top:s}},p.pixel=function(e){document.createElement("img").src=e+"&rnd="+Math.random()},p.pixelh=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(e)+'"></div>':""},p.pixelf=function(e,t,i){return e?(t&&(e=encodeURI(e)),"<iframe "+(i=i?'sandbox="'+i+'"':"")+' id="'+p.genID("IPF")+'" src="'+e+'" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" scrolling="no"></iframe>'):""};var g,h=[],m={};p.uspf=p.wrapAsync(function(e,t){p.logl("px","UserSync qF",e,m[e],5,t),m[e]=(m[e]||0)+1,5<m[e]||h.push({a:e,t:"f",u:t})}),p.uspi=p.wrapAsync(function(e,t){p.logl("px","UserSync qI",e,m[e],5,t),m[e]=(m[e]||0)+1,5<m[e]||h.push({a:e,t:"i",u:t})});var v=!0,b=!0,_=500;p.cfusp=function(e,t,i){e||(v=!1),t||(b=!1),i&&(_=i),p.log("UserSync set: ",{image:v,iframe:b,delay:_})},p.qdusp=function(){p.logl("px","UserSync Q",h,_,v,b,p.safari,p.cookies),!p.safari&&p.cookies&&(clearTimeout(g),g=setTimeout(p.wrapAsync(function(){for(;h.length;){var e=h.shift();if(b&&"f"==e.t){var t=document.createElement("div");t.innerHTML=p.pixelf(e.u,!1,"allow-scripts allow-same-origin"),document.body.appendChild(t.firstChild),p.log("UserSync (F): ",e.u)}else if(v&&"i"==e.t){document.createElement("img").src=e.u,p.log("UserSync (I): ",e.u)}}}),_))};var w={};p.load=function(e,t,i,n){if(t=t?p.wrapAsync(t):function(){},i&&w[e])w[e].ready?t():w[e].cbs.push(t);else{i&&(w[e]||(w[e]={ready:!1,cbs:[t]}),t=function(){w[e].ready=!0,p.each(w[e].cbs,function(e){e()})});var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,t())}:r.onload=t,r.src=e;var a=n||(document.body||document.head);a.appendChild(r,a.firstChild)}},p.loadCached=function(e,t){p.load(e,t,!0)},p.iiframe=function(e){var t=document.createElement("iframe");return t.id=p.genID("IIF"),t.height=0,t.width=0,t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t.src=void 0===e?"about:blank":e,t.style.display="none",t},p.prepend=function(e,t){return"string"==typeof t&&(t=document.createElement(t)),e.children.length?e.insertBefore(t,e.children[0]):e.appendChild(t),t},p.isarr=function(e){return"[object Array]"===Object.prototype.toString.call(e)};var y=p.qs("adb_debug")||p.cr("adb_debug");y&&(document.cookie="adb_debug="+y+";path=/;domain=."+location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1")),p.isdebug=function(){return y},p.log=function(){if(y){var e=Array.prototype.slice.apply(arguments);e.unshift("AdBridg | "+p.dts().toFixed(2));try{console.log.apply(console,e)}catch(e){}}},p.logl=function(e){y==e&&p.log.apply(p,["log::",e].concat(Array.prototype.slice.apply(arguments,[1])))};var x=[];p.err=function(){var t=Array.prototype.slice.apply(arguments);if(y){var e=[].concat(t);e.unshift("AdBridg | "+p.dts().toFixed(2)+" | ERROR: ");try{console.log.apply(console,e)}catch(e){}}x.length&&p.each(x,function(e){e.apply(null,t)})};var z=!(p.onerr=function(e){x.push(e)}),S=[];p.onrec=function(e){for(z=e;S.length;)z(S.shift())},p.rec=function(e){z?z(e):S.push(e)},p.dom=p.wrapAsync(function(e,t,i,n,r){j.add(e,t,i,n,r)}),p.undom=p.wrapAsync(function(e,t){j.remove(e,t)});var j=new function(){var i,s={},d=0,c=[],n=!1,r=!1,u=!1;this.add=function(e,t,i,n,r){s[e]=s[e]||[],s[e].push({c:n,d:t,t:i,i:e,f:r}),d+=1,a()},this.remove=function(e,t){var i,n=s[e]||[];if(t)for(i=n.length-1;0<=i;--i)n[i].c===t&&s[e].splice(i,1);for(t&&n.length||delete s[e],i=c.length-1;0<=i;--i)t&&c[i].c!==t||c.splice(i,1)},f(window,"scroll",function(){u=!0,!i&&d&&(p.logl("lz","Lazy scroll wait",100),i=setTimeout(a,100))});var l=function(e,t){return e.f&&!e.f(e,t,u)?(p.logl("lz","Lazy blocked",e,u),!1):0<e.d&&e.d<1?t.v>e.d:t.d<e.d},a=p.thread(function(){var e=p.dts();if(clearTimeout(i),i=!1,n||e-r<50)i=setTimeout(a,50);else{var o;n=!0,r=e,p.logl("lz","Lazy measure",e),o=[],p.each(s,function(e,t){var i=p.where(t);if(!i)return p.logl("lz","Lazy no dom",t);for(var n=e.length-1;0<=n;--n){var r=e[n],a=l(r,i);p.logl("lz","Lazy check",JSON.stringify({el:t,coords:i,reqdist:r.d,criteria:a,seenscr:u})),a&&(d-=1,e.splice(n,1),c.push(r),p.logl("lz","Lazy to duration",t))}e.length||o.push(t)}),p.each(o,function(e){delete s[e]});var t=function(e){for(var t=!1,i=c.length-1;0<=i;--i){var n=c[i],r=n.i;if(p.logl("lz","Lazy check time",n,r," has scroll event: ",u),n.tx){if(!l(n,p.where(r))){p.logl("lz","Lazy back to distance",r),n.tx=0,c.splice(i,1),s[r]=s[r]||[],s[r].push(n),d+=1;continue}}else n.tx=e+n.t;var a=n.tx-e;a<=0?(p.logl("lz","Lazy execute",r),c.splice(i,1),p.thread(n.c)()):t=t?Math.min(a+1,t):a+1}return t}(e)||100;c.length&&(p.logl("lz","Lazy duration wait",t),i=setTimeout(a,t)),n=!1}})};p.where=function(e){var t=document.getElementById(e);if(!t)return!1;var i=t.getBoundingClientRect(),n=p.vp(),r=i.top,a=i.height,o=i.top+a,s="in_viewport",d=0,c=1;return r<0?(d=o<0?Math.abs(o):0,s=((c=0<o?o/a:0)?"partially_":"")+"above_viewport"):o>n.h&&(d=r>n.h?r-n.h:0,s=((c=r<n.h?(n.h-r)/a:0)?"partially_":"")+"below_viewport"),{p:s,d:d,v:c,c:{vp:n,t:r,h:a,b:o}}},p.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i}},{}]},{},[21]);