/*  AdBridg Enhanced v2.1.0, copyright AdBridg Inc. All rights reserved. 66cac90:jbfofomg */
!function e(t,i,n){function r(d,o){if(!i[d]){if(!t[d]){var s="function"==typeof require&&require;if(!o&&s)return s(d,!0);if(a)return a(d,!0);throw new Error("Cannot find module '"+d+"'")}var c=i[d]={exports:{}};t[d][0].call(c.exports,function(e){var i=t[d][1][e];return r(i||e)},c,c.exports,e,t,i,n)}return i[d].exports}for(var a="function"==typeof require&&require,d=0;d<n.length;d++)r(n[d]);return r}({1:[function(e,t,i){var n=e("../utils.js"),r=e("../ajax.js");t.exports=function(e,t,i){var a={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},d=function(e){var t="https:"===document.location.protocol?"https":"http",i=e.aol_server?e.aol_server:a[e.aol_region||"us"],n=e.network,r=parseInt(e.bidder_unit_id),d=e.aol_size_id||0;return[t,"://",i,"/pubapi/3.0/",n,"/",r,"/",e.aol_page_id||0,"/",d,"/ADTECH;v=2;cmd=bid;cors=yes;alias=",e.aol_alias||e.id,"",";misc=",(new Date).getTime()].join("")};this.execute=function(t){t.eachBidRequest(e,function(e,t){var i={url:d(t),withCredentials:!0};r(i,function(i,r){if(i)return e.addEmptyBid(t),"timeout"!=i.type&&n.err("AOL call failed: ",i);if(!r)return e.addEmptyBid(t);try{r=JSON.parse(r)}catch(i){return e.addEmptyBid(t),n.err("AOL invalid JSON: ",i)}try{var a=r.seatbid[0].bid[0]}catch(i){return void e.addEmptyBid(t)}var d=a.adm;r.ext&&r.ext.pixels&&(d+='<script>try { if(!top.AdBridg.global("aol_pixel")){top.AdBridg.global("aol_pixel", true);'+r.ext.pixels.replace(/<\/?script( type=('|")text\/javascript('|")|)?>/g,"")+"}}catch(e){}<\/script>"),e.addBid(t,{creative:d,cpm:a.price,width:a.w,height:a.h,extras:{id:r.id,creativeid:a.crid}})})})}}},{"../ajax.js":12,"../utils.js":19}],2:[function(e,t,i){var n=e("../utils.js"),r=e("../ajax.js"),a=!1,d=function(e){if("string"==typeof e){var t=e.split("x");return{width:parseInt(t[0],10),height:parseInt(t[1],10)}}for(var i=0;i<e.length;++i)e[i]=d(e[i]);return e};t.exports=function(e,t,i){this.execute=function(t){var i=[];if(t.eachBidRequest(e,function(e,t){var n={sizes:d(t.all_sizes),primary_size:d(t.size),uuid:t.id,id:+t.bidder_unit_id,allow_smaller_sizes:!1,prebid:!0,disable_psa:!0};t.send_floor&&(n.reserve=e.min_cpm),t.position&&(n.position={above:1,below:2}[t.position]||0),i.push(n)}),!i.length)return n.log(e,"had no valid units for auction "+t.id),t.markBidderEmpty(e);var o={url:"//ib.adnxs.com/ut/v3/prebid",method:"POST",contentType:"text/plain",withCredentials:!0,data:JSON.stringify({tags:i,user:void 0,sdk:{source:"pbjs",version:"0.30.0"}})};r(o,n.wrapAsync(function(i,r){return i?(t.markBidderEmpty(e),"timeout"!=i.type&&n.err("AppNexusAST had error: ",i)):r?(r=JSON.parse(r),n.each(r.tags,n.wrapAsync(function(e){var i=t.getBidRequest(e.uuid);if(!i)return n.err("AppNexusAst bad id: ",e.uuid);e.ads&&e.ads.length&&n.each(e.ads,function(t){if(t.cpm&&t.rtb&&t.rtb.banner){var r=t.rtb.banner.content;try{var a=t.rtb.trackers[0].impression_urls[0];r+=n.pixelh(a)}catch(e){n.err("AppNexusAst tk failed: ",e)}i.unit.addBid(i,{creative:r,cpm:t.cpm,width:t.rtb.banner.width,height:t.rtb.banner.height,extras:{bmid:t.buyer_member_id,crid:t.creative_id,bauid:e.auction_id,bapid:e.ad_profile_id}})}})})),a||(a=!0,n.uspf("//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html")),void t.markBidderEmpty(e)):t.markBidderEmpty(e)}))}}},{"../ajax.js":12,"../utils.js":19}],3:[function(e,t,i){var n=e("../utils.js"),r={};window.pbjs=window.pbjs||{},window.pbjs.bfPbjsCB=n.wrapAsync(function(e){var t=e.cbID,i=r[t];if(!i)return n.err("Bidfluence bad id: ",t);r[t]=!1;var a={};i.unit.addBid(i,{creative:e.ad,cpm:e.cpm,width:e.width,height:e.height,extras:a})});var a=[],d=n.thread(function(){if(a.length){var e=a.shift();n.load("//cdn.bidfluence.com/forge.js",n.wrapAsync(function(){d(),FORGE.init(e)}))}});t.exports=function(e,t,i){this.execute=function(t){t.eachBidRequest(e,function(e,t){r[t.id]=t,a.push([t.bidder_unit_id,t.pubId,{placementCode:e.get("gpt_slot").getAdUnitPath(),cbID:t.id},void 0])}),d()}}},{"../utils.js":19}],4:[function(e,t,i){var n=e("../utils.js"),r=e("../ajax.js");t.exports=function(e,t,i){var a=window,d=navigator,o=0,s=function(e){var t=e.split("x");return{w:parseInt(t[0]),h:parseInt(t[1])}},c=function(){return"1"===d.doNotTrack||"1"===a.doNotTrack||"1"===d.msDoNotTrack||"yes"===d.doNotTrack},u=function(){var e=d.language?"language":"userLanguage";return{h:screen.height,w:screen.width,dnt:c()?1:0,language:d[e].split("-")[0],make:d.vendor?d.vendor:"",ua:d.userAgent}};this.execute=function(t){var i=location.pathname+location.search+location.hash,a={},d=0,c=0,f={},p=function(e){n.each(f[e].imp,function(e){t.markBidEmpty(e.id)})};t.eachBidRequest(e,function(e,t){siteId=String(t.bidder_unit_id);var r={id:t.id,secure:String(location.protocol).match("https")?1:0,displaymanager:"AdBridgConnect",displaymanagerver:"2.1.0",tagid:t.bidder_unit_id,banner:s(t.size)};if(r.secure&&(c=!0),t.other_sizes.length&&(r.banner={format:[r.banner]},n.each(t.other_sizes,function(e){r.banner.format.push(s(e))})),t.position&&(r.banner.pos=t.position),!a[siteId]){d+=1;var o=n.genID();a[siteId]={id:o,imp:[],site:{id:siteId,mobile:null!==document.querySelector('meta[name="viewport"][content*="width=device-width"]')?1:0,page:i},device:u(),at:1},f[o]=a[siteId]}a[siteId].imp.push(r)});var l="conversantResponse"+ ++o,g=0;window.AdBridg[l]=function(e){++g==d&&(window.AdBridg[l]=null),e.seatbid&&e.seatbid.length?(n.each(e.seatbid,function(e){n.each(e.bid,function(e){var i=t.getBidRequest(e.impid);if(!i)return n.err("Conversant had invalid bid req id: ",e.impid);var r="";e.price&&(r=e.adm+'<img src="'+e.nurl+'" />');var a={id:e.id,creativeid:e.crid};e.addomain&&(a.addomain=e.addomain.join?e.addomain.join(","):e.addomain),i.unit.addBid(i,{creative:r,cpm:e.price,width:e.w,height:e.h,extras:a})})}),p(e.id)):p(e.id)};var h=function(e,t){if(e)return++g==d&&(window.AdBridg[l]=null),"timeout"!=e.type&&n.err("Conversant request failed: ",e);var i=document.createElement("script");i.type="text/javascript",i.className="cnvr-response";try{i.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(i)}catch(e){i.text=t,document.getElementsByTagName("head")[0].appendChild(i)}},m=c?"https:":location.protocol;n.each(a,function(e){var t={url:m+"//media.msg.dotomi.com/s2s/header/24?callback=AdBridg."+l,data:JSON.stringify(e),withCredentials:!0};r(t,h)})}}},{"../ajax.js":12,"../utils.js":19}],5:[function(e,t,i){var n=e("../utils.js");window.Criteo=window.Criteo||{},window.Criteo.events=window.Criteo.events||[],t.exports=function(e,t,i){var r=i.pubtag||"publishertag.prebid.js",a=window.location.protocol+"//static.criteo.net/js/ld/"+r;n.loadCached(a);this.execute=function(t){var i=n.wrapAsync(function(i){try{i=JSON.parse(i)}catch(e){n.log("Criteo response unparseable"),i={}}i&&i.slots&&n.each(i.slots,function(e){var i=t.getBidRequest(e.impid);if(!i)return n.log("Criteo slot: ",e),n.err("Criteo had bad id: ",e.impid);i.unit.addBid(i,{creative:e.creative,cpm:e.cpm,width:e.width,height:e.height,extras:{}})}),t.markBidderEmpty(e)}),r=n.wrapAsync(function(i){n.err("Criteo had error: ",i),t.markBidderEmpty(e)});window.Criteo.events.push(n.wrapAsync(function(){var a=[];t.eachBidRequest(e,function(e,t){var i=[];n.each(t.all_sizes,function(e){e=e.split("x"),i.push(new Criteo.PubTag.DirectBidding.Size(parseInt(e[0],10),parseInt(e[1],10)))}),a.push(new Criteo.PubTag.DirectBidding.DirectBiddingSlot(t.id,Number(t.bidder_unit_id),void 0,n.genUUID(),i))});var d=new Criteo.PubTag.DirectBidding.DirectBiddingEvent(125,new Criteo.PubTag.DirectBidding.DirectBiddingUrlBuilder(!1),a,i,r,r,void 0,void 0,0);window.criteo_pubtag.push(d)}))}}},{"../utils.js":19}],6:[function(e,t,i){function n(e){var t=u[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}function r(e){return c.lastIndex=0,c.test(e)?e.replace(c,n):e}var a=e("../utils.js"),d={"728x90":1,"120x600":1,"300x250":1,"160x600":1,"336x280":1,"234x60":1,"300x600":1,"300x50":1,"320x50":1,"970x250":1,"300x1050":1,"970x90":1,"180x150":1},o=Math.floor(256*Math.random()),s=0,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};t.exports=function(e,t,i){this.execute=function(t){o=(o+1)%256;var i=top===self?1:0,n={id:String((new Date).getTime()%2592e3*256+o+256),site:{page:r(top===self?location.href:document.referrer)},imp:[]};document.referrer&&(n.site.ref=r(document.referrer));var c,u={},f={};if(t.eachBidRequest(e,function(e,t){a.each(t.all_sizes,function(a){if(d[a]){a=a.split("x");var o=Number(a[0]),s=Number(a[1]);c||(c=t.bidder_unit_id),f[t.slot]||(f[t.slot]=0);var p=t.slot+"_"+ ++f[t.slot],l=String(n.imp.length+1);u[l]={br:t,w:o,h:s};var g={id:l,banner:{w:o,h:s,topframe:i},ext:{sid:r(p),siteID:Number(t.bidder_unit_id)}};e.min_cpm&&(g.bidfloor=e.min_cpm),n.imp.push(g)}})}),n.imp.length){var p="_cygnus_cb"+ ++s;window.AdBridg[p]=a.wrapAsync(function(e){e.seatbid?(a.each(e.seatbid,function(e){a.each(e.bid,function(t){var i=u[t.impid],n=i.br,r=t.ext||{},d=(parseInt((r.pricelevel||"").replace("_",""),10)||0)/100;if(!d)return n.unit.addEmptyBid(n);var o={seat:e.seat,adid:t.adid,addmn:t.adomain,cid:t.cid,crid:t.crid};a.each(["advbrand","advbrandid","dspid"],function(e){r[e]&&(o[e]=r[e])}),n.unit.addBid(n,{creative:t.adm,cpm:d,width:i.w,height:i.h,extras:o})})}),a.each(u,function(e){e.br.unit.addEmptyBid(e.br)}),delete window.AdBridg[p]):a.each(u,function(e){e.br.unit.addEmptyBid(e.br)})});var l=("http:"===location.protocol?"http://as.casalemedia.com":"https://as-sec.casalemedia.com")+"/cygnus?v=7&fn=window.AdBridg."+p+"&s="+c+"&r="+encodeURIComponent(JSON.stringify(n))+"&pid=pbpbjs_lite_0.27.0-pre";t.max_ms&&(l+="&t="+t.max_ms),a.load(l)}}}},{"../utils.js":19}],7:[function(e,t,i){var n=e("../utils.js");window.pbjs||(window.pbjs={}),t.exports=function(e,t,i){this.execute=function(t){var i={ts_as:(new Date).getTime(),hb_placements:[],hb_placement_bidids:{},kb_callback:n.wrapAsync(function(e){var i=t.getBidRequest(e.bidid);if(!i)return n.err("Komoona bad id: ",e.bidid);i.unit.addBid(i,{creative:e.creative,cpm:e.cpm,width:parseInt(e.width,10),height:parseInt(e.height,10)})})};t.eachBidRequest(e,function(e,t){i.hdbdid=i.hdbdid||t.hbid,i.encode_bid=i.encode_bid||t.encode_bid,i.hb_placement_bidids[t.bidder_unit_id]=t.id,i.hb_placements.push(t.bidder_unit_id)}),n.load("//s.komoona.com/kb/0.1/kmn_sa_kb_c."+i.hdbdid+".js",n.wrapAsync(function(){"function"==typeof KmnKB&&KmnKB.start(i)}))}}},{"../utils.js":19}],8:[function(e,t,i){var n=e("../utils.js");t.exports=function(e,t,i){function r(e){var t,i,n,r=window,a=document,d=a.documentElement;if(e)try{r=window.top,d=(a=window.top.document).documentElement,n=a.body,t=r.innerWidth||d.clientWidth||n.clientWidth,i=r.innerHeight||d.clientHeight||n.clientHeight}catch(e){return}else d=a.documentElement,t=r.innerWidth||d.clientWidth,i=r.innerHeight||d.clientHeight;return t+"x"+i}function a(e){var t=[];return n.each(e,function(e,i){e&&t.push(i+"="+e)}),t.join("&")}function d(e,t){var i=e.tracking.impression.match(/([^?]+\/)ri\?/);i&&n.pixel(i[1]+"bo?"+a(t))}function o(e){var t=n.iiframe();t.setAttribute("id","openx-pd"),t.setAttribute("name","openx-pd");var i=document.body;i&&(t.src=e,s?(s.parentNode.replaceChild(t,s),s=t):s=i.appendChild(t))}var s=!1,c=0;this.execute=function(t){var s=!1;try{s=window.self!==window.top}catch(e){}var u=window.parent!==window?document.referrer:window.location.href;u=u&&encodeURIComponent(u),startTime=new Date(t.jsts);var f=[],p=[];t.eachBidRequest(e,function(e,t){f.push(t.bidder_unit_id),p.push(t.all_sizes.join(","))});var l="oxResponse"+ ++c,g={ju:u,jr:u,ch:document.charSet||document.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:s,tz:startTime.getTimezoneOffset(),tws:r(s),ef:"bt%2Cdb",be:1,bc:"hb_pb",auid:f.join("%2C"),aus:p.join("|"),callback:"window.AdBridg."+l},h="//"+i.delDomain+"/w/1.0/arj?"+a(g);window.AdBridg[l]=n.wrapAsync(function(i){if(!i.ads)return n.err("OpenX response malformed");i.ads.pixels&&o(i.ads.pixels),t.eachBidRequest(e,function(e,r){var a=!1,o=!1;n.each(i.ads.ad,function(t){if(!t.used&&!o&&t.adunitid==r.bidder_unit_id&&t.pub_rev&&t.creative&&t.creative[0]){var i=t.creative[0].width+"x"+t.creative[0].height;-1!=r.all_sizes.indexOf(i)&&(t.used=!0,o=t,a=e.addBid(r,{creative:t.html,cpm:Number(t.pub_rev)/1e3,width:t.creative[0].width,height:t.creative[0].height,extras:{id:t.adid,dealid:t.deal_id,adv_id:t.adv_id,brand_id:t.brand_id}}))}}),a?d(o.creative[0],{bd:+new Date-startTime,br:a.viable?"p":"t",bt:t.max_ms,bs:window.location.hostname,bp:o.pub_rev,ts:o.ts}):e.addEmptyBid(r)})}),n.load(h)}}},{"../utils.js":19}],9:[function(e,t,i){var n=e("../utils.js"),r=e("../ajax.js");t.exports=function(e,t,i){var a=n.url(),d=navigator,o={publisher:{id:i.network},ref:a.referrer,page:a.href},s={ua:d.userAgent,language:d.language||d.browserLanguage||d.userLanguage||d.systemLanguage};this.execute=function(t){var i={imp:[],site:o,device:s};t.eachBidRequest(e,function(e,t){var n=t.size.split("x");i.imp.push({id:t.id,banner:{w:parseInt(n[0],10),h:parseInt(n[1],10)},native:null,tagid:t.bidder_unit_id})});var a={url:window.location.protocol+"//bid.contextweb.com/header/ortb",data:JSON.stringify(i),method:"POST",withCredentials:!0,contentType:"text/plain"};r(a,n.wrapAsync(function(i,r){if(!r)return t.markBidderEmpty(e);try{r=JSON.parse(r)}catch(e){return n.err("Unable to parse PulsePoint",e)}if(!r||!r.seatbid||!r.seatbid.length)return t.markBidderEmpty(e);n.each(r.seatbid,function(e){n.each(e.bid||[],function(i){var r=t.getBidRequest(i.impid);if(!r)return n.err("Bad PulsePoint id: ",i.impid);var a=i.price;if(!a)return r.unit.addEmptyBid(r);r.unit.addBid(r,{creative:i.adm,cpm:a,width:i.w,height:i.h,extras:{seat:e.seat,adid:i.adid,addmn:i.adomain,cid:i.cid,crid:i.crid,cat:i.cat}})})}),t.markBidderEmpty(e)}))}}},{"../ajax.js":12,"../utils.js":19}],10:[function(e,t,i){function n(){return[window.screen.width,window.screen.height].join("x")}function r(){var e=function(){var e=window.DigiTrust&&window.DigiTrust.getUser({member:"T9QSFKPDN9"});return e&&e.success&&e.identity||null}();return!e||e.privacy&&e.privacy.optout?[]:[["dt.id",e.id],["dt.keyv",e.keyv],["dt.pref",0]]}function a(e,t){return"<html><head><script type='text/javascript'>inDapIF=true;<\/script></head><body style='margin : 0; padding: 0;'>\x3c!-- Rubicon Project Ad Tag --\x3e<div data-rp-impression-id='"+t+"'><script type='text/javascript'>"+e+"<\/script></div></body></html>"}function d(e){var t=[15,2,9],i=[];return o.each(e,function(e){var t=parseInt(c[e],10);t&&i.push(t)}),i=i.sort(function(e,i){var n=t.indexOf(e),r=t.indexOf(i);return n>-1||r>-1?-1===n?1:-1===r?-1:n-r:e-i})}var o=e("../utils.js"),s=e("../ajax.js"),c={1:"468x60",2:"728x90",8:"120x600",9:"160x600",10:"300x600",14:"250x250",15:"300x250",16:"336x280",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",43:"320x50",44:"300x50",48:"300x300",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",65:"640x480",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",113:"1000x300",117:"320x100",125:"800x250",126:"200x600"};o.each(c,function(e,t){c[e]=t}),t.exports=function(e,t,i){this.execute=function(t){t.eachBidRequest(e,function(e,t){var i,u=d(t.all_sizes);u.length>1&&(i=u.slice(1).join(","));var f=[["account_id",t.account],["site_id",t.site],["zone_id",t.bidder_unit_id],["size_id",u[0]],["alt_size_ids",i],["p_pos",t.position||"btf"],["rp_floor",e.min_cpm],["rp_secure","https:"===location.protocol?"1":"0"],["tk_flint","pbjs_lite_0.27.0-pre"],["p_screen_res",n()],["kw",t.keywords||""],["tk_user_key",t.userid||""],["rand",Math.random()],["rf",o.url().href]].concat(r()),p=[];o.each(f,function(e){p.push(e[0]+"="+encodeURIComponent(e[1]))});var l={url:"//fastlane.rubiconproject.com/a/api/fastlane.json?"+p.join("&"),withCredentials:!0};s(l,o.wrapAsync(function(i,n){if(i)return e.addEmptyBid(t),"timeout"!=i.type&&o.err("Rubicon bid request failed: ",i);if(!n)return e.addEmptyBid(t);try{var r=JSON.parse(n)}catch(i){return e.addEmptyBid(t),o.err("Rubicon response unparseable: ",i)}return"object"!=typeof r||"ok"!=r.status?(e.addEmptyBid(t),o.err("Rubicon response invalid: ",r)):r.ads&&r.ads.length?void("ok"==r.ads[0].status?o.each(r.ads,function(i){if("ok"===i.status){var n=c[i.size_id].split("x");e.addBid(t,{creative:a(i.script,i.impression_id),cpm:i.cpm,width:Number(n[0]),height:Number(n[1]),extras:{creativeid:i.ad_id,impid:i.impression_id,dealid:i.deal}})}}):e.addEmptyBid(t)):(e.addEmptyBid(t),o.err("Rubicon response ads invalid: ",r.ads))}))})}}},{"../ajax.js":12,"../utils.js":19}],11:[function(e,t,i){var n=e("../utils.js"),r=0;t.exports=function(e,t,i){this.execute=function(t){var i=[];t.eachBidRequest(e,function(e,t){var n=t.size.split("x");i.push({id:t.id,tagid:t.bidder_unit_id,banner:{w:n[0],h:n[1]}})});var a="sovrnCallback"+ ++r;if(window.AdBridg[a]=n.wrapAsync(function(i){if(!(i&&i.id&&i.seatbid&&i.seatbid[0]&&i.seatbid[0].bid&&i.seatbid[0].bid.length))return t.markBidderEmpty(e);n.each(i.seatbid[0].bid,function(e){var i=t.getBidRequest(e.impid);if(!i)return n.err("Sovrn had bad id: ",e.impid);responseCPM=parseFloat(e.price),responseCPM&&i.unit.addBid(i,{creative:decodeURIComponent(e.adm+'<img src="'+e.nurl+'">'),cpm:responseCPM,width:parseInt(e.w,10),height:parseInt(e.h,10),extras:{}})}),t.markBidderEmpty(e)}),!i.length)return n.log("Sovrn had no valid BRs");var d={id:t.id,imp:i,site:{domain:window.location.host,page:window.location.pathname+location.search+location.hash}},o="//ap.lijit.com/rtb/bid?callback=window.AdBridg."+a+"&src=AdBridgConnect2.0&br="+encodeURIComponent(JSON.stringify(d));n.load(o)}}},{"../utils.js":19}],12:[function(e,t,i){var n=e("./utils.js");t.exports=n.wrapAsync(function(e,t){var i,r=!1,a=e.method||(e.data?"POST":"GET");window.XMLHttpRequest?(i=new window.XMLHttpRequest).onreadystatechange=n.wrapAsync(function(){if(4===i.readyState){var e=i.status;e>=200&&e<300||304===e?t(null,i.responseText,i):0===e?t({err:"",type:"timeout"},"",i):t({err:i.statusText,type:"status="+e},"",i)}}):(r=!0,(i=new window.XDomainRequest).onload=n.wrapAsync(function(){t(null,i.responseText,i)}),i.onerror=n.wrapAsync(function(e){t({err:e,type:"error"},"",i)}),i.ontimeout=n.wrapAsync(function(e){t({err:e,type:"timeout"},"",i)}),i.onprogress=function(){}),i.open(a,e.url),i.timeout=3e3,r||(e.withCredentials&&(i.withCredentials=!0),n.each(e.headers,function(e,t){i.setRequestHeader(t,e)}),e.preflight&&i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type",e.contentType||"text/plain")),i.send("POST"===a&&e.data)})},{"./utils.js":19}],13:[function(e,t,i){var n=e("./utils.js"),r=e("./config.js"),a=function(){for(var e="",t=0;t<10;++t)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return e},d=a(),o=String((document.cookie.match(/_adb=([^;]+)/)||[]).pop());o&&"a2"==o.substr(0,2)||(document.cookie="_adb=; expires="+new Date(1970).toGMTString(),o="a2"+(new Date).getTime().toString(36)+a());var s=new Date;s.setTime(s.getTime()+31536e6),document.cookie="_adb="+o+"; expires="+s.toGMTString()+"; path=/";var c={},u={},f={},p=function(e,t,i,n){c[e]||(c[e]=[]),c[e].push(n),u[e]=i,f[e]||(f[e]=setTimeout(function(){l(e)},t))},l=function(e){if(clearTimeout(f[e]),f[e]=!1,c[e]&&c[e].length){var t=u[e],i=3===e?"1//"+c[e].length+t:"";i+=c[e].join(t),c[e]=[],h(e,1,i)}};i.flushNow=function(){for(var e in c)l(e)};var g=function(){if(!c[3]||!c[3].length)return"";var e=c[3].join("&e=");return c[3]=[],e},h=function(e,t,i){var a=[2,o,d].join(","),s=g(),c="//adspsp.com/pt/"+r.getId()+"/"+e+"/"+t+"/?a="+a+"&b="+i+"&e="+s+"&c="+encodeURIComponent(n.url().href)+"&d="+encodeURIComponent(n.url().referrer)+"&f="+n.pgts().join(".")+"&g="+n.perfts()+"&u=66cac90:jbfofomg";for(n.each(w,function(e,t){n.isarr(e)||(e=[e]),n.each(e,function(e){c+="&"+t+"="+encodeURIComponent(e)})});x.length;)delete w[x.pop()];n.each(y,function(e,t){c+="&"+t+"="+encodeURIComponent(e)}),y={},n.pixel(c)},m=function(e){return(parseInt(e,10)||0).toString(36)},b=function(e,t){return m(e)+"`"+m(t)},v=function(e){var t=[];return n.each(e,function(e){var i=e.split("x");2==i.length&&t.push(b(i[0],i[1]))}),t.join(".")},_=function(e){return String(e).replace(/[^\d\w-]/,"")},w={};i.meta=n.thread(function(e,t){w[e]=t});var x=[];i.metaqx=n.thread(function(e,t){-1==x.indexOf(e)&&x.push(e),w[e]?n.isarr(w[e])||(w[e]=[w[e]]):w[e]=[],w[e].push(t)});var y={};i.ctr=n.thread(function(e,t){void 0===t&&(t=1),t&&(y[e]=(y[e]||0)+t)}),i.auctionConfigured=n.thread(function(e){var t=[];e.eachUnit(function(e){var i=[],n=v(e.all_sizes);e.eachBidReqConf(function(e){var t=e.bidder_id+"@"+_(e.bidder_unit_id),n=v(e.all_sizes);i.push(t+"^"+n)}),t.push(e.id+"^"+n+":"+i.join(","))});var i=e.instancectr+"//"+t.length+"-"+t.join("_");h(1,1,i)});var B=function(e){var t=[Math.round(e.ms)];return(e.cpm||e._bid_cpm)&&(t.push(e.cpm),t.push(e.width),t.push(e.height),e._bid_cpm!=e.cpm&&(t.push(e._bid_cpm),t.push(e._min_cpm))),t.join(",")};i.auctionCompleted=n.thread(function(e){var t=[];e.eachBidRequest(function(i,r){var a=[e.instancectr,i.id,r.bidder_id,_(r.bidder_unit_id)].join(","),d=[];n.each(r.responses,function(e){var t=i.getWinner()===e?1:0;d.push(t+","+B(e))}),t.push(a+":"+d.join(":"))}),h(11,1,t.join("&b="))}),i.bidRendered=n.thread(function(e){var t=[e.config.unit.auction.instancectr,e.config.unit.id];t.push(e.config.bidder_id),t.push(e.config.bidder_unit_id),t.push(e.cpm),t.push(e.width),t.push(e.height);var i=JSON.stringify(e.extras);"{}"!=i&&t.push(encodeURIComponent(i)),p(12,100,"&b=","1:"+t.join(","))}),i.enhRendered=n.thread(function(e,t){p(12,100,"&b=","3:"+[e,t].join(","))}),i.gptRendered=n.thread(function(e,t,i){p(12,100,"&b=","2:"+[e.instancectr,t.id,m(i.advertiserId),m(i.campaignId),m(i.creativeId),i.isEmpty||"",m(i.lineItemId),i.size?b(i.size[0],i.size[1]):"",m(i.sourceAgnosticCreativeId),m(i.sourceAgnosticLineItemId)].join(","))}),i.lateBid=n.thread(function(e){var t=[e.config.unit.auction.instancectr,e.config.unit.id,e.config.bidder_id,e.config.bidder_unit_id].join(",");p(13,500,"&b=",t+":"+B(e))}),n.onerr(function(){try{var e="";n.each(arguments,function(t){void 0!==t&&("object"==typeof t?t=t.stack?(t.message||"")+" "+t.stack:JSON.stringify(t):"string"!=typeof t&&"number"!=typeof t&&(t=t.toString?t.toString():String(t)),e+=" "+t)}),e=e.substr(0,300)+(e.length>300?"...":""),e="500.1:"+n.perfts()+":"+e,p(3,1e3,"&e=",e)}catch(e){n.isdebug()&&console.error("AdBridg error report failed: ",e)}})},{"./config.js":15,"./utils.js":19}],14:[function(e,t,i){var n=e("./utils"),r=(e("./unit"),e("./analytics")),a=e("./modules"),d=0;t.exports=function(){this.instancectr=++d,this.id=n.genID("A"),this.ts=0,this.jsts=0,this.max_ms;var e=this,t={},i=[],o=[],s=[],c=!1;this.addUnit=function(n){return o.push(n),s.push(n.alias),n.auction=e,n.eachBidder(function(e,n){t[e]||(t[e]=n,Math.random()>.5?i.push(e):i.unshift(e))}),e.max_ms=e.max_ms?Math.min(e.max_ms,n.max_ms):n.max_ms,e},this.hasUnit=function(){return o.length>0},this.eachUnit=function(e){n.each(o,e)},this.eachBidRequest=function(e,t){"function"==typeof e&&(t=e,e=!1),this.eachUnit(function(i){i.eachBidReqConf(e,function(e){t(i,e)})})},this.getUnitByBidReqId=function(t){var i=!1;return e.eachUnit(function(e){e.getBidReqConf(t)&&(i=e)}),i},this.getBidRequest=function(t){var i=!1;return e.eachUnit(function(e){i||(i=e.getBidReqConf(t))}),i},this.markBidEmpty=function(t){var i=e.getUnitByBidReqId(t);i?i.addEmptyBid(t):n.err("Cannot mark bid empty: unknown id",t)},this.markBidderEmpty=function(t){e.eachUnit(function(e){e.markEmpty(t)})},this.execute=function(d){e.ts=n.dts(),e.jsts=(new Date).getTime(),n.log("Starting auction with ",o.length," units: ",s,"  / bidders: ",i," / timeout: ",e.max_ms),r.auctionConfigured(e),a.trigger("auction.start",e);var u=n.wrapAsync(function(){c||(c=!0,e.eachUnit(function(e){e.halt()}),r.auctionCompleted(e),a.trigger("auction.complete",e),d(e))}),f=0;e.eachUnit(function(t){t.onReady(n.wrapAsync(function(){c||++f>=o.length&&(n.log("Auction ",e.id," received bids for ",f," / ",o.length," units."),u())}))}),n.each(i,function(i){var r=t[i];n.thread(function(){r.execute(e)})()}),setTimeout(function(){c||(n.log("Auction ",e.id," timing out with ",f," / ",o.length," units completed."),u())},e.max_ms)}}},{"./analytics":13,"./modules":17,"./unit":18,"./utils":19}],15:[function(e,t,i){var n=e("./utils"),r={c:5781260,s:{bid_strategy:".05:.05-7.5,.5:8-20,1:21-40,2:42-50",track_imps:"1:1-12",max_imp_ctr:11,post_render:function(e){if(-1!=[7,8,9,10,11,20,21,22,23,24].indexOf(e.config.unit.id)){var t=window.AdBridg.global;clearTimeout(t("fga_rt")),t("fga_rf")||(t("fga_rf",[]),t("fga_rc",{}));var i=e.config.unit.get("dom_id"),n=e.config.unit.get("gpt_slot"),r=t("fga_rc");r[i]=(r[i]||0)+1,r[i]>10||(t("fga_rf").push(n),t("fga_rt",setTimeout(function(){var e=t("fga_rf");t("fga_rf",[]),window.AdBridg.refresh(e)},6e4)))}}},u:{7:[7,"FG 300x250 Right","300x250",[],.5,2e3,0,{"gpt.adunit_regex":"FindAGrave/fg_300x250_right"},[[2,"521832",{site:"110548"},0],[4,"538911241",0,0],[5,"11028238",0,0],[6,"716062",0,0],[8,"4234324",{network:"10240.1"},0],[9,"378816",0,0],[10,"198554",{slot:"04"},0],[12,"9456685",0,0],[13,"412497",0,0],[16,"107598",0,0],[19,"2f85eff0ca3e85a84473681c0e113cbe",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[20,"9817043",0,0],[23,"11651868",0,0],[27,"11277175",0,0]]],8:[8,"FG 160x600 Left","160x600",[],.5,2e3,0,{"gpt.adunit_regex":"FindAGrave/fg_160x600_left"},[[2,"521832",{site:"110548"},0],[4,"538911243",0,0],[5,"11028226",0,0],[6,"716060",0,0],[8,"4234325",{network:"10240.1"},0],[9,"378811",0,0],[10,"198553",{slot:"03"},0],[12,"9456648",0,0],[13,"412535",0,0],[16,"107598",0,0],[19,"c809ad0ae9bf3180149cf837f83fae83",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[20,"9817045",0,0],[23,"11651869",0,0],[27,"11277177",0,0]]],9:[9,"FG 728x90 Home ATF","728x90",[],.5,2e3,0,{"gpt.adunit_regex":"FindAGrave/Home/fg_728x90_Home_ATF"},[[2,"521832",{site:"110548"},0],[4,"538911244",0,0],[5,"11028261",0,0],[6,"716063",0,0],[8,"4234323",{network:"10240.1"},0],[9,"325557",0,0],[10,"198551",{slot:"01"},0],[12,"9456686",0,0],[13,"412536",0,0],[16,"107598",0,0],[19,"fcd19038264e801eb5b2f323e6a54caa",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[20,"9817047",0,0],[23,"11651867",0,0],[27,"11277176",0,0]]],10:[10,"FG 728x90 ATF","728x90",[],.5,2e3,0,{"gpt.adunit_regex":"FindAGrave/fg_728x90_atf"},[[2,"521832",{site:"110548"},0],[4,"538911244",0,0],[5,"11028261",0,0],[6,"716063",0,0],[8,"4234323",{network:"10240.1"},0],[9,"325557",0,0],[10,"198551",{slot:"01"},0],[12,"9456686",0,0],[13,"412536",0,0],[16,"107598",0,0],[19,"fcd19038264e801eb5b2f323e6a54caa",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[20,"9817047",0,0],[23,"11651867",0,0],[27,"11277176",0,0]]],11:[11,"FG 728x90 BTF","728x90",[],.5,2e3,0,{"gpt.adunit_regex":"FindAGrave/fg_728x90_btf"},[[2,"521832",{site:"110548"},0],[4,"538911245",0,0],[5,"11028268",0,0],[6,"809815",0,0],[8,"4234323",{network:"10240.1"},0],[9,"325556",0,0],[10,"198552",{slot:"02"},0],[12,"9456686",0,0],[13,"412536",0,0],[16,"107598",0,0],[19,"aefc11cded81cc84253be10754295f3f",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[20,"9817049",0,0],[23,"11651870",0,0]]],14:[14,"NP 300x250","300x250",[],.5,1e3,0,{"gpt.adunit_regex":"Newspapers/300x250_3rdparty"},[[2,"608996",{site:"128982"},0],[4,"538911246",0,0],[5,"11822498",0,0],[8,"4396324",{network:"10360.1"},0],[9,"432525",0,0],[12,"10067792",0,0],[16,"108637",0,0],[17,"a49ddbf1-986c-41f0-b726-42dd29957db3",0,0],[19,"be8f733be284418762fba726fe8b19fc",{hbid:"c558002f4fc24b4fa8e81a9025a2d38b"},0],[20,"10067919",0,0],[23,"11651879",0,0]]],15:[15,"NP 728x90","728x90",[],.5,1e3,0,{"gpt.adunit_regex":"Newspapers/728x90_3rdparty"},[[2,"608996",{site:"128982"},0],[4,"538911247",0,0],[5,"11822499",0,0],[8,"4396325",{network:"10360.1"},0],[9,"432526",0,0],[12,"10067793",0,0],[16,"108637",0,0],[17,"b36bf3a6-8d3e-417d-bbaa-c409425ba419",0,0],[19,"d366ca7f4d64f64ff72154ba0c4be187",{hbid:"c558002f4fc24b4fa8e81a9025a2d38b"},0],[20,"10067920",0,0],[23,"11651876",0,0]]],16:[16,"RW 300x250","300x250",[],.5,2e3,0,{"gpt.adunit_regex":"rootsweb.com/RW_300x250"},[[2,"608986",{site:"128980"},0],[4,"538911248",0,0],[5,"11822500",0,0],[6,"716058",0,0],[8,"4396326",{network:"10360.1"},0],[9,"432528",0,0],[10,"203710",{slot:"01"},0],[12,"10067794",0,0],[13,"593742",0,0],[16,"108636",0,0],[17,"cbdf9ed4-5c74-481a-923d-f4ae099c9d03",0,0],[20,"10949475",0,0],[27,"11282675",0,0]]],17:[17,"RW 160x600","160x600",[],.5,2e3,0,{"gpt.adunit_regex":"rootsweb.com/RW_160x600"},[[2,"608986",{site:"128980"},0],[4,"538911249",0,0],[5,"11822501",0,0],[6,"716057",0,0],[8,"4396327",{network:"10360.1"},0],[9,"432530",0,0],[10,"203711",{slot:"02"},0],[12,"10067796",0,0],[13,"593743",0,0],[16,"108636",0,0],[17,"8b66bc96-e784-4984-8ec1-3d545e4c6a1d",0,0],[20,"10949474",0,0],[27,"11282678",0,0]]],18:[18,"RW 728x90 ATF","728x90",[],.5,2e3,0,{"gpt.adunit_regex":"rootsweb.com/RW_728x90$"},[[2,"608986",{site:"128980"},0],[4,"538911250",0,0],[5,"11822502",0,0],[6,"716059",0,0],[8,"4396328",{network:"10360.1"},0],[9,"432527",0,0],[10,"203712",{slot:"03"},0],[12,"10067795",0,0],[13,"593740",0,0],[16,"108636",0,0],[17,"0d6c5395-4e2c-45d0-ad28-721875902599",0,0],[20,"10949476",0,0],[27,"11282676",0,0]]],19:[19,"RW 728x90 BTF","728x90",[],.5,2e3,0,{"gpt.adunit_regex":"rootsweb.com/RW_728x90_btf"},[[4,"538911251",0,0],[5,"11822503",0,0],[6,"817165",0,0],[8,"4493581",{network:"10360.1"},0],[9,"445052",0,0],[10,"203713",{slot:"04"},0],[12,"10972535",0,0],[13,"593741",0,0],[16,"108636",0,0],[17,"8e04d5db-b4b9-4b98-bb2a-0d2e43ab9bd4",0,0],[20,"10968718",0,0],[27,"11282677",0,0]]],20:[20,"FG New Sticky Right 300x250","300x250",[],.5,2e3,0,{"gpt.adunit_regex":"FindAGraveNEW/fg_300x250_stickyright"},[[2,"521832",{site:"110548"},0],[4,"538911242",0,0],[5,"11028248",0,0],[6,"809816",0,0],[8,"4493582",{network:"10240.1"},0],[9,"445113",0,0],[10,"198555",{slot:"05"},0],[12,"10972536",0,0],[16,"107598",0,0],[19,"b971516498690bb003a2bbebd47b7b06",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[20,"10970685",0,0],[23,"11651871",0,0]]],21:[21,"FG New Right 300x250","300x250",[],.5,2e3,0,{"gpt.adunit_regex":"FindAGraveNEW/fg_300x250_right"},[[2,"521832",{site:"110548"},0],[4,"538911241",0,0],[5,"11028238",0,0],[6,"716062",0,0],[8,"4234324",{network:"10240.1"},0],[9,"378816",0,0],[10,"198554",{slot:"04"},0],[12,"9456685",0,0],[13,"412497",0,0],[16,"107598",0,0],[19,"2f85eff0ca3e85a84473681c0e113cbe",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[20,"9817043",0,0],[23,"11651868",0,0],[27,"11277175",0,0]]],22:[22,"FG New Left 160x600","160x600",[],.5,2e3,0,{"gpt.adunit_regex":"FindAGraveNEW/fg_160x600_left"},[[2,"521832",{site:"110548"},0],[4,"538911243",0,0],[5,"11028226",0,0],[6,"716060",0,0],[8,"4234325",{network:"10240.1"},0],[9,"378811",0,0],[10,"198553",{slot:"03"},0],[12,"9456648",0,0],[13,"412535",0,0],[16,"107598",0,0],[19,"c809ad0ae9bf3180149cf837f83fae83",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[20,"9817045",0,0],[23,"11651869",0,0],[27,"11277177",0,0]]],23:[23,"FG New 728x90 Top","728x90",[],.5,2e3,0,{"gpt.adunit_regex":"FindAGraveNEW/fg_728x90_top"},[[2,"521832",{site:"110548"},0],[4,"538911244",0,0],[5,"11028261",0,0],[6,"716063",0,0],[8,"4234323",{network:"10240.1"},0],[9,"325557",0,0],[10,"198551",{slot:"01"},0],[12,"9456686",0,0],[13,"412536",0,0],[16,"107598",0,0],[19,"fcd19038264e801eb5b2f323e6a54caa",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[20,"9817047",0,0],[23,"11651867",0,0],[27,"11277176",0,0]]],24:[24,"FG New 728x90 Bottom","728x90",[],.5,2e3,0,{"gpt.adunit_regex":"FindAGraveNEW/fg_728x90_bottom"},[[2,"521832",{site:"110548"},0],[4,"538911245",0,0],[5,"11028268",0,0],[6,"809815",0,0],[8,"4234323",{network:"10240.1"},0],[9,"325556",0,0],[10,"198552",{slot:"02"},0],[12,"9456686",0,0],[13,"412536",0,0],[16,"107598",0,0],[19,"aefc11cded81cc84253be10754295f3f",{hbid:"15f9a8e69c664fe5820f612c02abd705"},0],[20,"9817049",0,0],[23,"11651870",0,0]]],25:[25,"Gene_ROS ATF 728x90","728x90",[],.5,2e3,0,{"gpt.adunit_regex":"genealogy.com/728x90_ROS"},[[2,"769942",{site:"158664"},0],[4,"539429795",0,0],[5,"12405490",0,0],[6,"1092744",0,0],[8,"4694590",{network:"10360.1"},0],[9,"529165",0,0],[10,"226492",{slot:"03"},0],[12,"12295456",0,0],[13,"333133",0,0],[16,"108605",0,0],[19,"a5d0a004fe227078f63b8935ad0623be",{hbid:"0f111e82f7f8409aaa13c92b4be4d12e"},0],[20,"12279259",0,0],[23,"12278508",0,0],[27,"12279220",0,0]]],26:[26,"Gene_ROS 300x250","300x250",[],.5,2e3,0,{"gpt.adunit_regex":"genealogy.com/300x250_ROS"},[[2,"769942",{site:"158664"},0],[4,"539429794",0,0],[5,"12405479",0,0],[6,"1092743",0,0],[8,"4694589",{network:"10360.1"},0],[9,"529164",0,0],[10,"226491",{slot:"02"},0],[12,"12295451",0,0],[13,"333217",0,0],[16,"108605",0,0],[19,"6f3365d73de959cd3432e2b61c2a7fcc",{hbid:"0f111e82f7f8409aaa13c92b4be4d12e"},0],[20,"12279258",0,0],[23,"12278507",0,0],[27,"12279212",0,0]]],27:[27,"Gene_ROS 160x600","160x600",[],.5,2e3,0,{"gpt.adunit_regex":"genealogy.com/160x600_ROS"},[[2,"769942",{site:"158664"},0],[4,"539429793",0,0],[5,"12405483",0,0],[6,"882061",0,0],[8,"4694588",{network:"10360.1"},0],[9,"529162",0,0],[10,"226490",{slot:"01"},0],[12,"12295451",0,0],[13,"333132",0,0],[16,"108605",0,0],[19,"814df0f0b28d5c63395765db888b27fa",{hbid:"0f111e82f7f8409aaa13c92b4be4d12e"},0],[20,"12279257",0,0],[23,"12278443",0,0],[27,"12279205",0,0]]],28:[28,"Gene_ROS BTF 728x90","728x90",[],.5,2e3,0,{"gpt.adunit_regex":"genealogy.com/728x90_bottom"},[[2,"769942",{site:"158664"},0],[4,"539429796",0,0],[5,"12405492",0,0],[6,"1092745",0,0],[8,"4694591",{network:"10360.1"},0],[9,"529166",0,0],[10,"226493",{slot:"04"},0],[12,"12295463",0,0],[13,"333218",0,0],[16,"108605",0,0],[19,"6ed70f845615a338ede78cd3c8a48def",{hbid:"0f111e82f7f8409aaa13c92b4be4d12e"},0],[20,"12279260",0,0],[23,"12278543",0,0],[27,"12279226",0,0]]]}},a=function(e,t,i){var n=t.mapping_rules;if(!n)return!1;for(var r in n){if(!n.hasOwnProperty(r))return;var a=n[r],d=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if("vp.max_width"==r&&d>a)return!1;if("vp.min_width"==r&&d<a)return!1;var o=e.get("gpt_slot"),s=o.getAdUnitPath(),c=e.get("gpt_sizes"),u=e.get("dom_id");if("lib"==r.substr(0,3)){var f=i[r.substr(4)];if("function"==typeof f&&f(o,s,c,u)!=a)return!1}if("gpt.adunit"==r&&a!=s)return!1;if("gpt.adunit_regex"==r&&!new RegExp(a).test(s))return!1;if("gpt.domid"==r&&a!=u)return!1;if("gpt.has_size"==r&&!c.match(a))return!1;if("gpt.no_size"==r&&c.match(a))return!1}return!0},d=function(e,t){return{id:t[0],alias:t[1],size:t[2],other_sizes:t[3]||[],min_cpm:t[4],max_ms:t[5],settings:t[6]||{},mapping_rules:t[7],bid_req_confs:t[8]}},o=function(e){return{bidder_id:e[0],bidder_unit_id:e[1],settings:e[2]||{},mutate:e[3]||!1}},s=function(e){return{bidder_id:e[0],settings:e[1]||{},mutate:e[2]||!1}},c={},u={},f={};window.AdBridg=window.AdBridg||{cmd:[]},window.AdBridg.global=function(e,t){if(void 0===t)return f[e];f[e]=t},i.getId=function(){return r.c},i.libSettings=function(){return r.s};var p=function(e,t){if(t.bid_req_confs&&t.bid_req_confs.length)for(var i=0;i<t.bid_req_confs.length;++i){var a=t.bid_req_confs[i],d=o(a);if(d){var s=u[String(d.bidder_id)];n.qsab(s,d.bidder_id)&&(e.addBidder(s,c[s]),e.addBidReqConf(s,d,r.s))}else n.err("Failed to decompile bidreq: ",a)}};i.configureUnit=function(e){for(var t in r.u)if(r.u.hasOwnProperty(t)){var i=d(0,r.u[t]);if(a(e,i,r.s))return e.configure(i),void p(e,i)}},i.units=function(e){n.each(r.u,function(t,i){e(d(0,t))})};var l=function(e,t,i){if(c[e])n.err("Duplicate bidder alias "+e);else{var r=s(i);r?(c[e]=new t(e,r.bidder_id,r.settings),c[e].alias=e,c[e].id=r.bidder_id,c[e].settings=r.settings,c[e].mutate=r.mutate||!1,u[String(r.bidder_id)]=e):n.err("No bidder info found for "+e)}},g=e("./adapters/komoona.js"),h=e("./adapters/bidfluence.js"),m=e("./adapters/conversant.js"),b=e("./adapters/pulsepoint.js"),v=e("./adapters/index.js"),_=e("./adapters/sovrn.js"),w=e("./adapters/aol.js"),x=e("./adapters/criteo.js"),y=e("./adapters/appnexusast.js"),B=e("./adapters/openx.js");l("rubicon",e("./adapters/rubicon.js"),[2,{adjust:.8,account:14544},0]),l("openx",B,[4,{delDomain:"ancestry-d.openx.net"},0]),l("appnexus",y,[5,0,0]),l("criteo",x,[6,{pubtag:"publishertag.js"},0]),l("aol",w,[8,{adjust:.8},0]),l("sovrn",_,[9,0,0]),l("index",v,[10,0,0]),l("cpxi",y,[12,{adjust:.9},0]),l("pulsepoint",b,[13,{network:"558161",test:!0},0]),l("conversant",m,[16,0,0]),l("bidfluence",h,[17,{pubId:"34ea6125-0ca6-4a2c-ad6d-678b8fc95f4a"},0]),l("komoona",g,[19,0,0]),l("districtm",y,[20,{adjust:.85},0]),l("imedia",y,[23,{adjust:.7},0]),l("neutrino",y,[27,{adjust:.8},0])},{"./adapters/aol.js":1,"./adapters/appnexusast.js":2,"./adapters/bidfluence.js":3,"./adapters/conversant.js":4,"./adapters/criteo.js":5,"./adapters/index.js":6,"./adapters/komoona.js":7,"./adapters/openx.js":8,"./adapters/pulsepoint.js":9,"./adapters/rubicon.js":10,"./adapters/sovrn.js":11,"./utils":19}],16:[function(e,t,i){var n=e("../utils.js"),r=e("../unit.js"),a=e("../auction.js"),d=e("../config.js"),o=e("../analytics.js"),s=e("../modules.js"),c=[],u=[],f={},p=!1,l=[],g={},h=[];if(!n.qs("adb_off")&&(window.googletag=window.googletag||{cmd:[]},window.AdBridg=window.AdBridg||{cmd:[]},!googletag||!googletag.cmd||googletag.cmd!==AdBridg.cmd)){AdBridg.exists=!0;var m=!0,b=d.libSettings().sra_if;(b&&!b()||d.libSettings().no_sra)&&(m=!1);var v={},_=function(e){if(e||(e=".05:.05-10"),!v[e]){v[e]=[];for(var t=e.split(","),i=0;i<t.length;++i){var n=t[i].split(":"),r=n[1].split("-"),a={increment:Math.round(100*parseFloat(n[0])),upper:Math.round(100*parseFloat(r[1])),final:!1};i==t.length-1&&(a.final=a.upper-a.increment),v[e].push(a)}}return v[e]},w=function(e,t){e=Math.round(100*e);for(var i=_(t),n=0;n<i.length;++n){var r=i[n];if(r.final&&e>=r.upper-r.increment)return{r:parseFloat(((r.final+r.increment)/100).toFixed(2)),kv:(r.final/100).toFixed(2)+"-"};if(!(e>=r.upper)){var a=Math.floor(e/r.increment)*r.increment/100,d=parseFloat((a+r.increment/100).toFixed(2)),o=d-.01;return{r:d,kv:Math.max(.01,a).toFixed(2)+"-"+o.toFixed(2)}}}},x=function(e){var t,i=[],n=e.getTargetingMap(),r=!1;for(var a in n)n.hasOwnProperty(a)&&("adb_"==a.substr(0,4)?r=!0:i.push([a,n[a]]));if(r)for(e.clearTargeting(),t=0;t<i.length;++t)e.setTargeting(i[t][0],i[t][1])},y=function(e){var t=d.libSettings().bid_strategy,i=e.getWinner(),r=e.get("gpt_slot");if(x(r),!i)return r.setTargeting("adb_bdr",["none"]),void s.trigger("gpt.no_hbc",e,r,function(e){return w(e,t)});g[i.id]=i;var a=i.config.bidder_name,o=i.cpm,c=w(o,t),u=c.kv;s.trigger("gpt.modify_hbc",e,r,{bid:i,range:c,mod:function(e){return o=e,c=w(o,t),u=c.kv,c}}),n.qs("adb_force_bidder")&&(a="force",u="");var f=d.libSettings().vs_threshold;f&&o>=f&&r.setTargeting("adb_vs","high"),r.setTargeting("adb_bdr",[a]),r.setTargeting("adb_hbc",[u]),r.setTargeting("adb_adid",[i.id]),n.log("Set GPT targeting for ",r.getAdUnitPath()," / ",r.getSlotElementId(),": ",a,u)},B=function(e,t,i){return n.wrapAsync(function(r){H("ra",function(){var a=[];r.eachUnit(function(e){try{y(e),a.push(e.get("gpt_slot"))}catch(t){n.err("Err setting unit ",e.alias,e.get("dom_id"),t)}}),k(a),"function"==typeof e&&e(r),(m||i)&&(U(),googletag.pubads().refresh(a,t),s.trigger("gpt.request_adbridg",r,i))})})},j=function(){if(l.length&&p){if(n.isdebug()){var e=[];n.each(l,function(t){e.push(t.getAdUnitPath()+" / "+t.getSlotElementId())}),n.log("Non-bid request with",l.length," units: ",e)}H("rp",function(){U(),k(l),googletag.pubads().refresh(l),s.trigger("gpt.request_passthrough",l),l=[]})}},A={},S={},k=function(e){n.each(e,function(e){var t=e.getSlotElementId(),i=(S[t]||0)+1;S[t]=i;var r=d.libSettings().track_imps;if(r)try{"string"!=typeof r&&(r="1:1-11"),imp_tracking=Math.floor(w(i,r).kv.split("-")[0]),e.setTargeting("adb_imp",imp_tracking)}catch(e){n.err("Counter failed: ",e)}})},R=function(e){var t=d.libSettings().max_imp_ctr;if(!t)return e;var i=[];return n.each(e,function(e){var r=e.getSlotElementId(),a=S[r]||0;a>=t?A[r]?n.log("Slot excluded; too many imps: ",e,a+" > "+t):(n.err("Slot imp max: ",e.getAdUnitPath(),r,t),A[r]=!0):i.push(e)}),i},E={},I=function(e){return E[e.getSlotElementId()]},T=function(e){n.log("Locked slot: ",e.getSlotElementId()),E[e.getSlotElementId()]=!0},z=function(e){n.log("Unlocked slot: ",e.getSlotElementId()),E[e.getSlotElementId()]=!1},C=n.wrapAsync(function(e){var t=[];return n.each(e,function(e){I(e)?n.err("Cannot refresh locked dom_id: ",e.getSlotElementId()):t.push(e)}),t}),q=function(e){var t=[];t=Number(e[0])==e[0]?[e]:[].concat(e);var i=[];if(n.each(t,function(e,n){"string"!=typeof e[n]?t[n]=e.join("x"):e[n].match(/^\d+x\d+$/)||i.push(n)}),i.length)for(var r=i.length-1;r>=0;--r)t.splice(r,1);return t};window.AdBridg.defineSlot=n.wrapAsync(function(e,t,i){var a=googletag.defineSlot(e,t,i);if(!a)return a;a.addService(googletag.pubads()),T(a);var d=q(t),o=d.join(","),s=new r({dom_id:i,gpt_slot:a,gpt_sizes:o});return s.restrictSizesTo(d),c.push(s),n.log("Defined slot: ",e,i,o),f[i]=o,a}),window.AdBridg.defineOutOfPageSlot=n.wrapAsync(function(e,t){var i=googletag.defineOutOfPageSlot(e,t);if(!i)return i;i.addService(googletag.pubads()),T(i);var a=new r({dom_id:t,gpt_slot:i,gpt_sizes:""});return c.push(a),n.log("Defined OOP slot: ",e,t),i}),window.AdBridg.display=n.wrapAsync(function(e){if(p=!0,!m){c.length&&(u=u.concat(c),c=[]);for(var t=u.length-1;t>=0;--t)if(u[t].get("dom_id")==e){c.push(u.splice(t,1)[0]);break}return c.length?void F(function(){H("dn",function(){U(),googletag.display(e),s.trigger("gpt.request_nosra",e)})}):void n.err("Display called for ",e," but no unit found")}H("ds",function(){U(),googletag.display(e)}),j()}),window.AdBridg.refresh=n.wrapAsync(function(e,t){if((e=C(e)).length){var i=new a,o="no_auction"!=d.libSettings().refresh;if((e=R(e)).length){var c=[],u=[];n.each(e,function(e){try{x(e)}catch(e){return n.err("Failed to clear slot: ",e)}T(e);var t=e.getSlotElementId(),a=f[t]||"",s=new r({dom_id:t,gpt_slot:e,gpt_sizes:a});s.restrictSizesTo(a.split(",")),o&&d.configureUnit(s),s.hasBidReqConf()?i.addUnit(s):(u.push(e.getAdUnitPath()+" / "+e.getSlotElementId()),c.push(e))}),c.length&&(n.log("Refreshing",c.length,"non-bid units: ",u),H("rn",function(){U(),k(c),googletag.pubads().refresh(c,t),s.trigger("gpt.request_passthrough",c,!0)})),i.hasUnit()&&(h.push(i),i.execute(B(null,t,!0)))}}}),window.AdBridg.render=n.wrapAsync(function(e,t){if(g[t]){var i=g[t];n.log("Unit ",i.config.unit.alias," rendering ",i.width+"x"+i.height," creative from ",i.config.bidder_name," BR ",i.config.id),o.bidRendered(i);var r={config:i.config.unit.alias,bidder:i.config.bidder_name,size:i.width+"x"+i.height,extras:i.extras},a=JSON.stringify(r);if(s.trigger("bid.render",i,r),i.creative){var c=d.libSettings().pubrenderfn,u=!1;"function"==typeof c&&(e.write("\x3c!-- AdBridg Delivery (ER): "+a+" --\x3e"),c(e,i.creative,i.config.bidder_name,i.width,i.height,i)?(u=!0,n.log("Creative rendered externally")):n.log("External render skipped")),u||(e.write("\x3c!-- AdBridg Delivery: "+a+" --\x3e"),e.write(i.creative),e.close())}else{if(!i.creative_url)return n.err("No creative from ",i.config.bidder_name," / ",i.config.bidder_unit_id);try{var f=n.iiframe();f.width=i.width,f.height=i.height,f.style.display="inline",f.style.overflow="hidden",f.src=i.creative_url,e.body.appendChild(document.createComment("AdBridg Delivery: "+a)),e.body.appendChild(f)}catch(e){n.err("Delivery failure from ",i.config.bidder_name," / ",i.config.bidder_unit_id,e)}}e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=i.width,e.defaultView.frameElement.height=i.height),n.resize_iframe(window,e,i.width,i.height);var p=d.libSettings().post_render;"function"==typeof p&&p(i)}else n.err("Render failed for ID ",t)});var N=[];window.AdBridg.sizeMapping=n.wrapAsync(function(){var e,t=[],i=googletag.sizeMapping(),r={addSize:n.wrapAsync(function(e,n){return i.addSize(e,n),t.push([e,n]),r}),build:n.wrapAsync(function(){return e=i.build(),N.push({gpt_map:e,sizes:t}),e})};return r}),window.AdBridg.useSizeMapping=n.wrapAsync(function(e,t){var i,r=!1;for(i=N.length-1;i>=0;--i)if(N[i].gpt_map===t){r=N[i].sizes;break}if(r){var a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),d=Math.max(document.documentElement.clientHeight,window.innerHeight||0),o=!1,s=[];for(i=r.length-1;i>=0;--i){var u=r[i][0];if(a>=u[0]&&d>=u[1]){if(o&&(o[0]>u[0]||o[1]>u[1]))continue;o=u,s=r[i][1]}}var p=q(s),l=p.join(",");f[e.getSlotElementId()]=l;var g=!1;for(i=c.length-1;i>=0;--i)if(c[i].get("gpt_slot")===e){g=c[i];break}if(!g)return n.err("No unit for size map: ",e.getSlotElementId(),e.getAdUnitPath());g.set("gpt_sizes",l),g.restrictSizesTo(p),l?n.log("Applied size mapping to ",e.getSlotElementId()," / ",e.getAdUnitPath(),": ",l):n.log("Excluding unit ",e.getSlotElementId()," / ",e.getAdUnitPath()," because it has no valid sizes")}else n.err("Size mapping not found: ",e.getSlotElementId(),e.getAdUnitPath())}),window.AdBridg.resetInternals=function(){};var O=!1,U=function(){if(!O){O=!0;var e=d.libSettings().before_gpt;"function"==typeof e&&n.wrapAsync(e)(),googletag.enableServices()}},F=n.wrapAsync(function(e){var t=!1;for(U();c.length;){var i=c.shift();d.configureUnit(i),i.hasBidReqConf()?(t||(t=new a),t.addUnit(i)):m?l.push(i.get("gpt_slot")):(k([i.get("gpt_slot")]),n.thread(e)())}t&&(h.push(t),t.execute(B(e)),t=!1),j()}),D=!1;window.AdBridg.serve=function(e){clearTimeout(D),m&&(D=setTimeout(function(){F(e)},100))};var P=n.wrapAsync(function(e){try{z(e.slot)}catch(e){n.err("Unlock failed")}var t=!1;s.trigger("gpt.render_raw",e);for(var i=h.length-1;i>=0;--i){var r=h[i];if(r.eachUnit(function(i){i.get("gpt_slot")===e.slot&&(t=!0,o.gptRendered(r,i,e),s.trigger("gpt.render",i,e),n.qdusp())}),t)return}}),M=[],G={};window.AdBridg.lock=function(e){if(G[e])return G[e]=null,n.log("-== GPT lock already cleared: ",e);n.log("-== GPT locked by: ",e),M.push(e)},window.AdBridg.unlock=function(e){for(var t=!1,i=0;i<M.length;++i)if(M[i]==e){n.log("-== GPT lock cleared: ",e),M.splice(i,1),t=!0;break}t||(G[e]=!0,n.log("-== GPT unrecognized lock cleared: ",e)),L()};var W=[],H=function(e,t){W.push({n:e,f:n.thread(t)}),L()},L=function(){if(!M.length)for(W.length;W.length;)W.shift().f()};n.isdebug()&&(AdBridg.auctions=h);var J=n.wrapAsync(function(){for(s.trigger("adb.init"),googletag.pubads().addEventListener("slotRenderEnded",P),AdBridg.cmd.push=function(e){setTimeout(function(){try{e.call()}catch(t){n.err("AdBridg.cmd had error: ",e,t)}},0)};AdBridg.cmd.length;){var e=AdBridg.cmd.shift();AdBridg.cmd.push(e)}});googletag.cmd.push(function(){googletag.kcl&&"a"!=googletag.kcl.$header||(n.log("Initializing. SRA is",(m?"enabled":"disabled")+"."),m&&(googletag.pubads().enableSingleRequest(),googletag.pubads().disableInitialLoad()),J())})}},{"../analytics.js":13,"../auction.js":14,"../config.js":15,"../modules.js":17,"../unit.js":18,"../utils.js":19}],17:[function(e,t,i){var n=e("./utils.js"),r={};i.trigger=n.wrapAsync(function(e){var t=arguments;n.each(r[e]||[],n.wrapAsync(function(e){e.apply(null,t)}))})},{"./utils.js":19}],18:[function(e,t,i){var n=e("./utils"),r=e("./analytics"),a=e("./modules");t.exports=function(e){this.id=0,this.alias="",this.size="",this.other_sizes=[],this.min_cpm=0,this.max_ms=0,this.settings={},this.unique_id=n.genID("U"),this.auction=!1,this.all_sizes=[];var t=this,i={},d={},o=0,s={},c={},u=!1,f=!1,p=!1,l=!1,g=!1;this.init=function(){e&&t.set(e)},this.restrictSizesTo=function(e){g=e},this.configure=function(e){for(var i in e){if("unique_id"==i||"auction"==i)return;t.hasOwnProperty(i)&&"function"!=typeof t[i]&&(t[i]=e[i])}t.all_sizes=[t.size].concat(t.other_sizes),n.qs("adb_force_bidder")&&(t.min_cpm=0)},this.addBidder=function(e,t){c[e]=t},this.eachBidder=function(e){for(var t in c)c.hasOwnProperty(t)&&e(t,c[t])},this.hasBidReqConf=function(){return o>0},this.addBidReqConf=function(e,r,a){var s,u={id:n.genID("BR"),unit:t,adjust:1,bidder_name:e,bidder_id:r.bidder_id,bidder_unit_id:r.bidder_unit_id,min_cpm:t.min_cpm,size:t.size,other_sizes:t.other_sizes,all_sizes:[],responses:[],late_responses:[],test:r.test};for(s in t.settings)t.settings.hasOwnProperty(s)&&(u[s]=t.settings[s]);for(s in r.settings)r.settings.hasOwnProperty(s)&&(u[s]=r.settings[s]);for(s in c[e].settings)c[e].settings.hasOwnProperty(s)&&(u[s]=c[e].settings[s]);var f=[],p=!1;if(r.mutate&&f.push({n:"BidReq",f:r.mutate}),c[e].mutate&&f.push({n:"Bidder",f:c[e].mutate}),n.each(f,function(e){e.f(u,a)||(p=!0,n.log(e.n+" mutate rejected BR: ",u))}),!p)if(!u.test||n.qsab(e,u.bidder_id,!0)){if(r.settings.size?u.other_sizes=[]:"string"==typeof u.other_sizes&&(u.other_sizes=u.other_sizes?u.other_sizes.split(","):[]),g){var l=[];g.indexOf(u.size)>=0&&l.push(u.size);for(var h=0;h<u.other_sizes.length;++h){var m=u.other_sizes[h];g.indexOf(m)>=0&&l.push(m)}if(!l.length)return void(g.length&&n.log("Unit ",t.alias," skipped configuration for ",u.bidder_name," because it does not support any of these sizes: ",g));u.size=l[0],u.other_sizes=l.slice(1)}u.all_sizes=[u.size].concat(u.other_sizes),i[e]||(i[e]={}),i[e][r.bidder_unit_id]=u,d[u.id]=u,++o}else n.log("Test configuration skipped: ",u)},this.eachBidReqConf=function(e,t){"function"==typeof e&&(t=e,e=!1),e?n.each(i[e],t):n.each(d,t)},this.getBidReqConf=function(e){return d[e]||!1},this.set=function(e,i){if("object"!=typeof e)s[e]=i;else for(var n in e)e.hasOwnProperty(n)&&t.set(n,e[n])},this.get=function(e){return s[e]},this.halt=function(){f=!0},this.onReady=function(e){p=e,h()};var h=function(){l&&p&&setTimeout(function(){p(t)},0)},m=function(){if(!f){for(var e in d){var t=d[e];if(t.responses&&!t.responses.length)return}l=!0,h()}};this.markEmpty=function(e){t.eachBidReqConf(e,function(e){e.responses.length||t.addEmptyBid(e)})},this.addEmptyBid=function(e){if("number"==typeof e||"string"==typeof e){var i=e;if(!(e=d[i]))return void n.err("Could not find bid req: ",i)}e.responses.length||f&&e.late_responses.length||t.addBid(e,{})};var b=function(e,t){return e._bid_cpm==t._bid_cpm&&e.width==t.width&&e.height==t.height&&e.creative==t.creative},v=function(e,t){var i;for(i=0;i<e.responses.length;++i)if(b(t,e.responses[i]))return!0;for(i=0;i<e.late_responses.length;++i)if(b(t,e.late_responses[i]))return!0;return!1};this.addBid=function(e,i){if(!e||!t.getBidReqConf(e.id))return n.err("Bid request from ",e.bidder_name,"not found on unit",t.id),!1;var d=Number(parseFloat(i.cpm).toFixed(2))||0,o=Number(i.width)||0,s=Number(i.height)||0,c=i.creative||"",p=i.creative_url||"",l=i.extras||{};d||(i.empty=!0);var h=Number((d*e.adjust).toFixed(2));t.min_cpm>0&&h<t.min_cpm&&(h=0);var b=n.dts(),_={id:t.id+"."+n.genID("B"),ms:Math.round(b-t.auction.ts),ts:b,config:e,viable:!f,cpm:h,_min_cpm:t.min_cpm,_bid_cpm:d,width:o,height:s,creative:c,creative_url:p,extras:l};if(v(e,_))return n.log("Unit ",t.alias,"ignored duplicate bid from ",e.bidder_name," on BR ",e.id,": ",_.ms,_.width+"x"+_.height,_.cpm.toFixed(2)),!1;if(_.cpm&&g&&-1==g.indexOf(o+"x"+s))return n.err("U",t.id," B",e.bidder_id+"."+e.bidder_unit_id," invalid size: ",o+"x"+s," not in ",g),n.log("Invalid: ",t,_),!1;var w=_.viable?"":"late ";if(!_.cpm&&_._bid_cpm>0?w+="below-floor ("+_._bid_cpm+" < "+_._min_cpm+") ":i.empty&&(w+="empty "),n.log("Unit ",t.alias,"got",w+"bid from ",e.bidder_name," on BR ",e.id,": ",_.ms,_.width+"x"+_.height,_.cpm.toFixed(2)),a.trigger("bid.ready",_),!_.viable)return e.late_responses.push(_),r.lateBid(_),_;if(e.responses.push(_),_.cpm&&(!u||_.cpm>u.cpm||_.cpm==u.cpm&&Math.random()>.5)){u=_,n.log("Unit ",t.alias,"set winner to ",u.config.bidder_name,_.width+"x"+_.height,_.cpm.toFixed(2));try{var x=function(e){"string"==typeof _[e]&&(_[e]=_[e].replace(/\$\{AUCTION_PRICE\}/g,_.cpm))};x("creative"),x("creative_url")}catch(e){n.err("Macro failed: ",e)}}return m(),_},this.getWinner=function(){return u},this.init()}},{"./analytics":13,"./modules":17,"./utils":19}],19:[function(e,t,i){i.wrapAsync=function(e){return function(){try{return e.apply(this,arguments)}catch(e){i.err("Caught AsyncErr: ",e)}}},i.thread=function(e){return e=i.wrapAsync(e),function(){var t=arguments;setTimeout(function(){e.apply(this,t)},0)}},i.attempt=function(e,t){try{return e()}catch(e){}return t};var n,r=1,a=function(e){return e||(e=document.readyState),{loading:1,interactive:2,complete:3}[e]||0},d=(new Date).getTime(),o=function(){try{d-=Math.round(performance.now()),o=function(){return a()+"T"+Math.round(performance.now()).toString(36)},n=[r,d.toString(36),o()]}catch(e){o=function(){return a()+"T"+Math.max(0,(new Date).getTime()-d).toString(36)},n=[r=0,d.toString(36),a()+"T0"]}};o(),document.addEventListener?document.addEventListener("readystatechange",function(){3==a()&&document.removeEventListener("readystatechange",arguments.callee),n.push(o())},!1):document.attachEvent&&document.attachEvent("onreadystatechange",function(){3==a()&&document.detachEvent("onreadystatechange",arguments.callee),n.push(o())}),i.perfts=function(){return o()},i.pgts=function(){return n},i.dts=function(){return r?Number(performance.now().toFixed(2)):Number(Math.max(0,(new Date).getTime()-d).toFixed(2))};var s=0;i.genID=function(e){return(e||"")+ ++s+Math.random().toString(16).substr(2)},i.genUUID=function(e){try{return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,i.genUUID)}catch(e){return 0}},i.qs=function(e){var t=new RegExp(e+"=([^&]+)");return(String(window.location.search).match(t)||[]).pop()};var c=i.qs("adb_force_bidder"),u=i.qs("adb_allow_bidder"),f=[];c&&"*"!=c&&(f=f.concat(c.split(","))),u&&"*"!=u&&(f=f.concat(u.split(","))),i.qsab=function(e,t,i){return t=String(t),"*"==u||"*"==c||(i?f.indexOf(t)>=0||f.indexOf(e)>=0:!c||(f.indexOf(t)>=0||f.indexOf(e)>=0))},i.qsappend=function(e,t){return t?"&"+e+"="+t:""},i.toqs=function(e){var t="";return i.each(e,function(e,n){t+=i.qsappend(n,e)}),t.replace(/^\&/,"")},i.each=function(e,t){if(e&&0!==e.length)if(e.length)for(var i=0;i<e.length;++i)t(e[i],i);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},i.resize_element=function(e,t,i){e.style.width&&String(e.style.width).replace("px","")!=t&&(e.style.width=t+"px"),e.style.height&&String(e.style.height).replace("px","")!=i&&(e.style.height=i+"px"),e.getAttribute("width")&&e.getAttribute("width")!=t&&e.setAttribute("width",t),e.getAttribute("height")&&e.getAttribute("height")!=i&&e.setAttribute("height",i)},i.resize_iframe=function(e,t,n,r){try{for(var a=e.document.getElementsByTagName("iframe")||[],d=0;d<a.length;++d)try{if(a[d].contentDocument===t)return i.resize_element(a[d],n,r),void(e!==top&&i.resize_iframe(e.parent,e.document,n,r))}catch(e){}}catch(e){i.err("Error resizing window to "+n+"x"+r,e)}i.err("Failed to resize window to "+n+"x"+r)},i.url=function(){var e,t,i,n,r=top,a=window,d=document;try{e=r.location.host,t=r.location.pathname+r.location.search+r.location.hash,href=r.location.href,i=r.document.referrer,n=r.document.title}catch(r){try{e=(String(d.referrer).match(/^[^\/]+\/\/([^\/]+)/)||[]).pop(),t=(String(d.referrer).match(/^[^\/]+\/\/[^\/]+(\/.+)$/)||[]).pop(),href=d.referrer,i="",n=""}catch(e){}}return e&&t||(e=a.location.host,t=a.location.pathname+a.location.search+a.location.hash,href=a.location.href,i=d.referrer),{domain:e,page:t,href:href,referrer:i,title:n}},i.pixel=function(e){document.createElement("img").src=e+"&rnd="+Math.random()},i.pixelh=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(e)+'"></div>':""},i.pixelf=function(e,t,n){return e?(t&&(e=encodeURI(e)),"<iframe "+(n=n?'sandbox="'+n+'"':"")+' id="'+i.genID("IPF")+'" src="'+e+'" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" scrolling="no"></iframe>'):""};var p=[];i.uspf=i.wrapAsync(function(e){p.push({t:"i",u:e})});var l;i.qdusp=function(){clearTimeout(l),l=setTimeout(i.wrapAsync(function(){for(;p.length;){var e=p.shift();if("i"==e.t){var t=document.createElement("div");t.innerHTML=i.pixelf(e.u,!1,"allow-scripts allow-same-origin"),document.body.appendChild(t.firstChild)}}}),500)};var g={};i.load=function(e,t,n){if(t=t?i.thread(t):function(){},n&&g[e])g[e].ready?t():g[e].cbs.push(t);else{n&&(g[e]||(g[e]={ready:!1,cbs:[t]}),t=function(){g[e].ready=!0,i.each(g[e].cbs,function(e){e()})});var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,t())}:r.onload=t,r.src=e;var a=document.body||document.head;a.appendChild(r,a.firstChild)}},i.loadCached=function(e,t){i.load(e,t,!0)},i.iiframe=function(e){var t=document.createElement("iframe");return t.id=i.genID("IIF"),t.height=0,t.width=0,t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t.src=void 0===e?"about:blank":e,t.style.display="none",t},i.isarr=function(e){return"[object Array]"===Object.prototype.toString.call(e)};var h=i.qs("adb_debug")||document.cookie.match("adb_debug");h&&(document.cookie="adb_debug=1;path=/;domain=."+location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1")),i.isdebug=function(){return h},i.log=function(){if(h){var e=Array.prototype.slice.apply(arguments);e.unshift("AdBridg | "+i.dts().toFixed(2)),console.log.apply(console,e)}};var m=!1;i.err=function(){if(h){var e=Array.prototype.slice.apply(arguments);e.unshift("AdBridg | "+i.dts().toFixed(2)+" | ERROR: "),console.log.apply(console,e)}m&&m.apply(null,arguments)},i.onerr=function(e){m=i.thread(e)}},{}]},{},[16]);